{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { Row } from '../models/row';\nimport { isNullOrUndefined, extend, setValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { getForeignData, getUid } from '../../grid/base/util';\n/**\n * GroupModelGenerator is used to generate group caption rows and data rows.\n *\n * @hidden\n */\nvar GroupModelGenerator = /** @class */function (_super) {\n  __extends(GroupModelGenerator, _super);\n  function GroupModelGenerator(parent) {\n    var _this = _super.call(this, parent) || this;\n    _this.rows = [];\n    /** @hidden */\n    _this.index = 0;\n    _this.infiniteChildCount = 0;\n    _this.renderInfiniteAgg = true;\n    _this.parent = parent;\n    _this.summaryModelGen = new GroupSummaryModelGenerator(parent);\n    _this.captionModelGen = new CaptionSummaryModelGenerator(parent);\n    return _this;\n  }\n  GroupModelGenerator.prototype.generateRows = function (data, args) {\n    if (this.parent.groupSettings.columns.length === 0) {\n      return _super.prototype.generateRows.call(this, data, args);\n    }\n    this.isInfiniteScroll = args.requestType === 'infiniteScroll';\n    this.rows = [];\n    this.index = this.parent.enableVirtualization || this.isInfiniteScroll ? args.startIndex : 0;\n    for (var i = 0, len = data.length; i < len; i++) {\n      this.infiniteChildCount = 0;\n      this.renderInfiniteAgg = true;\n      this.getGroupedRecords(0, data[i], data.level, i, undefined, this.rows.length);\n    }\n    this.index = 0;\n    if (this.parent.isCollapseStateEnabled()) {\n      this.ensureRowVisibility();\n    }\n    return this.rows;\n  };\n  GroupModelGenerator.prototype.getGroupedRecords = function (index, data, raw, parentid, childId, tIndex, parentUid) {\n    var _a;\n    var level = raw;\n    if (isNullOrUndefined(data.items)) {\n      if (isNullOrUndefined(data.GroupGuid)) {\n        this.rows = this.rows.concat(this.generateDataRows(data, index, parentid, this.rows.length, parentUid));\n      } else {\n        for (var j = 0, len = data.length; j < len; j++) {\n          this.getGroupedRecords(index, data[j], data.level, parentid, index, this.rows.length, parentUid);\n        }\n      }\n    } else {\n      var preCaption = void 0;\n      var captionRow = this.generateCaptionRow(data, index, parentid, childId, tIndex, parentUid);\n      if (this.isInfiniteScroll) {\n        preCaption = this.getPreCaption(index, captionRow.data.key);\n      }\n      if (!preCaption) {\n        this.rows = this.rows.concat(captionRow);\n      } else {\n        captionRow.uid = preCaption.uid;\n      }\n      if (data.items && data.items.length) {\n        this.getGroupedRecords(index + 1, data.items, data.items.level, parentid, index + 1, this.rows.length, captionRow.uid);\n      }\n      if (this.parent.aggregates.length && this.isRenderAggregate(captionRow)) {\n        var rowCnt = this.rows.length;\n        (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, {\n          level: level,\n          parentUid: captionRow.uid\n        }));\n        for (var i = rowCnt - 1; i >= 0; i--) {\n          if (this.rows[i].isCaptionRow) {\n            this.rows[i].aggregatesCount = this.rows.length - rowCnt;\n          } else if (!this.rows[i].isCaptionRow && !this.rows[i].isDataRow) {\n            break;\n          }\n        }\n      }\n      if (preCaption) {\n        this.setInfiniteRowVisibility(preCaption);\n      }\n    }\n  };\n  GroupModelGenerator.prototype.isRenderAggregate = function (data) {\n    if (this.parent.enableInfiniteScrolling) {\n      if (!this.renderInfiniteAgg) {\n        return false;\n      }\n      this.getPreCaption(data.indent, data.data.key);\n      this.renderInfiniteAgg = data.data.count === this.infiniteChildCount;\n      return this.renderInfiniteAgg;\n    }\n    return !this.parent.enableInfiniteScrolling;\n  };\n  GroupModelGenerator.prototype.getPreCaption = function (indent, key) {\n    var rowObj = this.parent.getRowsObject().concat(this.rows);\n    var preCap;\n    this.infiniteChildCount = 0;\n    var i = rowObj.length;\n    while (i--) {\n      if (rowObj[i].isCaptionRow && rowObj[i].indent === indent && rowObj[i].data.key === key) {\n        preCap = rowObj[i];\n      }\n      if (rowObj[i].indent === indent || rowObj[i].indent < indent) {\n        break;\n      }\n      if (rowObj[i].indent === indent + 1) {\n        this.infiniteChildCount++;\n      }\n    }\n    return preCap;\n  };\n  GroupModelGenerator.prototype.getCaptionRowCells = function (field, indent, data) {\n    var cells = [];\n    var visibles = [];\n    var column = this.parent.getColumnByField(field);\n    var indexes = this.parent.getColumnIndexesInView();\n    if (this.parent.enableColumnVirtualization) {\n      column = this.parent.columns.filter(function (c) {\n        return c.field === field;\n      })[0];\n    }\n    var groupedLen = this.parent.groupSettings.columns.length;\n    var gObj = this.parent;\n    if (!this.parent.enableColumnVirtualization || indexes.indexOf(indent) !== -1) {\n      for (var i = 0; i < indent; i++) {\n        cells.push(this.generateIndentCell());\n      }\n      cells.push(this.generateCell({}, null, CellType.Expand));\n    }\n    indent = this.parent.enableColumnVirtualization ? 1 : this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) - indent + (this.parent.getVisibleColumns().length ? -1 : 0);\n    //Captionsummary cells will be added here.\n    if (this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {\n      var captionCells = this.captionModelGen.generateRows(data)[0];\n      extend(data, captionCells.data);\n      var cIndex_1 = 0;\n      captionCells.cells.some(function (cell, index) {\n        cIndex_1 = index;\n        return cell.visible && cell.isDataCell;\n      });\n      visibles = captionCells.cells.slice(cIndex_1).filter(function (cell) {\n        return cell.visible;\n      });\n      if (captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field) {\n        visibles = visibles.slice(1);\n      }\n      if (this.parent.getVisibleColumns().length === 1) {\n        visibles = [];\n      }\n      indent = indent - visibles.length;\n    }\n    var cols = !this.parent.enableColumnVirtualization ? [column] : this.parent.getColumns();\n    var wFlag = true;\n    for (var j = 0; j < cols.length; j++) {\n      var tmpFlag = wFlag && indexes.indexOf(indent) !== -1;\n      if (tmpFlag) {\n        wFlag = false;\n      }\n      var cellType = !this.parent.enableColumnVirtualization || tmpFlag ? CellType.GroupCaption : CellType.GroupCaptionEmpty;\n      indent = this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent;\n      if (gObj.isRowDragable()) {\n        indent++;\n      }\n      cells.push(this.generateCell(column, null, cellType, indent));\n    }\n    cells.push.apply(cells, visibles);\n    return cells;\n  };\n  /**\n   * @param {GroupedData} data - specifies the data\n   * @param {number} indent - specifies the indent\n   * @param {number} parentID - specifies the parentID\n   * @param {number} childID - specifies the childID\n   * @param {number} tIndex - specifies the TIndex\n   * @param {string} parentUid - specifies the ParentUid\n   * @returns {Row<Column>} returns the Row object\n   * @hidden\n   */\n  GroupModelGenerator.prototype.generateCaptionRow = function (data, indent, parentID, childID, tIndex, parentUid) {\n    var options = {};\n    var records = 'records';\n    var col = this.parent.getColumnByField(data.field);\n    options.data = extend({}, data);\n    if (col) {\n      options.data.field = data.field;\n    }\n    options.isDataRow = false;\n    options.isExpand = !this.parent.groupSettings.enableLazyLoading && !this.parent.isCollapseStateEnabled();\n    options.parentGid = parentID;\n    options.childGid = childID;\n    options.tIndex = tIndex;\n    options.isCaptionRow = true;\n    options.parentUid = parentUid;\n    options.gSummary = !isNullOrUndefined(data.items[records]) ? data.items[records].length : data.items.length;\n    options.uid = getUid('grid-row');\n    var row = new Row(options);\n    row.indent = indent;\n    this.getForeignKeyData(row);\n    row.cells = this.getCaptionRowCells(data.field, indent, row.data);\n    return row;\n  };\n  GroupModelGenerator.prototype.getForeignKeyData = function (row) {\n    var data = row.data;\n    var col = this.parent.getColumnByField(data.field);\n    if (col && col.isForeignColumn && col.isForeignColumn()) {\n      var fkValue = isNullOrUndefined(data.key) ? '' : col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col);\n      setValue('foreignKey', fkValue, row.data);\n    }\n  };\n  /**\n   * @param {Object[]} data - specifies the data\n   * @param {number} indent - specifies the indent\n   * @param {number} childID - specifies the childID\n   * @param {number} tIndex - specifies the tIndex\n   * @param {string} parentUid - specifies the ParentUid\n   * @returns {Row<Column>[]} returns the row object\n   * @hidden\n   */\n  GroupModelGenerator.prototype.generateDataRows = function (data, indent, childID, tIndex, parentUid) {\n    var rows = [];\n    var indexes = this.parent.getColumnIndexesInView();\n    for (var i = 0, len = data.length; i < len; i++, tIndex++) {\n      rows[i] = this.generateRow(data[i], this.index, i ? undefined : 'e-firstchildrow', indent, childID, tIndex, parentUid);\n      for (var j = 0; j < indent; j++) {\n        if (this.parent.enableColumnVirtualization && indexes.indexOf(indent) === -1) {\n          continue;\n        }\n        rows[i].cells.unshift(this.generateIndentCell());\n      }\n      this.index++;\n    }\n    return rows;\n  };\n  GroupModelGenerator.prototype.generateIndentCell = function () {\n    return this.generateCell({}, null, CellType.Indent);\n  };\n  GroupModelGenerator.prototype.refreshRows = function (input) {\n    var indexes = this.parent.getColumnIndexesInView();\n    for (var i = 0; i < input.length; i++) {\n      if (input[i].isDataRow) {\n        input[i].cells = this.generateCells(input[i]);\n        for (var j = 0; j < input[i].indent; j++) {\n          if (this.parent.enableColumnVirtualization && indexes.indexOf(input[i].indent) === -1) {\n            continue;\n          }\n          input[i].cells.unshift(this.generateIndentCell());\n        }\n      } else {\n        var cRow = this.generateCaptionRow(input[i].data, input[i].indent);\n        input[i].cells = cRow.cells;\n      }\n    }\n    return input;\n  };\n  GroupModelGenerator.prototype.setInfiniteRowVisibility = function (caption) {\n    if (!caption.isExpand || caption.visible === false) {\n      for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n        var row = _a[_i];\n        if (row.parentUid === caption.uid) {\n          row.visible = false;\n          if (row.isCaptionRow) {\n            this.setInfiniteRowVisibility(row);\n          }\n        }\n      }\n    }\n  };\n  GroupModelGenerator.prototype.ensureRowVisibility = function () {\n    for (var i = 0; i < this.rows.length; i++) {\n      var row = this.rows[i];\n      if (!row.isCaptionRow) {\n        continue;\n      }\n      for (var j = i + 1; j < this.rows.length; j++) {\n        var childRow = this.rows[j];\n        if (row.uid === childRow.parentUid) {\n          this.rows[j].visible = row.isExpand;\n        }\n      }\n    }\n  };\n  return GroupModelGenerator;\n}(RowModelGenerator);\nexport { GroupModelGenerator };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Row","isNullOrUndefined","extend","setValue","CellType","RowModelGenerator","GroupSummaryModelGenerator","CaptionSummaryModelGenerator","getForeignData","getUid","GroupModelGenerator","_super","parent","_this","call","rows","index","infiniteChildCount","renderInfiniteAgg","summaryModelGen","captionModelGen","generateRows","data","args","groupSettings","columns","length","isInfiniteScroll","requestType","enableVirtualization","startIndex","i","len","getGroupedRecords","level","undefined","isCollapseStateEnabled","ensureRowVisibility","raw","parentid","childId","tIndex","parentUid","_a","items","GroupGuid","concat","generateDataRows","j","preCaption","captionRow","generateCaptionRow","getPreCaption","key","uid","aggregates","isRenderAggregate","rowCnt","push","apply","isCaptionRow","aggregatesCount","isDataRow","setInfiniteRowVisibility","enableInfiniteScrolling","indent","count","rowObj","getRowsObject","preCap","getCaptionRowCells","field","cells","visibles","column","getColumnByField","indexes","getColumnIndexesInView","enableColumnVirtualization","filter","c","groupedLen","gObj","indexOf","generateIndentCell","generateCell","Expand","getVisibleColumns","detailTemplate","childGrid","isEmpty","captionCells","cIndex_1","some","cell","visible","isDataCell","slice","cols","getColumns","wFlag","tmpFlag","cellType","GroupCaption","GroupCaptionEmpty","isRowDragable","parentID","childID","options","records","col","isExpand","enableLazyLoading","parentGid","childGid","gSummary","row","getForeignKeyData","isForeignColumn","fkValue","valueAccessor","foreignKeyValue","generateRow","unshift","Indent","refreshRows","input","generateCells","cRow","caption","_i","childRow"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/services/group-model-generator.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { isNullOrUndefined, extend, setValue } from '@syncfusion/ej2-base';\nimport { CellType } from '../base/enum';\nimport { RowModelGenerator } from '../services/row-model-generator';\nimport { GroupSummaryModelGenerator, CaptionSummaryModelGenerator } from '../services/summary-model-generator';\nimport { getForeignData, getUid } from '../../grid/base/util';\n/**\n * GroupModelGenerator is used to generate group caption rows and data rows.\n *\n * @hidden\n */\nvar GroupModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupModelGenerator, _super);\n    function GroupModelGenerator(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.rows = [];\n        /** @hidden */\n        _this.index = 0;\n        _this.infiniteChildCount = 0;\n        _this.renderInfiniteAgg = true;\n        _this.parent = parent;\n        _this.summaryModelGen = new GroupSummaryModelGenerator(parent);\n        _this.captionModelGen = new CaptionSummaryModelGenerator(parent);\n        return _this;\n    }\n    GroupModelGenerator.prototype.generateRows = function (data, args) {\n        if (this.parent.groupSettings.columns.length === 0) {\n            return _super.prototype.generateRows.call(this, data, args);\n        }\n        this.isInfiniteScroll = (args.requestType === 'infiniteScroll');\n        this.rows = [];\n        this.index = this.parent.enableVirtualization || this.isInfiniteScroll ? args.startIndex : 0;\n        for (var i = 0, len = data.length; i < len; i++) {\n            this.infiniteChildCount = 0;\n            this.renderInfiniteAgg = true;\n            this.getGroupedRecords(0, data[i], data.level, i, undefined, this.rows.length);\n        }\n        this.index = 0;\n        if (this.parent.isCollapseStateEnabled()) {\n            this.ensureRowVisibility();\n        }\n        return this.rows;\n    };\n    GroupModelGenerator.prototype.getGroupedRecords = function (index, data, raw, parentid, childId, tIndex, parentUid) {\n        var _a;\n        var level = raw;\n        if (isNullOrUndefined(data.items)) {\n            if (isNullOrUndefined(data.GroupGuid)) {\n                this.rows = this.rows.concat(this.generateDataRows(data, index, parentid, this.rows.length, parentUid));\n            }\n            else {\n                for (var j = 0, len = data.length; j < len; j++) {\n                    this.getGroupedRecords(index, data[j], data.level, parentid, index, this.rows.length, parentUid);\n                }\n            }\n        }\n        else {\n            var preCaption = void 0;\n            var captionRow = this.generateCaptionRow(data, index, parentid, childId, tIndex, parentUid);\n            if (this.isInfiniteScroll) {\n                preCaption = this.getPreCaption(index, captionRow.data.key);\n            }\n            if (!preCaption) {\n                this.rows = this.rows.concat(captionRow);\n            }\n            else {\n                captionRow.uid = preCaption.uid;\n            }\n            if (data.items && data.items.length) {\n                this.getGroupedRecords(index + 1, data.items, data.items.level, parentid, index + 1, this.rows.length, captionRow.uid);\n            }\n            if (this.parent.aggregates.length && this.isRenderAggregate(captionRow)) {\n                var rowCnt = this.rows.length;\n                (_a = this.rows).push.apply(_a, this.summaryModelGen.generateRows(data, { level: level, parentUid: captionRow.uid }));\n                for (var i = rowCnt - 1; i >= 0; i--) {\n                    if (this.rows[i].isCaptionRow) {\n                        this.rows[i].aggregatesCount = this.rows.length - rowCnt;\n                    }\n                    else if (!this.rows[i].isCaptionRow && !this.rows[i].isDataRow) {\n                        break;\n                    }\n                }\n            }\n            if (preCaption) {\n                this.setInfiniteRowVisibility(preCaption);\n            }\n        }\n    };\n    GroupModelGenerator.prototype.isRenderAggregate = function (data) {\n        if (this.parent.enableInfiniteScrolling) {\n            if (!this.renderInfiniteAgg) {\n                return false;\n            }\n            this.getPreCaption(data.indent, data.data.key);\n            this.renderInfiniteAgg = data.data.count === this.infiniteChildCount;\n            return this.renderInfiniteAgg;\n        }\n        return !this.parent.enableInfiniteScrolling;\n    };\n    GroupModelGenerator.prototype.getPreCaption = function (indent, key) {\n        var rowObj = this.parent.getRowsObject().concat(this.rows);\n        var preCap;\n        this.infiniteChildCount = 0;\n        var i = rowObj.length;\n        while (i--) {\n            if (rowObj[i].isCaptionRow && rowObj[i].indent === indent\n                && rowObj[i].data.key === key) {\n                preCap = rowObj[i];\n            }\n            if (rowObj[i].indent === indent || rowObj[i].indent < indent) {\n                break;\n            }\n            if (rowObj[i].indent === indent + 1) {\n                this.infiniteChildCount++;\n            }\n        }\n        return preCap;\n    };\n    GroupModelGenerator.prototype.getCaptionRowCells = function (field, indent, data) {\n        var cells = [];\n        var visibles = [];\n        var column = this.parent.getColumnByField(field);\n        var indexes = this.parent.getColumnIndexesInView();\n        if (this.parent.enableColumnVirtualization) {\n            column = this.parent.columns.filter(function (c) { return c.field === field; })[0];\n        }\n        var groupedLen = this.parent.groupSettings.columns.length;\n        var gObj = this.parent;\n        if (!this.parent.enableColumnVirtualization || indexes.indexOf(indent) !== -1) {\n            for (var i = 0; i < indent; i++) {\n                cells.push(this.generateIndentCell());\n            }\n            cells.push(this.generateCell({}, null, CellType.Expand));\n        }\n        indent = this.parent.enableColumnVirtualization ? 1 :\n            (this.parent.getVisibleColumns().length + groupedLen + (gObj.detailTemplate || gObj.childGrid ? 1 : 0) -\n                indent + (this.parent.getVisibleColumns().length ? -1 : 0));\n        //Captionsummary cells will be added here.\n        if (this.parent.aggregates.length && !this.captionModelGen.isEmpty()) {\n            var captionCells = this.captionModelGen.generateRows(data)[0];\n            extend(data, captionCells.data);\n            var cIndex_1 = 0;\n            captionCells.cells.some(function (cell, index) { cIndex_1 = index; return cell.visible && cell.isDataCell; });\n            visibles = captionCells.cells.slice(cIndex_1).filter(function (cell) { return cell.visible; });\n            if (captionCells.visible && visibles[0].column.field === this.parent.getVisibleColumns()[0].field) {\n                visibles = visibles.slice(1);\n            }\n            if (this.parent.getVisibleColumns().length === 1) {\n                visibles = [];\n            }\n            indent = indent - visibles.length;\n        }\n        var cols = (!this.parent.enableColumnVirtualization ? [column] : this.parent.getColumns());\n        var wFlag = true;\n        for (var j = 0; j < cols.length; j++) {\n            var tmpFlag = wFlag && indexes.indexOf(indent) !== -1;\n            if (tmpFlag) {\n                wFlag = false;\n            }\n            var cellType = !this.parent.enableColumnVirtualization || tmpFlag ?\n                CellType.GroupCaption : CellType.GroupCaptionEmpty;\n            indent = this.parent.enableColumnVirtualization && cellType === CellType.GroupCaption ? indent + groupedLen : indent;\n            if (gObj.isRowDragable()) {\n                indent++;\n            }\n            cells.push(this.generateCell(column, null, cellType, indent));\n        }\n        cells.push.apply(cells, visibles);\n        return cells;\n    };\n    /**\n     * @param {GroupedData} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} parentID - specifies the parentID\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the TIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>} returns the Row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateCaptionRow = function (data, indent, parentID, childID, tIndex, parentUid) {\n        var options = {};\n        var records = 'records';\n        var col = this.parent.getColumnByField(data.field);\n        options.data = extend({}, data);\n        if (col) {\n            options.data.field = data.field;\n        }\n        options.isDataRow = false;\n        options.isExpand = !this.parent.groupSettings.enableLazyLoading && !this.parent.isCollapseStateEnabled();\n        options.parentGid = parentID;\n        options.childGid = childID;\n        options.tIndex = tIndex;\n        options.isCaptionRow = true;\n        options.parentUid = parentUid;\n        options.gSummary = !isNullOrUndefined(data.items[records]) ? data.items[records].length : data.items.length;\n        options.uid = getUid('grid-row');\n        var row = new Row(options);\n        row.indent = indent;\n        this.getForeignKeyData(row);\n        row.cells = this.getCaptionRowCells(data.field, indent, row.data);\n        return row;\n    };\n    GroupModelGenerator.prototype.getForeignKeyData = function (row) {\n        var data = row.data;\n        var col = this.parent.getColumnByField(data.field);\n        if (col && col.isForeignColumn && col.isForeignColumn()) {\n            var fkValue = (isNullOrUndefined(data.key) ? '' : col.valueAccessor(col.foreignKeyValue, getForeignData(col, {}, data.key)[0], col));\n            setValue('foreignKey', fkValue, row.data);\n        }\n    };\n    /**\n     * @param {Object[]} data - specifies the data\n     * @param {number} indent - specifies the indent\n     * @param {number} childID - specifies the childID\n     * @param {number} tIndex - specifies the tIndex\n     * @param {string} parentUid - specifies the ParentUid\n     * @returns {Row<Column>[]} returns the row object\n     * @hidden\n     */\n    GroupModelGenerator.prototype.generateDataRows = function (data, indent, childID, tIndex, parentUid) {\n        var rows = [];\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0, len = data.length; i < len; i++, tIndex++) {\n            rows[i] = this.generateRow(data[i], this.index, i ? undefined : 'e-firstchildrow', indent, childID, tIndex, parentUid);\n            for (var j = 0; j < indent; j++) {\n                if (this.parent.enableColumnVirtualization && indexes.indexOf(indent) === -1) {\n                    continue;\n                }\n                rows[i].cells.unshift(this.generateIndentCell());\n            }\n            this.index++;\n        }\n        return rows;\n    };\n    GroupModelGenerator.prototype.generateIndentCell = function () {\n        return this.generateCell({}, null, CellType.Indent);\n    };\n    GroupModelGenerator.prototype.refreshRows = function (input) {\n        var indexes = this.parent.getColumnIndexesInView();\n        for (var i = 0; i < input.length; i++) {\n            if (input[i].isDataRow) {\n                input[i].cells = this.generateCells(input[i]);\n                for (var j = 0; j < input[i].indent; j++) {\n                    if (this.parent.enableColumnVirtualization && indexes.indexOf(input[i].indent) === -1) {\n                        continue;\n                    }\n                    input[i].cells.unshift(this.generateIndentCell());\n                }\n            }\n            else {\n                var cRow = this.generateCaptionRow(input[i].data, input[i].indent);\n                input[i].cells = cRow.cells;\n            }\n        }\n        return input;\n    };\n    GroupModelGenerator.prototype.setInfiniteRowVisibility = function (caption) {\n        if (!caption.isExpand || caption.visible === false) {\n            for (var _i = 0, _a = this.rows; _i < _a.length; _i++) {\n                var row = _a[_i];\n                if (row.parentUid === caption.uid) {\n                    row.visible = false;\n                    if (row.isCaptionRow) {\n                        this.setInfiniteRowVisibility(row);\n                    }\n                }\n            }\n        }\n    };\n    GroupModelGenerator.prototype.ensureRowVisibility = function () {\n        for (var i = 0; i < this.rows.length; i++) {\n            var row = this.rows[i];\n            if (!row.isCaptionRow) {\n                continue;\n            }\n            for (var j = i + 1; j < this.rows.length; j++) {\n                var childRow = this.rows[j];\n                if (row.uid === childRow.parentUid) {\n                    this.rows[j].visible = row.isExpand;\n                }\n            }\n        }\n    };\n    return GroupModelGenerator;\n}(RowModelGenerator));\nexport { GroupModelGenerator };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}