{"ast":null,"code":"import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { closest as closestElement, removeClass, classList, remove } from '@syncfusion/ej2-base';\nimport { getElementIndex, inArray, parentsUntil, getPosition, isActionPrevent } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Reorder` module is used for reordering columns.\n */\nvar Reorder = /** @class */function () {\n  /**\n   * Constructor for the Grid reorder module\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @hidden\n   */\n  function Reorder(parent) {\n    this.parent = parent;\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.headerDrop, this.headerDrop, this);\n    this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n    this.parent.on(events.reorderComplete, this.onActionComplete, this);\n    this.parent.on(events.columnDrag, this.drag, this);\n    this.parent.on(events.columnDragStart, this.dragStart, this);\n    this.parent.on(events.columnDragStop, this.dragStop, this);\n    this.parent.on(events.headerDrop, this.headerDrop, this);\n    this.parent.on(events.headerRefreshed, this.createReorderElement, this);\n    this.parent.on(events.keyPressed, this.keyPressHandler, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  }\n  Reorder.prototype.chkDropPosition = function (srcElem, destElem) {\n    var col = this.parent.getColumnByUid(destElem.firstElementChild.getAttribute('e-mappinguid'));\n    var bool = col ? !col.lockColumn : true;\n    return (srcElem.parentElement.isEqualNode(destElem.parentElement) || this.parent.enableColumnVirtualization || this.parent.isFrozenGrid() && Array.prototype.indexOf.call(closestElement(srcElem, 'thead').children, srcElem.parentElement) === Array.prototype.indexOf.call(closestElement(destElem, 'thead').children, destElem.parentElement)) && this.targetParentContainerIndex(srcElem, destElem) > -1 && bool;\n  };\n  Reorder.prototype.chkDropAllCols = function (srcElem, destElem) {\n    var isFound;\n    var headers = this.getHeaderCells();\n    var header;\n    while (!isFound && headers.length > 0) {\n      header = headers.pop();\n      isFound = srcElem !== header && this.targetParentContainerIndex(srcElem, destElem) > -1;\n    }\n    return isFound;\n  };\n  Reorder.prototype.findColParent = function (col, cols, parent) {\n    // eslint-disable-next-line no-self-assign\n    parent = parent;\n    for (var i = 0, len = cols.length; i < len; i++) {\n      if (col === cols[i]) {\n        return true;\n      } else if (cols[i].columns) {\n        var cnt = parent.length;\n        parent.push(cols[i]);\n        if (!this.findColParent(col, cols[i].columns, parent)) {\n          parent.splice(cnt, parent.length - cnt);\n        } else {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  Reorder.prototype.getColumnsModel = function (cols) {\n    var columnModel = [];\n    var subCols = [];\n    if (!this.parent.getFrozenColumns() && this.parent.isFrozenGrid()) {\n      return this.parent.getColumns();\n    } else {\n      for (var i = 0, len = cols.length; i < len; i++) {\n        columnModel.push(cols[i]);\n        if (cols[i].columns) {\n          subCols = subCols.concat(cols[i].columns);\n        }\n      }\n      if (subCols.length) {\n        columnModel = columnModel.concat(this.getColumnsModel(subCols));\n      }\n    }\n    return columnModel;\n  };\n  Reorder.prototype.headerDrop = function (e) {\n    var gObj = this.parent;\n    var dropElement = this.element.querySelector('.e-headercelldiv') || this.element.querySelector('.e-stackedheadercelldiv');\n    var uId = dropElement.getAttribute('e-mappinguid');\n    var column = gObj.getColumnByUid(uId);\n    if (!closestElement(e.target, 'th') || !isNullOrUndefined(column) && (!column.allowReordering || column.lockColumn)) {\n      this.parent.log('action_disabled_column', {\n        moduleName: this.getModuleName(),\n        column: column\n      });\n      return;\n    }\n    var destElem = closestElement(e.target, '.e-headercell');\n    var destElemDiv = destElem.querySelector('.e-headercelldiv') || destElem.querySelector('.e-stackedheadercelldiv');\n    var destElemUid = destElemDiv.getAttribute('e-mappinguid');\n    if (!isNullOrUndefined(destElemUid)) {\n      var destColumn = gObj.getColumnByUid(destElemUid);\n      if (isNullOrUndefined(destColumn) || !destColumn.allowReordering || destColumn.lockColumn) {\n        this.parent.log('action_disabled_column', {\n          moduleName: this.getModuleName(),\n          column: column,\n          destColumn: destColumn\n        });\n        return;\n      }\n    }\n    if (destElem && !(!this.chkDropPosition(this.element, destElem) || !this.chkDropAllCols(this.element, destElem))) {\n      if (this.parent.enableColumnVirtualization) {\n        var columns = this.parent.columns;\n        var sourceUid_1 = this.element.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n        var col = this.parent.columns.filter(function (col) {\n          return col.uid === sourceUid_1;\n        });\n        var colMatchIndex_1 = null;\n        var column_1 = col[0];\n        var destUid_1 = destElem.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n        columns.some(function (col, index) {\n          if (col.uid === destUid_1) {\n            colMatchIndex_1 = index;\n            return col.uid === destUid_1;\n          }\n          return false;\n        });\n        if (!isNullOrUndefined(colMatchIndex_1)) {\n          this.moveColumns(colMatchIndex_1, column_1);\n        }\n      } else {\n        var newIndex = this.targetParentContainerIndex(this.element, destElem);\n        var uid = this.element.firstElementChild.getAttribute('e-mappinguid');\n        this.destElement = destElem;\n        this.parent.notify(events.setReorderDestinationElement, {\n          ele: destElem\n        });\n        if (uid) {\n          this.moveColumns(newIndex, this.parent.getColumnByUid(uid));\n        } else {\n          var headers = this.getHeaderCells();\n          var oldIdx = getElementIndex(this.element, headers);\n          var columns = this.getColumnsModel(this.parent.columns);\n          this.moveColumns(newIndex, columns[oldIdx]);\n        }\n      }\n    }\n  };\n  Reorder.prototype.isActionPrevent = function (gObj) {\n    return isActionPrevent(gObj);\n  };\n  Reorder.prototype.moveColumns = function (destIndex, column, reorderByColumn, preventRefresh) {\n    var gObj = this.parent;\n    if (this.isActionPrevent(gObj)) {\n      gObj.notify(events.preventBatch, {\n        instance: this,\n        handler: this.moveColumns,\n        arg1: destIndex,\n        arg2: column\n      });\n      return;\n    }\n    var isFrozen = !gObj.getFrozenColumns() && gObj.isFrozenGrid();\n    var parent = this.getColParent(column, this.parent.columns);\n    var cols = parent ? parent.columns : isFrozen ? this.parent.getColumns() : this.parent.columns;\n    var srcIdx = inArray(column, cols);\n    if ((this.parent.isFrozenGrid() && parent || this.parent.lockcolPositionCount) && !reorderByColumn && !this.parent.enableColumnVirtualization) {\n      for (var i = 0; i < cols.length; i++) {\n        if (cols[i].field === column.field) {\n          srcIdx = i;\n          break;\n        }\n      }\n      var col = this.parent.getColumnByUid(this.destElement.firstElementChild.getAttribute('e-mappinguid'));\n      if (col) {\n        for (var i = 0; i < cols.length; i++) {\n          if (cols[i].field === col.field) {\n            destIndex = i;\n            break;\n          }\n        }\n      } else {\n        for (var i = 0; i < cols.length; i++) {\n          if (cols[i].headerText === this.destElement.innerText.trim()) {\n            destIndex = i;\n          }\n        }\n      }\n    }\n    if (!gObj.allowReordering || srcIdx === destIndex || srcIdx === -1 || destIndex === -1) {\n      return;\n    }\n    cols.splice(destIndex, 0, cols.splice(srcIdx, 1)[0]);\n    var args = {\n      column: column,\n      destIndex: destIndex,\n      columns: cols,\n      parent: parent,\n      cancel: false\n    };\n    gObj.notify(events.refreshFrozenColumns, args);\n    if (args.cancel) {\n      return;\n    }\n    gObj.getColumns(true);\n    gObj.notify(events.columnPositionChanged, {\n      fromIndex: destIndex,\n      toIndex: srcIdx\n    });\n    if (preventRefresh !== false) {\n      gObj.notify(events.modelChanged, {\n        type: events.actionBegin,\n        requestType: 'reorder',\n        fromIndex: destIndex,\n        toIndex: srcIdx,\n        toColumnUid: column.uid\n      });\n    }\n  };\n  Reorder.prototype.targetParentContainerIndex = function (srcElem, destElem) {\n    var cols = !this.parent.getFrozenColumns() && this.parent.isFrozenGrid() ? this.parent.getColumns() : this.parent.columns;\n    var headers = this.getHeaderCells();\n    var flatColumns = this.getColumnsModel(cols);\n    var parent = this.getColParent(flatColumns[getElementIndex(srcElem, headers)], cols);\n    cols = parent ? parent.columns : cols;\n    return inArray(flatColumns[getElementIndex(destElem, headers)], cols);\n  };\n  Reorder.prototype.getHeaderCells = function () {\n    var frozenColumns = this.parent.getFrozenColumns();\n    if (frozenColumns || this.parent.isFrozenGrid() || this.parent.lockcolPositionCount) {\n      var fTh = void 0;\n      var mTh = void 0;\n      var fHeaders = [];\n      var fRows = [].slice.call(this.parent.getHeaderTable().getElementsByClassName('e-columnheader'));\n      if (frozenColumns || this.parent.isFrozenGrid()) {\n        var mRows = [].slice.call(this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).getElementsByClassName('e-columnheader'));\n        for (var i = 0; i < fRows.length; i++) {\n          fTh = [].slice.call(fRows[i].getElementsByClassName('e-headercell'));\n          mTh = [].slice.call(mRows[i].getElementsByClassName('e-headercell'));\n          var isAvail = void 0;\n          for (var k = 0; k < fTh.length; k++) {\n            for (var j = 0; j < mTh.length; j++) {\n              if (mTh[j].innerText === fTh[k].innerText) {\n                isAvail = true;\n                break;\n              }\n            }\n            if (!isAvail) {\n              fHeaders = fHeaders.concat([fTh[k]]);\n            }\n          }\n          for (var j = 0; j < mTh.length; j++) {\n            fHeaders.push(mTh[j]);\n          }\n        }\n        if (this.parent.getFrozenRightColumnsCount()) {\n          var frTh = void 0;\n          var frRows = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-right-header').getElementsByClassName('e-columnheader'));\n          frTh = [].slice.call(frRows[0].getElementsByClassName('e-headercell'));\n          for (var i = 0; i < frTh.length; i++) {\n            fHeaders.push(frTh[i]);\n          }\n        }\n      } else {\n        for (var i = 0; i < fRows.length; i++) {\n          mTh = [].slice.call(fRows[i].getElementsByClassName('e-headercell'));\n          for (var k = 0; k < mTh.length; k++) {\n            var isAvail = void 0;\n            for (var j = k + 1; j < mTh.length; j++) {\n              if (mTh[j].innerText === mTh[k].innerText) {\n                isAvail = true;\n                break;\n              }\n            }\n            if (!isAvail) {\n              fHeaders = fHeaders.concat([mTh[k]]);\n            }\n          }\n        }\n      }\n      return fHeaders;\n    } else {\n      return [].slice.call(this.parent.element.getElementsByClassName('e-headercell'));\n    }\n  };\n  Reorder.prototype.getColParent = function (column, columns) {\n    var parents = [];\n    this.findColParent(column, columns, parents);\n    return parents[parents.length - 1];\n  };\n  Reorder.prototype.reorderSingleColumn = function (fromFName, toFName) {\n    var fColumn = this.parent.enableColumnVirtualization ? this.parent.columns.filter(function (col) {\n      return col.field === fromFName;\n    })[0] : this.parent.getColumnByField(fromFName);\n    var toColumn = this.parent.enableColumnVirtualization ? this.parent.columns.filter(function (col) {\n      return col.field === toFName;\n    })[0] : this.parent.getColumnByField(toFName);\n    if (!isNullOrUndefined(fColumn) && (!fColumn.allowReordering || fColumn.lockColumn) || !isNullOrUndefined(toColumn) && (!toColumn.allowReordering || fColumn.lockColumn)) {\n      this.parent.log('action_disabled_column', {\n        moduleName: this.getModuleName(),\n        column: fColumn,\n        destColumn: toColumn\n      });\n      return;\n    }\n    var column = toColumn;\n    var parent = this.getColParent(column, this.parent.columns);\n    var columns = parent ? parent.columns : this.parent.columns;\n    var destIndex = inArray(column, columns);\n    if (destIndex > -1) {\n      this.moveColumns(destIndex, fColumn, true);\n    }\n  };\n  Reorder.prototype.reorderMultipleColumns = function (fromFNames, toFName) {\n    var toIndex = this.parent.getColumnIndexByField(toFName);\n    var toColumn = this.parent.getColumnByField(toFName);\n    if (toIndex < 0 || !isNullOrUndefined(toColumn) && (!toColumn.allowReordering || toColumn.lockColumn)) {\n      return;\n    }\n    for (var i = 0; i < fromFNames.length; i++) {\n      var column = this.parent.getColumnByField(fromFNames[i]);\n      if (!isNullOrUndefined(column) && (!column.allowReordering || column.lockColumn)) {\n        return;\n      }\n    }\n    for (var i = 0; i < fromFNames.length; i++) {\n      var column = this.parent.getColumnByIndex(toIndex);\n      var parent_1 = this.getColParent(column, this.parent.columns);\n      var columns = parent_1 ? parent_1.columns : this.parent.columns;\n      var destIndex = inArray(column, columns);\n      if (destIndex > -1) {\n        this.moveColumns(destIndex, this.parent.getColumnByField(fromFNames[i]), true, true);\n      }\n      if (this.parent.getColumnIndexByField(fromFNames[i + 1]) >= destIndex) {\n        toIndex++; //R to L\n      }\n    }\n  };\n\n  Reorder.prototype.moveTargetColumn = function (column, toIndex) {\n    if (toIndex > -1) {\n      this.moveColumns(toIndex, column, true);\n    }\n  };\n  Reorder.prototype.reorderSingleColumnByTarget = function (fieldName, toIndex) {\n    this.moveTargetColumn(this.parent.getColumnByField(fieldName), toIndex);\n  };\n  Reorder.prototype.reorderMultipleColumnByTarget = function (fieldName, toIndex) {\n    for (var i = 0; i < fieldName.length; i++) {\n      this.reorderSingleColumnByTarget(fieldName[i], toIndex);\n    }\n  };\n  /**\n   * Changes the position of the Grid columns by field names.\n   *\n   * @param  {string | string[]} fromFName - Defines the origin field names.\n   * @param  {string} toFName - Defines the destination field name.\n   * @returns {void}\n   */\n  Reorder.prototype.reorderColumns = function (fromFName, toFName) {\n    if (typeof fromFName === 'string') {\n      this.reorderSingleColumn(fromFName, toFName);\n      this.fromCol = fromFName;\n    } else {\n      this.reorderMultipleColumns(fromFName, toFName);\n      this.fromCol = fromFName[0];\n    }\n  };\n  /**\n   * Changes the position of the Grid columns by field index.\n   *\n   * @param  {number} fromIndex - Defines the origin field index.\n   * @param  {number} toIndex - Defines the destination field index.\n   * @returns {void}\n   */\n  Reorder.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n    this.moveTargetColumn(this.parent.getColumnByIndex(fromIndex), toIndex);\n  };\n  /**\n   * Changes the position of the Grid columns by field index.\n   *\n   * @param  {string | string[]} fieldName - Defines the field name.\n   * @param  {number} toIndex - Defines the destination field index.\n   * @returns {void}\n   */\n  Reorder.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n    if (typeof fieldName === 'string') {\n      this.reorderSingleColumnByTarget(fieldName, toIndex);\n    } else {\n      this.reorderMultipleColumnByTarget(fieldName, toIndex);\n    }\n  };\n  Reorder.prototype.enableAfterRender = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      this.createReorderElement();\n    }\n  };\n  Reorder.prototype.createReorderElement = function (e) {\n    if (e && e.args.isXaxis) {\n      this.setDisplay('none');\n    }\n    var header = this.parent.element.querySelector('.' + literals.headerContent);\n    this.upArrow = header.appendChild(this.parent.createElement('div', {\n      className: 'e-icons e-icon-reorderuparrow e-reorderuparrow',\n      attrs: {\n        style: 'display:none'\n      }\n    }));\n    this.downArrow = header.appendChild(this.parent.createElement('div', {\n      className: 'e-icons e-icon-reorderdownarrow e-reorderdownarrow',\n      attrs: {\n        style: 'display:none'\n      }\n    }));\n  };\n  /**\n   * The function used to trigger onActionComplete\n   *\n   * @param {NotifyArgs} e - specified the NotifyArgs\n   * @returns {void}\n   * @hidden\n   */\n  Reorder.prototype.onActionComplete = function (e) {\n    this.parent.trigger(events.actionComplete, extend(e, {\n      type: events.actionComplete\n    }));\n    var target = this.fromCol && this.parent.getColumnHeaderByField(this.fromCol);\n    if (target) {\n      this.parent.focusModule.onClick({\n        target: target\n      }, true);\n    }\n  };\n  /**\n   * To destroy the reorder\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Reorder.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n    if (this.parent.isDestroyed || !gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n    if (this.upArrow.parentNode) {\n      remove(this.upArrow);\n    }\n    if (this.downArrow.parentNode) {\n      remove(this.downArrow);\n    }\n    this.parent.off(events.headerDrop, this.headerDrop);\n    this.parent.off(events.uiUpdate, this.enableAfterRender);\n    this.parent.off(events.reorderComplete, this.onActionComplete);\n    this.parent.off(events.columnDrag, this.drag);\n    this.parent.off(events.columnDragStart, this.dragStart);\n    this.parent.off(events.columnDragStop, this.dragStop);\n    this.parent.off(events.headerRefreshed, this.createReorderElement);\n    this.parent.off(events.keyPressed, this.keyPressHandler);\n    this.parent.off(events.destroy, this.destroy);\n    //call ejdrag and drop destroy\n  };\n\n  Reorder.prototype.keyPressHandler = function (e) {\n    var gObj = this.parent;\n    switch (e.action) {\n      case 'ctrlLeftArrow':\n      case 'ctrlRightArrow':\n        // eslint-disable-next-line no-case-declarations\n        var element = gObj.focusModule.currentInfo.element;\n        if (element && element.classList.contains('e-headercell')) {\n          var column = gObj.getColumnByUid(element.firstElementChild.getAttribute('e-mappinguid'));\n          var visibleCols = gObj.getVisibleColumns();\n          var index = visibleCols.indexOf(column);\n          var toCol = e.action === 'ctrlLeftArrow' ? visibleCols[index - 1] : visibleCols[index + 1];\n          if (toCol && toCol.field && column.field) {\n            this.reorderColumns(column.field, toCol.field);\n          }\n        }\n        break;\n    }\n  };\n  Reorder.prototype.drag = function (e) {\n    var gObj = this.parent;\n    var target = e.target;\n    if (!e.column.allowReordering || e.column.lockColumn) {\n      return;\n    }\n    var closest = closestElement(target, '.e-headercell:not(.e-stackedHeaderCell)');\n    var cloneElement = gObj.element.querySelector('.e-cloneproperties');\n    var content = gObj.isFrozenGrid() ? gObj.getMovableVirtualContent() : gObj.getContent().firstElementChild;\n    var isLeft = this.x > getPosition(e.event).x + content.scrollLeft;\n    removeClass([].slice.call(gObj.getHeaderTable().getElementsByClassName('e-reorderindicate')), ['e-reorderindicate']);\n    this.setDisplay('none');\n    this.stopTimer();\n    classList(cloneElement, ['e-defaultcur'], ['e-notallowedcur']);\n    this.updateScrollPostion(e.event);\n    if (closest && !closest.isEqualNode(this.element)) {\n      target = closest;\n      //consider stacked, detail header cell\n      if (!(!this.chkDropPosition(this.element, target) || !this.chkDropAllCols(this.element, target))) {\n        this.updateArrowPosition(target, isLeft);\n        classList(target, ['e-allowDrop', 'e-reorderindicate'], []);\n      } else if (!(gObj.allowGrouping && parentsUntil(e.target, 'e-groupdroparea'))) {\n        classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n      }\n    }\n    gObj.trigger(events.columnDrag, {\n      target: target,\n      draggableType: 'headercell',\n      column: e.column\n    });\n  };\n  Reorder.prototype.updateScrollPostion = function (e) {\n    var _this = this;\n    var x = getPosition(e).x;\n    var cliRect = this.parent.element.getBoundingClientRect();\n    var cliRectBaseRight = cliRect.right;\n    if (this.parent.isFrozenGrid()) {\n      this.updateFrozenScrollPosition(x, cliRect);\n    } else {\n      var cliRectBaseLeft = cliRect.left;\n      var scrollElem_1 = this.parent.getContent().firstElementChild;\n      if (x > cliRectBaseLeft && x < cliRectBaseLeft + 35) {\n        this.timer = window.setInterval(function () {\n          _this.setScrollLeft(scrollElem_1, true);\n        }, 50);\n      } else if (x < cliRectBaseRight && x > cliRectBaseRight - 35) {\n        this.timer = window.setInterval(function () {\n          _this.setScrollLeft(scrollElem_1, false);\n        }, 50);\n      }\n    }\n  };\n  Reorder.prototype.updateFrozenScrollPosition = function (x, cliRect) {\n    var _this = this;\n    var scrollElem = this.parent.getContent().querySelector('.' + literals.movableContent);\n    var mhdrCliRect = this.parent.element.querySelector('.' + literals.movableHeader).getBoundingClientRect();\n    var left = this.parent.getFrozenLeftCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    var cliRectBaseRight = right ? mhdrCliRect.right : cliRect.right;\n    var cliRectBaseLeft = left ? mhdrCliRect.left : cliRect.left;\n    if (x > cliRectBaseLeft && x < cliRectBaseLeft + 35) {\n      this.timer = window.setInterval(function () {\n        _this.setScrollLeft(scrollElem, true);\n      }, 50);\n    } else if (x < cliRectBaseRight && x > cliRectBaseRight - 35) {\n      this.timer = window.setInterval(function () {\n        _this.setScrollLeft(scrollElem, false);\n      }, 50);\n    }\n  };\n  Reorder.prototype.setScrollLeft = function (scrollElem, isLeft) {\n    var scrollLeft = scrollElem.scrollLeft;\n    scrollElem.scrollLeft = scrollElem.scrollLeft + (isLeft ? -5 : 5);\n    if (scrollLeft !== scrollElem.scrollLeft) {\n      this.setDisplay('none');\n    }\n  };\n  Reorder.prototype.stopTimer = function () {\n    window.clearInterval(this.timer);\n  };\n  Reorder.prototype.updateArrowPosition = function (target, isLeft) {\n    var cliRect = target.getBoundingClientRect();\n    var cliRectBase = this.parent.element.getBoundingClientRect();\n    if (isLeft && cliRect.left < cliRectBase.left || !isLeft && cliRect.right > cliRectBase.right) {\n      return;\n    }\n    if (this.parent.isFrozenGrid() && target.classList.contains('e-headercell')) {\n      var left = this.parent.getFrozenLeftCount();\n      var right = this.parent.getFrozenRightColumnsCount();\n      var dropEle = this.element.querySelector('.e-headercelldiv');\n      var dropCol = dropEle ? this.parent.getColumnByUid(dropEle.getAttribute('data-uid')) : null;\n      var col = this.parent.getColumnByUid(target.firstElementChild.getAttribute('e-mappinguid'));\n      var fhdrWidth = Math.round(this.parent.getFrozenVirtualHeader().getBoundingClientRect().right);\n      var mhdrRight = Math.round(this.parent.getMovableVirtualHeader().getBoundingClientRect().right);\n      if (col) {\n        if (left && !right && this.parent.getNormalizedColumnIndex(col.uid) >= left && (isLeft && Math.round(cliRect.left) < fhdrWidth || !isLeft && mhdrRight < cliRect.right)) {\n          return;\n        }\n        if (!left && right && dropCol && dropCol.getFreezeTableName() !== col.getFreezeTableName() && !isLeft && Math.round(cliRect.right) < fhdrWidth) {\n          return;\n        }\n      }\n    }\n    var isSticky = this.parent.getHeaderContent().classList.contains('e-sticky');\n    this.upArrow.style.top = isSticky ? cliRect.top + cliRect.height + 'px' : cliRect.top + cliRect.height - cliRectBase.top + 'px';\n    this.downArrow.style.top = isSticky ? cliRect.top - 7 + 'px' : cliRect.top - cliRectBase.top - 7 + 'px';\n    this.upArrow.style.left = this.downArrow.style.left = isSticky ? (isLeft ? cliRect.left : cliRect.right) - 4 + 'px' : (isLeft ? cliRect.left : cliRect.right) - cliRectBase.left - 4 + 'px';\n    this.setDisplay('');\n  };\n  Reorder.prototype.dragStart = function (e) {\n    var gObj = this.parent;\n    var target = e.target;\n    this.element = target.classList.contains('e-headercell') ? target : parentsUntil(target, 'e-headercell');\n    if (!e.column.allowReordering || e.column.lockColumn) {\n      return;\n    }\n    var content = gObj.isFrozenGrid() ? gObj.getMovableVirtualContent() : gObj.getContent().firstElementChild;\n    this.x = getPosition(e.event).x + content.scrollLeft;\n    gObj.trigger(events.columnDragStart, {\n      target: target,\n      draggableType: 'headercell',\n      column: e.column\n    });\n  };\n  Reorder.prototype.dragStop = function (e) {\n    var gObj = this.parent;\n    this.setDisplay('none');\n    this.stopTimer();\n    if (!e.cancel) {\n      gObj.trigger(events.columnDrop, {\n        target: e.target,\n        draggableType: 'headercell',\n        column: e.column\n      });\n    }\n    removeClass([].slice.call(gObj.getHeaderTable().getElementsByClassName('e-reorderindicate')), ['e-reorderindicate']);\n  };\n  Reorder.prototype.setDisplay = function (display) {\n    this.upArrow.style.display = display;\n    this.downArrow.style.display = display;\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} return the module name\n   * @private\n   */\n  Reorder.prototype.getModuleName = function () {\n    return 'reorder';\n  };\n  return Reorder;\n}();\nexport { Reorder };","map":{"version":3,"names":["extend","isNullOrUndefined","closest","closestElement","removeClass","classList","remove","getElementIndex","inArray","parentsUntil","getPosition","isActionPrevent","events","literals","Reorder","parent","isDestroyed","on","headerDrop","uiUpdate","enableAfterRender","reorderComplete","onActionComplete","columnDrag","drag","columnDragStart","dragStart","columnDragStop","dragStop","headerRefreshed","createReorderElement","keyPressed","keyPressHandler","destroy","prototype","chkDropPosition","srcElem","destElem","col","getColumnByUid","firstElementChild","getAttribute","bool","lockColumn","parentElement","isEqualNode","enableColumnVirtualization","isFrozenGrid","Array","indexOf","call","children","targetParentContainerIndex","chkDropAllCols","isFound","headers","getHeaderCells","header","length","pop","findColParent","cols","i","len","columns","cnt","push","splice","getColumnsModel","columnModel","subCols","getFrozenColumns","getColumns","concat","e","gObj","dropElement","element","querySelector","uId","column","target","allowReordering","log","moduleName","getModuleName","destElemDiv","destElemUid","destColumn","sourceUid_1","filter","uid","colMatchIndex_1","column_1","destUid_1","some","index","moveColumns","newIndex","destElement","notify","setReorderDestinationElement","ele","oldIdx","destIndex","reorderByColumn","preventRefresh","preventBatch","instance","handler","arg1","arg2","isFrozen","getColParent","srcIdx","lockcolPositionCount","field","headerText","innerText","trim","args","cancel","refreshFrozenColumns","columnPositionChanged","fromIndex","toIndex","modelChanged","type","actionBegin","requestType","toColumnUid","flatColumns","frozenColumns","fTh","mTh","fHeaders","fRows","slice","getHeaderTable","getElementsByClassName","mRows","getHeaderContent","movableHeader","isAvail","k","j","getFrozenRightColumnsCount","frTh","frRows","parents","reorderSingleColumn","fromFName","toFName","fColumn","getColumnByField","toColumn","reorderMultipleColumns","fromFNames","getColumnIndexByField","getColumnByIndex","parent_1","moveTargetColumn","reorderSingleColumnByTarget","fieldName","reorderMultipleColumnByTarget","reorderColumns","fromCol","reorderColumnByIndex","reorderColumnByTargetIndex","module","enable","isXaxis","setDisplay","headerContent","upArrow","appendChild","createElement","className","attrs","style","downArrow","trigger","actionComplete","getColumnHeaderByField","focusModule","onClick","gridElement","gridHeader","gridContent","parentNode","off","action","currentInfo","contains","visibleCols","getVisibleColumns","toCol","cloneElement","content","getMovableVirtualContent","getContent","isLeft","x","event","scrollLeft","stopTimer","updateScrollPostion","updateArrowPosition","allowGrouping","draggableType","_this","cliRect","getBoundingClientRect","cliRectBaseRight","right","updateFrozenScrollPosition","cliRectBaseLeft","left","scrollElem_1","timer","window","setInterval","setScrollLeft","scrollElem","movableContent","mhdrCliRect","getFrozenLeftCount","clearInterval","cliRectBase","dropEle","dropCol","fhdrWidth","Math","round","getFrozenVirtualHeader","mhdrRight","getMovableVirtualHeader","getNormalizedColumnIndex","getFreezeTableName","isSticky","top","height","columnDrop","display"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/actions/reorder.js"],"sourcesContent":["import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { closest as closestElement, removeClass, classList, remove } from '@syncfusion/ej2-base';\nimport { getElementIndex, inArray, parentsUntil, getPosition, isActionPrevent } from '../base/util';\nimport * as events from '../base/constant';\nimport * as literals from '../base/string-literals';\n/**\n *\n * The `Reorder` module is used for reordering columns.\n */\nvar Reorder = /** @class */ (function () {\n    /**\n     * Constructor for the Grid reorder module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Reorder(parent) {\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.headerDrop, this.headerDrop, this);\n        this.parent.on(events.uiUpdate, this.enableAfterRender, this);\n        this.parent.on(events.reorderComplete, this.onActionComplete, this);\n        this.parent.on(events.columnDrag, this.drag, this);\n        this.parent.on(events.columnDragStart, this.dragStart, this);\n        this.parent.on(events.columnDragStop, this.dragStop, this);\n        this.parent.on(events.headerDrop, this.headerDrop, this);\n        this.parent.on(events.headerRefreshed, this.createReorderElement, this);\n        this.parent.on(events.keyPressed, this.keyPressHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    }\n    Reorder.prototype.chkDropPosition = function (srcElem, destElem) {\n        var col = this.parent.getColumnByUid(destElem.firstElementChild.getAttribute('e-mappinguid'));\n        var bool = col ? !col.lockColumn : true;\n        return ((srcElem.parentElement.isEqualNode(destElem.parentElement) || this.parent.enableColumnVirtualization)\n            || (this.parent.isFrozenGrid()\n                && Array.prototype.indexOf.call(closestElement(srcElem, 'thead').children, srcElem.parentElement)\n                    === Array.prototype.indexOf.call(closestElement(destElem, 'thead').children, destElem.parentElement)))\n            && this.targetParentContainerIndex(srcElem, destElem) > -1 && bool;\n    };\n    Reorder.prototype.chkDropAllCols = function (srcElem, destElem) {\n        var isFound;\n        var headers = this.getHeaderCells();\n        var header;\n        while (!isFound && headers.length > 0) {\n            header = headers.pop();\n            isFound = srcElem !== header && this.targetParentContainerIndex(srcElem, destElem) > -1;\n        }\n        return isFound;\n    };\n    Reorder.prototype.findColParent = function (col, cols, parent) {\n        // eslint-disable-next-line no-self-assign\n        parent = parent;\n        for (var i = 0, len = cols.length; i < len; i++) {\n            if (col === cols[i]) {\n                return true;\n            }\n            else if (cols[i].columns) {\n                var cnt = parent.length;\n                parent.push(cols[i]);\n                if (!this.findColParent(col, cols[i].columns, parent)) {\n                    parent.splice(cnt, parent.length - cnt);\n                }\n                else {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    Reorder.prototype.getColumnsModel = function (cols) {\n        var columnModel = [];\n        var subCols = [];\n        if (!this.parent.getFrozenColumns() && this.parent.isFrozenGrid()) {\n            return this.parent.getColumns();\n        }\n        else {\n            for (var i = 0, len = cols.length; i < len; i++) {\n                columnModel.push(cols[i]);\n                if (cols[i].columns) {\n                    subCols = subCols.concat(cols[i].columns);\n                }\n            }\n            if (subCols.length) {\n                columnModel = columnModel.concat(this.getColumnsModel(subCols));\n            }\n        }\n        return columnModel;\n    };\n    Reorder.prototype.headerDrop = function (e) {\n        var gObj = this.parent;\n        var dropElement = this.element.querySelector('.e-headercelldiv') || this.element.querySelector('.e-stackedheadercelldiv');\n        var uId = dropElement.getAttribute('e-mappinguid');\n        var column = gObj.getColumnByUid(uId);\n        if (!closestElement(e.target, 'th') || (!isNullOrUndefined(column) && (!column.allowReordering || column.lockColumn))) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), column: column });\n            return;\n        }\n        var destElem = closestElement(e.target, '.e-headercell');\n        var destElemDiv = destElem.querySelector('.e-headercelldiv') || destElem.querySelector('.e-stackedheadercelldiv');\n        var destElemUid = destElemDiv.getAttribute('e-mappinguid');\n        if (!isNullOrUndefined(destElemUid)) {\n            var destColumn = gObj.getColumnByUid(destElemUid);\n            if (isNullOrUndefined(destColumn) || !destColumn.allowReordering || destColumn.lockColumn) {\n                this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), column: column, destColumn: destColumn });\n                return;\n            }\n        }\n        if (destElem && !(!this.chkDropPosition(this.element, destElem) || !this.chkDropAllCols(this.element, destElem))) {\n            if (this.parent.enableColumnVirtualization) {\n                var columns = this.parent.columns;\n                var sourceUid_1 = this.element.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n                var col = this.parent.columns.filter(function (col) { return col.uid === sourceUid_1; });\n                var colMatchIndex_1 = null;\n                var column_1 = col[0];\n                var destUid_1 = destElem.querySelector('.e-headercelldiv').getAttribute('e-mappinguid');\n                columns.some(function (col, index) {\n                    if (col.uid === destUid_1) {\n                        colMatchIndex_1 = index;\n                        return col.uid === destUid_1;\n                    }\n                    return false;\n                });\n                if (!isNullOrUndefined(colMatchIndex_1)) {\n                    this.moveColumns(colMatchIndex_1, column_1);\n                }\n            }\n            else {\n                var newIndex = this.targetParentContainerIndex(this.element, destElem);\n                var uid = this.element.firstElementChild.getAttribute('e-mappinguid');\n                this.destElement = destElem;\n                this.parent.notify(events.setReorderDestinationElement, { ele: destElem });\n                if (uid) {\n                    this.moveColumns(newIndex, this.parent.getColumnByUid(uid));\n                }\n                else {\n                    var headers = this.getHeaderCells();\n                    var oldIdx = getElementIndex(this.element, headers);\n                    var columns = this.getColumnsModel(this.parent.columns);\n                    this.moveColumns(newIndex, columns[oldIdx]);\n                }\n            }\n        }\n    };\n    Reorder.prototype.isActionPrevent = function (gObj) {\n        return isActionPrevent(gObj);\n    };\n    Reorder.prototype.moveColumns = function (destIndex, column, reorderByColumn, preventRefresh) {\n        var gObj = this.parent;\n        if (this.isActionPrevent(gObj)) {\n            gObj.notify(events.preventBatch, { instance: this, handler: this.moveColumns, arg1: destIndex, arg2: column });\n            return;\n        }\n        var isFrozen = !gObj.getFrozenColumns() && gObj.isFrozenGrid();\n        var parent = this.getColParent(column, this.parent.columns);\n        var cols = parent ? parent.columns : isFrozen ? this.parent.getColumns() : this.parent.columns;\n        var srcIdx = inArray(column, cols);\n        if (((this.parent.isFrozenGrid() && parent) || this.parent.lockcolPositionCount) && !reorderByColumn &&\n            !this.parent.enableColumnVirtualization) {\n            for (var i = 0; i < cols.length; i++) {\n                if (cols[i].field === column.field) {\n                    srcIdx = i;\n                    break;\n                }\n            }\n            var col = this.parent.getColumnByUid(this.destElement.firstElementChild.getAttribute('e-mappinguid'));\n            if (col) {\n                for (var i = 0; i < cols.length; i++) {\n                    if (cols[i].field === col.field) {\n                        destIndex = i;\n                        break;\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < cols.length; i++) {\n                    if (cols[i].headerText === this.destElement.innerText.trim()) {\n                        destIndex = i;\n                    }\n                }\n            }\n        }\n        if (!gObj.allowReordering || srcIdx === destIndex || srcIdx === -1 || destIndex === -1) {\n            return;\n        }\n        cols.splice(destIndex, 0, cols.splice(srcIdx, 1)[0]);\n        var args = { column: column, destIndex: destIndex, columns: cols, parent: parent, cancel: false };\n        gObj.notify(events.refreshFrozenColumns, args);\n        if (args.cancel) {\n            return;\n        }\n        gObj.getColumns(true);\n        gObj.notify(events.columnPositionChanged, { fromIndex: destIndex, toIndex: srcIdx });\n        if (preventRefresh !== false) {\n            gObj.notify(events.modelChanged, {\n                type: events.actionBegin, requestType: 'reorder', fromIndex: destIndex, toIndex: srcIdx, toColumnUid: column.uid\n            });\n        }\n    };\n    Reorder.prototype.targetParentContainerIndex = function (srcElem, destElem) {\n        var cols = !this.parent.getFrozenColumns() && this.parent.isFrozenGrid() ? this.parent.getColumns() :\n            this.parent.columns;\n        var headers = this.getHeaderCells();\n        var flatColumns = this.getColumnsModel(cols);\n        var parent = this.getColParent(flatColumns[getElementIndex(srcElem, headers)], cols);\n        cols = parent ? parent.columns : cols;\n        return inArray(flatColumns[getElementIndex(destElem, headers)], cols);\n    };\n    Reorder.prototype.getHeaderCells = function () {\n        var frozenColumns = this.parent.getFrozenColumns();\n        if (frozenColumns || this.parent.isFrozenGrid() || this.parent.lockcolPositionCount) {\n            var fTh = void 0;\n            var mTh = void 0;\n            var fHeaders = [];\n            var fRows = [].slice.call(this.parent.getHeaderTable().getElementsByClassName('e-columnheader'));\n            if (frozenColumns || this.parent.isFrozenGrid()) {\n                var mRows = [].slice.call(this.parent.getHeaderContent()\n                    .querySelector('.' + literals.movableHeader).getElementsByClassName('e-columnheader'));\n                for (var i = 0; i < fRows.length; i++) {\n                    fTh = [].slice.call(fRows[i].getElementsByClassName('e-headercell'));\n                    mTh = [].slice.call(mRows[i].getElementsByClassName('e-headercell'));\n                    var isAvail = void 0;\n                    for (var k = 0; k < fTh.length; k++) {\n                        for (var j = 0; j < mTh.length; j++) {\n                            if (mTh[j].innerText === fTh[k].innerText) {\n                                isAvail = true;\n                                break;\n                            }\n                        }\n                        if (!isAvail) {\n                            fHeaders = fHeaders.concat([fTh[k]]);\n                        }\n                    }\n                    for (var j = 0; j < mTh.length; j++) {\n                        fHeaders.push(mTh[j]);\n                    }\n                }\n                if (this.parent.getFrozenRightColumnsCount()) {\n                    var frTh = void 0;\n                    var frRows = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-right-header')\n                        .getElementsByClassName('e-columnheader'));\n                    frTh = [].slice.call(frRows[0].getElementsByClassName('e-headercell'));\n                    for (var i = 0; i < frTh.length; i++) {\n                        fHeaders.push(frTh[i]);\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < fRows.length; i++) {\n                    mTh = [].slice.call(fRows[i].getElementsByClassName('e-headercell'));\n                    for (var k = 0; k < mTh.length; k++) {\n                        var isAvail = void 0;\n                        for (var j = k + 1; j < mTh.length; j++) {\n                            if (mTh[j].innerText === mTh[k].innerText) {\n                                isAvail = true;\n                                break;\n                            }\n                        }\n                        if (!isAvail) {\n                            fHeaders = fHeaders.concat([mTh[k]]);\n                        }\n                    }\n                }\n            }\n            return fHeaders;\n        }\n        else {\n            return [].slice.call(this.parent.element.getElementsByClassName('e-headercell'));\n        }\n    };\n    Reorder.prototype.getColParent = function (column, columns) {\n        var parents = [];\n        this.findColParent(column, columns, parents);\n        return parents[parents.length - 1];\n    };\n    Reorder.prototype.reorderSingleColumn = function (fromFName, toFName) {\n        var fColumn = this.parent.enableColumnVirtualization ?\n            this.parent.columns.filter(function (col) { return col.field === fromFName; })[0]\n            : this.parent.getColumnByField(fromFName);\n        var toColumn = this.parent.enableColumnVirtualization ?\n            this.parent.columns.filter(function (col) { return col.field === toFName; })[0]\n            : this.parent.getColumnByField(toFName);\n        if ((!isNullOrUndefined(fColumn) && (!fColumn.allowReordering || fColumn.lockColumn)) ||\n            (!isNullOrUndefined(toColumn) && (!toColumn.allowReordering || fColumn.lockColumn))) {\n            this.parent.log('action_disabled_column', { moduleName: this.getModuleName(), column: fColumn, destColumn: toColumn });\n            return;\n        }\n        var column = toColumn;\n        var parent = this.getColParent(column, this.parent.columns);\n        var columns = parent ? parent.columns : this.parent.columns;\n        var destIndex = inArray(column, columns);\n        if (destIndex > -1) {\n            this.moveColumns(destIndex, fColumn, true);\n        }\n    };\n    Reorder.prototype.reorderMultipleColumns = function (fromFNames, toFName) {\n        var toIndex = this.parent.getColumnIndexByField(toFName);\n        var toColumn = this.parent.getColumnByField(toFName);\n        if (toIndex < 0 || (!isNullOrUndefined(toColumn) && (!toColumn.allowReordering || toColumn.lockColumn))) {\n            return;\n        }\n        for (var i = 0; i < fromFNames.length; i++) {\n            var column = this.parent.getColumnByField(fromFNames[i]);\n            if (!isNullOrUndefined(column) && (!column.allowReordering || column.lockColumn)) {\n                return;\n            }\n        }\n        for (var i = 0; i < fromFNames.length; i++) {\n            var column = this.parent.getColumnByIndex(toIndex);\n            var parent_1 = this.getColParent(column, this.parent.columns);\n            var columns = parent_1 ? parent_1.columns : this.parent.columns;\n            var destIndex = inArray(column, columns);\n            if (destIndex > -1) {\n                this.moveColumns(destIndex, this.parent.getColumnByField(fromFNames[i]), true, true);\n            }\n            if (this.parent.getColumnIndexByField(fromFNames[i + 1]) >= destIndex) {\n                toIndex++; //R to L\n            }\n        }\n    };\n    Reorder.prototype.moveTargetColumn = function (column, toIndex) {\n        if (toIndex > -1) {\n            this.moveColumns(toIndex, column, true);\n        }\n    };\n    Reorder.prototype.reorderSingleColumnByTarget = function (fieldName, toIndex) {\n        this.moveTargetColumn(this.parent.getColumnByField(fieldName), toIndex);\n    };\n    Reorder.prototype.reorderMultipleColumnByTarget = function (fieldName, toIndex) {\n        for (var i = 0; i < fieldName.length; i++) {\n            this.reorderSingleColumnByTarget(fieldName[i], toIndex);\n        }\n    };\n    /**\n     * Changes the position of the Grid columns by field names.\n     *\n     * @param  {string | string[]} fromFName - Defines the origin field names.\n     * @param  {string} toFName - Defines the destination field name.\n     * @returns {void}\n     */\n    Reorder.prototype.reorderColumns = function (fromFName, toFName) {\n        if (typeof fromFName === 'string') {\n            this.reorderSingleColumn(fromFName, toFName);\n            this.fromCol = fromFName;\n        }\n        else {\n            this.reorderMultipleColumns(fromFName, toFName);\n            this.fromCol = fromFName[0];\n        }\n    };\n    /**\n     * Changes the position of the Grid columns by field index.\n     *\n     * @param  {number} fromIndex - Defines the origin field index.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Reorder.prototype.reorderColumnByIndex = function (fromIndex, toIndex) {\n        this.moveTargetColumn(this.parent.getColumnByIndex(fromIndex), toIndex);\n    };\n    /**\n     * Changes the position of the Grid columns by field index.\n     *\n     * @param  {string | string[]} fieldName - Defines the field name.\n     * @param  {number} toIndex - Defines the destination field index.\n     * @returns {void}\n     */\n    Reorder.prototype.reorderColumnByTargetIndex = function (fieldName, toIndex) {\n        if (typeof fieldName === 'string') {\n            this.reorderSingleColumnByTarget(fieldName, toIndex);\n        }\n        else {\n            this.reorderMultipleColumnByTarget(fieldName, toIndex);\n        }\n    };\n    Reorder.prototype.enableAfterRender = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            this.createReorderElement();\n        }\n    };\n    Reorder.prototype.createReorderElement = function (e) {\n        if (e && e.args.isXaxis) {\n            this.setDisplay('none');\n        }\n        var header = this.parent.element.querySelector('.' + literals.headerContent);\n        this.upArrow = header.appendChild(this.parent\n            .createElement('div', { className: 'e-icons e-icon-reorderuparrow e-reorderuparrow', attrs: { style: 'display:none' } }));\n        this.downArrow = header.appendChild(this.parent\n            .createElement('div', { className: 'e-icons e-icon-reorderdownarrow e-reorderdownarrow', attrs: { style: 'display:none' } }));\n    };\n    /**\n     * The function used to trigger onActionComplete\n     *\n     * @param {NotifyArgs} e - specified the NotifyArgs\n     * @returns {void}\n     * @hidden\n     */\n    Reorder.prototype.onActionComplete = function (e) {\n        this.parent.trigger(events.actionComplete, extend(e, { type: events.actionComplete }));\n        var target = this.fromCol && this.parent.getColumnHeaderByField(this.fromCol);\n        if (target) {\n            this.parent.focusModule.onClick({ target: target }, true);\n        }\n    };\n    /**\n     * To destroy the reorder\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Reorder.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (this.parent.isDestroyed || !gridElement || (!gridElement.querySelector('.' + literals.gridHeader) &&\n            !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        if (this.upArrow.parentNode) {\n            remove(this.upArrow);\n        }\n        if (this.downArrow.parentNode) {\n            remove(this.downArrow);\n        }\n        this.parent.off(events.headerDrop, this.headerDrop);\n        this.parent.off(events.uiUpdate, this.enableAfterRender);\n        this.parent.off(events.reorderComplete, this.onActionComplete);\n        this.parent.off(events.columnDrag, this.drag);\n        this.parent.off(events.columnDragStart, this.dragStart);\n        this.parent.off(events.columnDragStop, this.dragStop);\n        this.parent.off(events.headerRefreshed, this.createReorderElement);\n        this.parent.off(events.keyPressed, this.keyPressHandler);\n        this.parent.off(events.destroy, this.destroy);\n        //call ejdrag and drop destroy\n    };\n    Reorder.prototype.keyPressHandler = function (e) {\n        var gObj = this.parent;\n        switch (e.action) {\n            case 'ctrlLeftArrow':\n            case 'ctrlRightArrow':\n                // eslint-disable-next-line no-case-declarations\n                var element = gObj.focusModule.currentInfo.element;\n                if (element && element.classList.contains('e-headercell')) {\n                    var column = gObj.getColumnByUid(element.firstElementChild.getAttribute('e-mappinguid'));\n                    var visibleCols = gObj.getVisibleColumns();\n                    var index = visibleCols.indexOf(column);\n                    var toCol = e.action === 'ctrlLeftArrow' ? visibleCols[index - 1] : visibleCols[index + 1];\n                    if (toCol && toCol.field && column.field) {\n                        this.reorderColumns(column.field, toCol.field);\n                    }\n                }\n                break;\n        }\n    };\n    Reorder.prototype.drag = function (e) {\n        var gObj = this.parent;\n        var target = e.target;\n        if (!e.column.allowReordering || e.column.lockColumn) {\n            return;\n        }\n        var closest = closestElement(target, '.e-headercell:not(.e-stackedHeaderCell)');\n        var cloneElement = gObj.element.querySelector('.e-cloneproperties');\n        var content = gObj.isFrozenGrid() ? gObj.getMovableVirtualContent() : gObj.getContent().firstElementChild;\n        var isLeft = this.x > getPosition(e.event).x + content.scrollLeft;\n        removeClass([].slice.call(gObj.getHeaderTable().getElementsByClassName('e-reorderindicate')), ['e-reorderindicate']);\n        this.setDisplay('none');\n        this.stopTimer();\n        classList(cloneElement, ['e-defaultcur'], ['e-notallowedcur']);\n        this.updateScrollPostion(e.event);\n        if (closest && !closest.isEqualNode(this.element)) {\n            target = closest;\n            //consider stacked, detail header cell\n            if (!(!this.chkDropPosition(this.element, target) || !this.chkDropAllCols(this.element, target))) {\n                this.updateArrowPosition(target, isLeft);\n                classList(target, ['e-allowDrop', 'e-reorderindicate'], []);\n            }\n            else if (!(gObj.allowGrouping && parentsUntil(e.target, 'e-groupdroparea'))) {\n                classList(cloneElement, ['e-notallowedcur'], ['e-defaultcur']);\n            }\n        }\n        gObj.trigger(events.columnDrag, { target: target, draggableType: 'headercell', column: e.column });\n    };\n    Reorder.prototype.updateScrollPostion = function (e) {\n        var _this = this;\n        var x = getPosition(e).x;\n        var cliRect = this.parent.element.getBoundingClientRect();\n        var cliRectBaseRight = cliRect.right;\n        if (this.parent.isFrozenGrid()) {\n            this.updateFrozenScrollPosition(x, cliRect);\n        }\n        else {\n            var cliRectBaseLeft = cliRect.left;\n            var scrollElem_1 = this.parent.getContent().firstElementChild;\n            if (x > cliRectBaseLeft && x < cliRectBaseLeft + 35) {\n                this.timer = window.setInterval(function () { _this.setScrollLeft(scrollElem_1, true); }, 50);\n            }\n            else if (x < cliRectBaseRight && x > cliRectBaseRight - 35) {\n                this.timer = window.setInterval(function () { _this.setScrollLeft(scrollElem_1, false); }, 50);\n            }\n        }\n    };\n    Reorder.prototype.updateFrozenScrollPosition = function (x, cliRect) {\n        var _this = this;\n        var scrollElem = this.parent.getContent().querySelector('.' + literals.movableContent);\n        var mhdrCliRect = this.parent.element.querySelector('.' + literals.movableHeader).getBoundingClientRect();\n        var left = this.parent.getFrozenLeftCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        var cliRectBaseRight = right ? mhdrCliRect.right : cliRect.right;\n        var cliRectBaseLeft = left ? mhdrCliRect.left : cliRect.left;\n        if (x > cliRectBaseLeft && x < cliRectBaseLeft + 35) {\n            this.timer = window.setInterval(function () { _this.setScrollLeft(scrollElem, true); }, 50);\n        }\n        else if (x < cliRectBaseRight && x > cliRectBaseRight - 35) {\n            this.timer = window.setInterval(function () { _this.setScrollLeft(scrollElem, false); }, 50);\n        }\n    };\n    Reorder.prototype.setScrollLeft = function (scrollElem, isLeft) {\n        var scrollLeft = scrollElem.scrollLeft;\n        scrollElem.scrollLeft = scrollElem.scrollLeft + (isLeft ? -5 : 5);\n        if (scrollLeft !== scrollElem.scrollLeft) {\n            this.setDisplay('none');\n        }\n    };\n    Reorder.prototype.stopTimer = function () {\n        window.clearInterval(this.timer);\n    };\n    Reorder.prototype.updateArrowPosition = function (target, isLeft) {\n        var cliRect = target.getBoundingClientRect();\n        var cliRectBase = this.parent.element.getBoundingClientRect();\n        if ((isLeft && cliRect.left < cliRectBase.left) || (!isLeft && cliRect.right > cliRectBase.right)) {\n            return;\n        }\n        if (this.parent.isFrozenGrid() && target.classList.contains('e-headercell')) {\n            var left = this.parent.getFrozenLeftCount();\n            var right = this.parent.getFrozenRightColumnsCount();\n            var dropEle = this.element.querySelector('.e-headercelldiv');\n            var dropCol = dropEle ? this.parent.getColumnByUid(dropEle.getAttribute('data-uid')) : null;\n            var col = this.parent.getColumnByUid(target.firstElementChild.getAttribute('e-mappinguid'));\n            var fhdrWidth = Math.round(this.parent.getFrozenVirtualHeader().getBoundingClientRect().right);\n            var mhdrRight = Math.round(this.parent.getMovableVirtualHeader().getBoundingClientRect().right);\n            if (col) {\n                if (left && !right && this.parent.getNormalizedColumnIndex(col.uid) >= left\n                    && ((isLeft && Math.round(cliRect.left) < fhdrWidth) || (!isLeft && mhdrRight < cliRect.right))) {\n                    return;\n                }\n                if (!left && right && dropCol && dropCol.getFreezeTableName() !== col.getFreezeTableName()\n                    && (!isLeft && Math.round(cliRect.right) < fhdrWidth)) {\n                    return;\n                }\n            }\n        }\n        var isSticky = this.parent.getHeaderContent().classList.contains('e-sticky');\n        this.upArrow.style.top = isSticky ? cliRect.top + cliRect.height + 'px' : cliRect.top + cliRect.height - cliRectBase.top + 'px';\n        this.downArrow.style.top = isSticky ? cliRect.top - 7 + 'px' : cliRect.top - cliRectBase.top - 7 + 'px';\n        this.upArrow.style.left = this.downArrow.style.left = isSticky ? (isLeft ? cliRect.left : cliRect.right) - 4 + 'px' :\n            (isLeft ? cliRect.left : cliRect.right) - cliRectBase.left - 4 + 'px';\n        this.setDisplay('');\n    };\n    Reorder.prototype.dragStart = function (e) {\n        var gObj = this.parent;\n        var target = e.target;\n        this.element = target.classList.contains('e-headercell') ? target :\n            parentsUntil(target, 'e-headercell');\n        if (!e.column.allowReordering || e.column.lockColumn) {\n            return;\n        }\n        var content = gObj.isFrozenGrid() ? gObj.getMovableVirtualContent() : gObj.getContent().firstElementChild;\n        this.x = getPosition(e.event).x + content.scrollLeft;\n        gObj.trigger(events.columnDragStart, {\n            target: target, draggableType: 'headercell', column: e.column\n        });\n    };\n    Reorder.prototype.dragStop = function (e) {\n        var gObj = this.parent;\n        this.setDisplay('none');\n        this.stopTimer();\n        if (!e.cancel) {\n            gObj.trigger(events.columnDrop, { target: e.target, draggableType: 'headercell', column: e.column });\n        }\n        removeClass([].slice.call(gObj.getHeaderTable().getElementsByClassName('e-reorderindicate')), ['e-reorderindicate']);\n    };\n    Reorder.prototype.setDisplay = function (display) {\n        this.upArrow.style.display = display;\n        this.downArrow.style.display = display;\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} return the module name\n     * @private\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    return Reorder;\n}());\nexport { Reorder };\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,iBAAiB,QAAQ,sBAAsB;AAChE,SAASC,OAAO,IAAIC,cAAc,EAAEC,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,sBAAsB;AAChG,SAASC,eAAe,EAAEC,OAAO,EAAEC,YAAY,EAAEC,WAAW,EAAEC,eAAe,QAAQ,cAAc;AACnG,OAAO,KAAKC,MAAM,MAAM,kBAAkB;AAC1C,OAAO,KAAKC,QAAQ,MAAM,yBAAyB;AACnD;AACA;AACA;AACA;AACA,IAAIC,OAAO,GAAG,aAAe,YAAY;EACrC;AACJ;AACA;AACA;AACA;AACA;EACI,SAASA,OAAOA,CAACC,MAAM,EAAE;IACrB,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,IAAI,CAACA,MAAM,CAACC,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAACD,MAAM,CAACE,EAAE,CAACL,MAAM,CAACM,UAAU,EAAE,IAAI,CAACA,UAAU,EAAE,IAAI,CAAC;IACxD,IAAI,CAACH,MAAM,CAACE,EAAE,CAACL,MAAM,CAACO,QAAQ,EAAE,IAAI,CAACC,iBAAiB,EAAE,IAAI,CAAC;IAC7D,IAAI,CAACL,MAAM,CAACE,EAAE,CAACL,MAAM,CAACS,eAAe,EAAE,IAAI,CAACC,gBAAgB,EAAE,IAAI,CAAC;IACnE,IAAI,CAACP,MAAM,CAACE,EAAE,CAACL,MAAM,CAACW,UAAU,EAAE,IAAI,CAACC,IAAI,EAAE,IAAI,CAAC;IAClD,IAAI,CAACT,MAAM,CAACE,EAAE,CAACL,MAAM,CAACa,eAAe,EAAE,IAAI,CAACC,SAAS,EAAE,IAAI,CAAC;IAC5D,IAAI,CAACX,MAAM,CAACE,EAAE,CAACL,MAAM,CAACe,cAAc,EAAE,IAAI,CAACC,QAAQ,EAAE,IAAI,CAAC;IAC1D,IAAI,CAACb,MAAM,CAACE,EAAE,CAACL,MAAM,CAACM,UAAU,EAAE,IAAI,CAACA,UAAU,EAAE,IAAI,CAAC;IACxD,IAAI,CAACH,MAAM,CAACE,EAAE,CAACL,MAAM,CAACiB,eAAe,EAAE,IAAI,CAACC,oBAAoB,EAAE,IAAI,CAAC;IACvE,IAAI,CAACf,MAAM,CAACE,EAAE,CAACL,MAAM,CAACmB,UAAU,EAAE,IAAI,CAACC,eAAe,EAAE,IAAI,CAAC;IAC7D,IAAI,CAACjB,MAAM,CAACE,EAAE,CAACL,MAAM,CAACqB,OAAO,EAAE,IAAI,CAACA,OAAO,EAAE,IAAI,CAAC;EACtD;EACAnB,OAAO,CAACoB,SAAS,CAACC,eAAe,GAAG,UAAUC,OAAO,EAAEC,QAAQ,EAAE;IAC7D,IAAIC,GAAG,GAAG,IAAI,CAACvB,MAAM,CAACwB,cAAc,CAACF,QAAQ,CAACG,iBAAiB,CAACC,YAAY,CAAC,cAAc,CAAC,CAAC;IAC7F,IAAIC,IAAI,GAAGJ,GAAG,GAAG,CAACA,GAAG,CAACK,UAAU,GAAG,IAAI;IACvC,OAAO,CAAEP,OAAO,CAACQ,aAAa,CAACC,WAAW,CAACR,QAAQ,CAACO,aAAa,CAAC,IAAI,IAAI,CAAC7B,MAAM,CAAC+B,0BAA0B,IACpG,IAAI,CAAC/B,MAAM,CAACgC,YAAY,CAAC,CAAC,IACvBC,KAAK,CAACd,SAAS,CAACe,OAAO,CAACC,IAAI,CAAC/C,cAAc,CAACiC,OAAO,EAAE,OAAO,CAAC,CAACe,QAAQ,EAAEf,OAAO,CAACQ,aAAa,CAAC,KACzFI,KAAK,CAACd,SAAS,CAACe,OAAO,CAACC,IAAI,CAAC/C,cAAc,CAACkC,QAAQ,EAAE,OAAO,CAAC,CAACc,QAAQ,EAAEd,QAAQ,CAACO,aAAa,CAAE,KAC1G,IAAI,CAACQ,0BAA0B,CAAChB,OAAO,EAAEC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAIK,IAAI;EAC1E,CAAC;EACD5B,OAAO,CAACoB,SAAS,CAACmB,cAAc,GAAG,UAAUjB,OAAO,EAAEC,QAAQ,EAAE;IAC5D,IAAIiB,OAAO;IACX,IAAIC,OAAO,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC;IACnC,IAAIC,MAAM;IACV,OAAO,CAACH,OAAO,IAAIC,OAAO,CAACG,MAAM,GAAG,CAAC,EAAE;MACnCD,MAAM,GAAGF,OAAO,CAACI,GAAG,CAAC,CAAC;MACtBL,OAAO,GAAGlB,OAAO,KAAKqB,MAAM,IAAI,IAAI,CAACL,0BAA0B,CAAChB,OAAO,EAAEC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAC3F;IACA,OAAOiB,OAAO;EAClB,CAAC;EACDxC,OAAO,CAACoB,SAAS,CAAC0B,aAAa,GAAG,UAAUtB,GAAG,EAAEuB,IAAI,EAAE9C,MAAM,EAAE;IAC3D;IACAA,MAAM,GAAGA,MAAM;IACf,KAAK,IAAI+C,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGF,IAAI,CAACH,MAAM,EAAEI,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;MAC7C,IAAIxB,GAAG,KAAKuB,IAAI,CAACC,CAAC,CAAC,EAAE;QACjB,OAAO,IAAI;MACf,CAAC,MACI,IAAID,IAAI,CAACC,CAAC,CAAC,CAACE,OAAO,EAAE;QACtB,IAAIC,GAAG,GAAGlD,MAAM,CAAC2C,MAAM;QACvB3C,MAAM,CAACmD,IAAI,CAACL,IAAI,CAACC,CAAC,CAAC,CAAC;QACpB,IAAI,CAAC,IAAI,CAACF,aAAa,CAACtB,GAAG,EAAEuB,IAAI,CAACC,CAAC,CAAC,CAACE,OAAO,EAAEjD,MAAM,CAAC,EAAE;UACnDA,MAAM,CAACoD,MAAM,CAACF,GAAG,EAAElD,MAAM,CAAC2C,MAAM,GAAGO,GAAG,CAAC;QAC3C,CAAC,MACI;UACD,OAAO,IAAI;QACf;MACJ;IACJ;IACA,OAAO,KAAK;EAChB,CAAC;EACDnD,OAAO,CAACoB,SAAS,CAACkC,eAAe,GAAG,UAAUP,IAAI,EAAE;IAChD,IAAIQ,WAAW,GAAG,EAAE;IACpB,IAAIC,OAAO,GAAG,EAAE;IAChB,IAAI,CAAC,IAAI,CAACvD,MAAM,CAACwD,gBAAgB,CAAC,CAAC,IAAI,IAAI,CAACxD,MAAM,CAACgC,YAAY,CAAC,CAAC,EAAE;MAC/D,OAAO,IAAI,CAAChC,MAAM,CAACyD,UAAU,CAAC,CAAC;IACnC,CAAC,MACI;MACD,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEC,GAAG,GAAGF,IAAI,CAACH,MAAM,EAAEI,CAAC,GAAGC,GAAG,EAAED,CAAC,EAAE,EAAE;QAC7CO,WAAW,CAACH,IAAI,CAACL,IAAI,CAACC,CAAC,CAAC,CAAC;QACzB,IAAID,IAAI,CAACC,CAAC,CAAC,CAACE,OAAO,EAAE;UACjBM,OAAO,GAAGA,OAAO,CAACG,MAAM,CAACZ,IAAI,CAACC,CAAC,CAAC,CAACE,OAAO,CAAC;QAC7C;MACJ;MACA,IAAIM,OAAO,CAACZ,MAAM,EAAE;QAChBW,WAAW,GAAGA,WAAW,CAACI,MAAM,CAAC,IAAI,CAACL,eAAe,CAACE,OAAO,CAAC,CAAC;MACnE;IACJ;IACA,OAAOD,WAAW;EACtB,CAAC;EACDvD,OAAO,CAACoB,SAAS,CAAChB,UAAU,GAAG,UAAUwD,CAAC,EAAE;IACxC,IAAIC,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,IAAI6D,WAAW,GAAG,IAAI,CAACC,OAAO,CAACC,aAAa,CAAC,kBAAkB,CAAC,IAAI,IAAI,CAACD,OAAO,CAACC,aAAa,CAAC,yBAAyB,CAAC;IACzH,IAAIC,GAAG,GAAGH,WAAW,CAACnC,YAAY,CAAC,cAAc,CAAC;IAClD,IAAIuC,MAAM,GAAGL,IAAI,CAACpC,cAAc,CAACwC,GAAG,CAAC;IACrC,IAAI,CAAC5E,cAAc,CAACuE,CAAC,CAACO,MAAM,EAAE,IAAI,CAAC,IAAK,CAAChF,iBAAiB,CAAC+E,MAAM,CAAC,KAAK,CAACA,MAAM,CAACE,eAAe,IAAIF,MAAM,CAACrC,UAAU,CAAE,EAAE;MACnH,IAAI,CAAC5B,MAAM,CAACoE,GAAG,CAAC,wBAAwB,EAAE;QAAEC,UAAU,EAAE,IAAI,CAACC,aAAa,CAAC,CAAC;QAAEL,MAAM,EAAEA;MAAO,CAAC,CAAC;MAC/F;IACJ;IACA,IAAI3C,QAAQ,GAAGlC,cAAc,CAACuE,CAAC,CAACO,MAAM,EAAE,eAAe,CAAC;IACxD,IAAIK,WAAW,GAAGjD,QAAQ,CAACyC,aAAa,CAAC,kBAAkB,CAAC,IAAIzC,QAAQ,CAACyC,aAAa,CAAC,yBAAyB,CAAC;IACjH,IAAIS,WAAW,GAAGD,WAAW,CAAC7C,YAAY,CAAC,cAAc,CAAC;IAC1D,IAAI,CAACxC,iBAAiB,CAACsF,WAAW,CAAC,EAAE;MACjC,IAAIC,UAAU,GAAGb,IAAI,CAACpC,cAAc,CAACgD,WAAW,CAAC;MACjD,IAAItF,iBAAiB,CAACuF,UAAU,CAAC,IAAI,CAACA,UAAU,CAACN,eAAe,IAAIM,UAAU,CAAC7C,UAAU,EAAE;QACvF,IAAI,CAAC5B,MAAM,CAACoE,GAAG,CAAC,wBAAwB,EAAE;UAAEC,UAAU,EAAE,IAAI,CAACC,aAAa,CAAC,CAAC;UAAEL,MAAM,EAAEA,MAAM;UAAEQ,UAAU,EAAEA;QAAW,CAAC,CAAC;QACvH;MACJ;IACJ;IACA,IAAInD,QAAQ,IAAI,EAAE,CAAC,IAAI,CAACF,eAAe,CAAC,IAAI,CAAC0C,OAAO,EAAExC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAACgB,cAAc,CAAC,IAAI,CAACwB,OAAO,EAAExC,QAAQ,CAAC,CAAC,EAAE;MAC9G,IAAI,IAAI,CAACtB,MAAM,CAAC+B,0BAA0B,EAAE;QACxC,IAAIkB,OAAO,GAAG,IAAI,CAACjD,MAAM,CAACiD,OAAO;QACjC,IAAIyB,WAAW,GAAG,IAAI,CAACZ,OAAO,CAACC,aAAa,CAAC,kBAAkB,CAAC,CAACrC,YAAY,CAAC,cAAc,CAAC;QAC7F,IAAIH,GAAG,GAAG,IAAI,CAACvB,MAAM,CAACiD,OAAO,CAAC0B,MAAM,CAAC,UAAUpD,GAAG,EAAE;UAAE,OAAOA,GAAG,CAACqD,GAAG,KAAKF,WAAW;QAAE,CAAC,CAAC;QACxF,IAAIG,eAAe,GAAG,IAAI;QAC1B,IAAIC,QAAQ,GAAGvD,GAAG,CAAC,CAAC,CAAC;QACrB,IAAIwD,SAAS,GAAGzD,QAAQ,CAACyC,aAAa,CAAC,kBAAkB,CAAC,CAACrC,YAAY,CAAC,cAAc,CAAC;QACvFuB,OAAO,CAAC+B,IAAI,CAAC,UAAUzD,GAAG,EAAE0D,KAAK,EAAE;UAC/B,IAAI1D,GAAG,CAACqD,GAAG,KAAKG,SAAS,EAAE;YACvBF,eAAe,GAAGI,KAAK;YACvB,OAAO1D,GAAG,CAACqD,GAAG,KAAKG,SAAS;UAChC;UACA,OAAO,KAAK;QAChB,CAAC,CAAC;QACF,IAAI,CAAC7F,iBAAiB,CAAC2F,eAAe,CAAC,EAAE;UACrC,IAAI,CAACK,WAAW,CAACL,eAAe,EAAEC,QAAQ,CAAC;QAC/C;MACJ,CAAC,MACI;QACD,IAAIK,QAAQ,GAAG,IAAI,CAAC9C,0BAA0B,CAAC,IAAI,CAACyB,OAAO,EAAExC,QAAQ,CAAC;QACtE,IAAIsD,GAAG,GAAG,IAAI,CAACd,OAAO,CAACrC,iBAAiB,CAACC,YAAY,CAAC,cAAc,CAAC;QACrE,IAAI,CAAC0D,WAAW,GAAG9D,QAAQ;QAC3B,IAAI,CAACtB,MAAM,CAACqF,MAAM,CAACxF,MAAM,CAACyF,4BAA4B,EAAE;UAAEC,GAAG,EAAEjE;QAAS,CAAC,CAAC;QAC1E,IAAIsD,GAAG,EAAE;UACL,IAAI,CAACM,WAAW,CAACC,QAAQ,EAAE,IAAI,CAACnF,MAAM,CAACwB,cAAc,CAACoD,GAAG,CAAC,CAAC;QAC/D,CAAC,MACI;UACD,IAAIpC,OAAO,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC;UACnC,IAAI+C,MAAM,GAAGhG,eAAe,CAAC,IAAI,CAACsE,OAAO,EAAEtB,OAAO,CAAC;UACnD,IAAIS,OAAO,GAAG,IAAI,CAACI,eAAe,CAAC,IAAI,CAACrD,MAAM,CAACiD,OAAO,CAAC;UACvD,IAAI,CAACiC,WAAW,CAACC,QAAQ,EAAElC,OAAO,CAACuC,MAAM,CAAC,CAAC;QAC/C;MACJ;IACJ;EACJ,CAAC;EACDzF,OAAO,CAACoB,SAAS,CAACvB,eAAe,GAAG,UAAUgE,IAAI,EAAE;IAChD,OAAOhE,eAAe,CAACgE,IAAI,CAAC;EAChC,CAAC;EACD7D,OAAO,CAACoB,SAAS,CAAC+D,WAAW,GAAG,UAAUO,SAAS,EAAExB,MAAM,EAAEyB,eAAe,EAAEC,cAAc,EAAE;IAC1F,IAAI/B,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,IAAI,IAAI,CAACJ,eAAe,CAACgE,IAAI,CAAC,EAAE;MAC5BA,IAAI,CAACyB,MAAM,CAACxF,MAAM,CAAC+F,YAAY,EAAE;QAAEC,QAAQ,EAAE,IAAI;QAAEC,OAAO,EAAE,IAAI,CAACZ,WAAW;QAAEa,IAAI,EAAEN,SAAS;QAAEO,IAAI,EAAE/B;MAAO,CAAC,CAAC;MAC9G;IACJ;IACA,IAAIgC,QAAQ,GAAG,CAACrC,IAAI,CAACJ,gBAAgB,CAAC,CAAC,IAAII,IAAI,CAAC5B,YAAY,CAAC,CAAC;IAC9D,IAAIhC,MAAM,GAAG,IAAI,CAACkG,YAAY,CAACjC,MAAM,EAAE,IAAI,CAACjE,MAAM,CAACiD,OAAO,CAAC;IAC3D,IAAIH,IAAI,GAAG9C,MAAM,GAAGA,MAAM,CAACiD,OAAO,GAAGgD,QAAQ,GAAG,IAAI,CAACjG,MAAM,CAACyD,UAAU,CAAC,CAAC,GAAG,IAAI,CAACzD,MAAM,CAACiD,OAAO;IAC9F,IAAIkD,MAAM,GAAG1G,OAAO,CAACwE,MAAM,EAAEnB,IAAI,CAAC;IAClC,IAAI,CAAE,IAAI,CAAC9C,MAAM,CAACgC,YAAY,CAAC,CAAC,IAAIhC,MAAM,IAAK,IAAI,CAACA,MAAM,CAACoG,oBAAoB,KAAK,CAACV,eAAe,IAChG,CAAC,IAAI,CAAC1F,MAAM,CAAC+B,0BAA0B,EAAE;MACzC,KAAK,IAAIgB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACH,MAAM,EAAEI,CAAC,EAAE,EAAE;QAClC,IAAID,IAAI,CAACC,CAAC,CAAC,CAACsD,KAAK,KAAKpC,MAAM,CAACoC,KAAK,EAAE;UAChCF,MAAM,GAAGpD,CAAC;UACV;QACJ;MACJ;MACA,IAAIxB,GAAG,GAAG,IAAI,CAACvB,MAAM,CAACwB,cAAc,CAAC,IAAI,CAAC4D,WAAW,CAAC3D,iBAAiB,CAACC,YAAY,CAAC,cAAc,CAAC,CAAC;MACrG,IAAIH,GAAG,EAAE;QACL,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACH,MAAM,EAAEI,CAAC,EAAE,EAAE;UAClC,IAAID,IAAI,CAACC,CAAC,CAAC,CAACsD,KAAK,KAAK9E,GAAG,CAAC8E,KAAK,EAAE;YAC7BZ,SAAS,GAAG1C,CAAC;YACb;UACJ;QACJ;MACJ,CAAC,MACI;QACD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACH,MAAM,EAAEI,CAAC,EAAE,EAAE;UAClC,IAAID,IAAI,CAACC,CAAC,CAAC,CAACuD,UAAU,KAAK,IAAI,CAAClB,WAAW,CAACmB,SAAS,CAACC,IAAI,CAAC,CAAC,EAAE;YAC1Df,SAAS,GAAG1C,CAAC;UACjB;QACJ;MACJ;IACJ;IACA,IAAI,CAACa,IAAI,CAACO,eAAe,IAAIgC,MAAM,KAAKV,SAAS,IAAIU,MAAM,KAAK,CAAC,CAAC,IAAIV,SAAS,KAAK,CAAC,CAAC,EAAE;MACpF;IACJ;IACA3C,IAAI,CAACM,MAAM,CAACqC,SAAS,EAAE,CAAC,EAAE3C,IAAI,CAACM,MAAM,CAAC+C,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,IAAIM,IAAI,GAAG;MAAExC,MAAM,EAAEA,MAAM;MAAEwB,SAAS,EAAEA,SAAS;MAAExC,OAAO,EAAEH,IAAI;MAAE9C,MAAM,EAAEA,MAAM;MAAE0G,MAAM,EAAE;IAAM,CAAC;IACjG9C,IAAI,CAACyB,MAAM,CAACxF,MAAM,CAAC8G,oBAAoB,EAAEF,IAAI,CAAC;IAC9C,IAAIA,IAAI,CAACC,MAAM,EAAE;MACb;IACJ;IACA9C,IAAI,CAACH,UAAU,CAAC,IAAI,CAAC;IACrBG,IAAI,CAACyB,MAAM,CAACxF,MAAM,CAAC+G,qBAAqB,EAAE;MAAEC,SAAS,EAAEpB,SAAS;MAAEqB,OAAO,EAAEX;IAAO,CAAC,CAAC;IACpF,IAAIR,cAAc,KAAK,KAAK,EAAE;MAC1B/B,IAAI,CAACyB,MAAM,CAACxF,MAAM,CAACkH,YAAY,EAAE;QAC7BC,IAAI,EAAEnH,MAAM,CAACoH,WAAW;QAAEC,WAAW,EAAE,SAAS;QAAEL,SAAS,EAAEpB,SAAS;QAAEqB,OAAO,EAAEX,MAAM;QAAEgB,WAAW,EAAElD,MAAM,CAACW;MACjH,CAAC,CAAC;IACN;EACJ,CAAC;EACD7E,OAAO,CAACoB,SAAS,CAACkB,0BAA0B,GAAG,UAAUhB,OAAO,EAAEC,QAAQ,EAAE;IACxE,IAAIwB,IAAI,GAAG,CAAC,IAAI,CAAC9C,MAAM,CAACwD,gBAAgB,CAAC,CAAC,IAAI,IAAI,CAACxD,MAAM,CAACgC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAChC,MAAM,CAACyD,UAAU,CAAC,CAAC,GAC/F,IAAI,CAACzD,MAAM,CAACiD,OAAO;IACvB,IAAIT,OAAO,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC;IACnC,IAAI2E,WAAW,GAAG,IAAI,CAAC/D,eAAe,CAACP,IAAI,CAAC;IAC5C,IAAI9C,MAAM,GAAG,IAAI,CAACkG,YAAY,CAACkB,WAAW,CAAC5H,eAAe,CAAC6B,OAAO,EAAEmB,OAAO,CAAC,CAAC,EAAEM,IAAI,CAAC;IACpFA,IAAI,GAAG9C,MAAM,GAAGA,MAAM,CAACiD,OAAO,GAAGH,IAAI;IACrC,OAAOrD,OAAO,CAAC2H,WAAW,CAAC5H,eAAe,CAAC8B,QAAQ,EAAEkB,OAAO,CAAC,CAAC,EAAEM,IAAI,CAAC;EACzE,CAAC;EACD/C,OAAO,CAACoB,SAAS,CAACsB,cAAc,GAAG,YAAY;IAC3C,IAAI4E,aAAa,GAAG,IAAI,CAACrH,MAAM,CAACwD,gBAAgB,CAAC,CAAC;IAClD,IAAI6D,aAAa,IAAI,IAAI,CAACrH,MAAM,CAACgC,YAAY,CAAC,CAAC,IAAI,IAAI,CAAChC,MAAM,CAACoG,oBAAoB,EAAE;MACjF,IAAIkB,GAAG,GAAG,KAAK,CAAC;MAChB,IAAIC,GAAG,GAAG,KAAK,CAAC;MAChB,IAAIC,QAAQ,GAAG,EAAE;MACjB,IAAIC,KAAK,GAAG,EAAE,CAACC,KAAK,CAACvF,IAAI,CAAC,IAAI,CAACnC,MAAM,CAAC2H,cAAc,CAAC,CAAC,CAACC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;MAChG,IAAIP,aAAa,IAAI,IAAI,CAACrH,MAAM,CAACgC,YAAY,CAAC,CAAC,EAAE;QAC7C,IAAI6F,KAAK,GAAG,EAAE,CAACH,KAAK,CAACvF,IAAI,CAAC,IAAI,CAACnC,MAAM,CAAC8H,gBAAgB,CAAC,CAAC,CACnD/D,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAACiI,aAAa,CAAC,CAACH,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;QAC1F,KAAK,IAAI7E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0E,KAAK,CAAC9E,MAAM,EAAEI,CAAC,EAAE,EAAE;UACnCuE,GAAG,GAAG,EAAE,CAACI,KAAK,CAACvF,IAAI,CAACsF,KAAK,CAAC1E,CAAC,CAAC,CAAC6E,sBAAsB,CAAC,cAAc,CAAC,CAAC;UACpEL,GAAG,GAAG,EAAE,CAACG,KAAK,CAACvF,IAAI,CAAC0F,KAAK,CAAC9E,CAAC,CAAC,CAAC6E,sBAAsB,CAAC,cAAc,CAAC,CAAC;UACpE,IAAII,OAAO,GAAG,KAAK,CAAC;UACpB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,GAAG,CAAC3E,MAAM,EAAEsF,CAAC,EAAE,EAAE;YACjC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,GAAG,CAAC5E,MAAM,EAAEuF,CAAC,EAAE,EAAE;cACjC,IAAIX,GAAG,CAACW,CAAC,CAAC,CAAC3B,SAAS,KAAKe,GAAG,CAACW,CAAC,CAAC,CAAC1B,SAAS,EAAE;gBACvCyB,OAAO,GAAG,IAAI;gBACd;cACJ;YACJ;YACA,IAAI,CAACA,OAAO,EAAE;cACVR,QAAQ,GAAGA,QAAQ,CAAC9D,MAAM,CAAC,CAAC4D,GAAG,CAACW,CAAC,CAAC,CAAC,CAAC;YACxC;UACJ;UACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGX,GAAG,CAAC5E,MAAM,EAAEuF,CAAC,EAAE,EAAE;YACjCV,QAAQ,CAACrE,IAAI,CAACoE,GAAG,CAACW,CAAC,CAAC,CAAC;UACzB;QACJ;QACA,IAAI,IAAI,CAAClI,MAAM,CAACmI,0BAA0B,CAAC,CAAC,EAAE;UAC1C,IAAIC,IAAI,GAAG,KAAK,CAAC;UACjB,IAAIC,MAAM,GAAG,EAAE,CAACX,KAAK,CAACvF,IAAI,CAAC,IAAI,CAACnC,MAAM,CAAC8H,gBAAgB,CAAC,CAAC,CAAC/D,aAAa,CAAC,wBAAwB,CAAC,CAC5F6D,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;UAC9CQ,IAAI,GAAG,EAAE,CAACV,KAAK,CAACvF,IAAI,CAACkG,MAAM,CAAC,CAAC,CAAC,CAACT,sBAAsB,CAAC,cAAc,CAAC,CAAC;UACtE,KAAK,IAAI7E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqF,IAAI,CAACzF,MAAM,EAAEI,CAAC,EAAE,EAAE;YAClCyE,QAAQ,CAACrE,IAAI,CAACiF,IAAI,CAACrF,CAAC,CAAC,CAAC;UAC1B;QACJ;MACJ,CAAC,MACI;QACD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0E,KAAK,CAAC9E,MAAM,EAAEI,CAAC,EAAE,EAAE;UACnCwE,GAAG,GAAG,EAAE,CAACG,KAAK,CAACvF,IAAI,CAACsF,KAAK,CAAC1E,CAAC,CAAC,CAAC6E,sBAAsB,CAAC,cAAc,CAAC,CAAC;UACpE,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,GAAG,CAAC5E,MAAM,EAAEsF,CAAC,EAAE,EAAE;YACjC,IAAID,OAAO,GAAG,KAAK,CAAC;YACpB,KAAK,IAAIE,CAAC,GAAGD,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGX,GAAG,CAAC5E,MAAM,EAAEuF,CAAC,EAAE,EAAE;cACrC,IAAIX,GAAG,CAACW,CAAC,CAAC,CAAC3B,SAAS,KAAKgB,GAAG,CAACU,CAAC,CAAC,CAAC1B,SAAS,EAAE;gBACvCyB,OAAO,GAAG,IAAI;gBACd;cACJ;YACJ;YACA,IAAI,CAACA,OAAO,EAAE;cACVR,QAAQ,GAAGA,QAAQ,CAAC9D,MAAM,CAAC,CAAC6D,GAAG,CAACU,CAAC,CAAC,CAAC,CAAC;YACxC;UACJ;QACJ;MACJ;MACA,OAAOT,QAAQ;IACnB,CAAC,MACI;MACD,OAAO,EAAE,CAACE,KAAK,CAACvF,IAAI,CAAC,IAAI,CAACnC,MAAM,CAAC8D,OAAO,CAAC8D,sBAAsB,CAAC,cAAc,CAAC,CAAC;IACpF;EACJ,CAAC;EACD7H,OAAO,CAACoB,SAAS,CAAC+E,YAAY,GAAG,UAAUjC,MAAM,EAAEhB,OAAO,EAAE;IACxD,IAAIqF,OAAO,GAAG,EAAE;IAChB,IAAI,CAACzF,aAAa,CAACoB,MAAM,EAAEhB,OAAO,EAAEqF,OAAO,CAAC;IAC5C,OAAOA,OAAO,CAACA,OAAO,CAAC3F,MAAM,GAAG,CAAC,CAAC;EACtC,CAAC;EACD5C,OAAO,CAACoB,SAAS,CAACoH,mBAAmB,GAAG,UAAUC,SAAS,EAAEC,OAAO,EAAE;IAClE,IAAIC,OAAO,GAAG,IAAI,CAAC1I,MAAM,CAAC+B,0BAA0B,GAChD,IAAI,CAAC/B,MAAM,CAACiD,OAAO,CAAC0B,MAAM,CAAC,UAAUpD,GAAG,EAAE;MAAE,OAAOA,GAAG,CAAC8E,KAAK,KAAKmC,SAAS;IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAC/E,IAAI,CAACxI,MAAM,CAAC2I,gBAAgB,CAACH,SAAS,CAAC;IAC7C,IAAII,QAAQ,GAAG,IAAI,CAAC5I,MAAM,CAAC+B,0BAA0B,GACjD,IAAI,CAAC/B,MAAM,CAACiD,OAAO,CAAC0B,MAAM,CAAC,UAAUpD,GAAG,EAAE;MAAE,OAAOA,GAAG,CAAC8E,KAAK,KAAKoC,OAAO;IAAE,CAAC,CAAC,CAAC,CAAC,CAAC,GAC7E,IAAI,CAACzI,MAAM,CAAC2I,gBAAgB,CAACF,OAAO,CAAC;IAC3C,IAAK,CAACvJ,iBAAiB,CAACwJ,OAAO,CAAC,KAAK,CAACA,OAAO,CAACvE,eAAe,IAAIuE,OAAO,CAAC9G,UAAU,CAAC,IAC/E,CAAC1C,iBAAiB,CAAC0J,QAAQ,CAAC,KAAK,CAACA,QAAQ,CAACzE,eAAe,IAAIuE,OAAO,CAAC9G,UAAU,CAAE,EAAE;MACrF,IAAI,CAAC5B,MAAM,CAACoE,GAAG,CAAC,wBAAwB,EAAE;QAAEC,UAAU,EAAE,IAAI,CAACC,aAAa,CAAC,CAAC;QAAEL,MAAM,EAAEyE,OAAO;QAAEjE,UAAU,EAAEmE;MAAS,CAAC,CAAC;MACtH;IACJ;IACA,IAAI3E,MAAM,GAAG2E,QAAQ;IACrB,IAAI5I,MAAM,GAAG,IAAI,CAACkG,YAAY,CAACjC,MAAM,EAAE,IAAI,CAACjE,MAAM,CAACiD,OAAO,CAAC;IAC3D,IAAIA,OAAO,GAAGjD,MAAM,GAAGA,MAAM,CAACiD,OAAO,GAAG,IAAI,CAACjD,MAAM,CAACiD,OAAO;IAC3D,IAAIwC,SAAS,GAAGhG,OAAO,CAACwE,MAAM,EAAEhB,OAAO,CAAC;IACxC,IAAIwC,SAAS,GAAG,CAAC,CAAC,EAAE;MAChB,IAAI,CAACP,WAAW,CAACO,SAAS,EAAEiD,OAAO,EAAE,IAAI,CAAC;IAC9C;EACJ,CAAC;EACD3I,OAAO,CAACoB,SAAS,CAAC0H,sBAAsB,GAAG,UAAUC,UAAU,EAAEL,OAAO,EAAE;IACtE,IAAI3B,OAAO,GAAG,IAAI,CAAC9G,MAAM,CAAC+I,qBAAqB,CAACN,OAAO,CAAC;IACxD,IAAIG,QAAQ,GAAG,IAAI,CAAC5I,MAAM,CAAC2I,gBAAgB,CAACF,OAAO,CAAC;IACpD,IAAI3B,OAAO,GAAG,CAAC,IAAK,CAAC5H,iBAAiB,CAAC0J,QAAQ,CAAC,KAAK,CAACA,QAAQ,CAACzE,eAAe,IAAIyE,QAAQ,CAAChH,UAAU,CAAE,EAAE;MACrG;IACJ;IACA,KAAK,IAAImB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+F,UAAU,CAACnG,MAAM,EAAEI,CAAC,EAAE,EAAE;MACxC,IAAIkB,MAAM,GAAG,IAAI,CAACjE,MAAM,CAAC2I,gBAAgB,CAACG,UAAU,CAAC/F,CAAC,CAAC,CAAC;MACxD,IAAI,CAAC7D,iBAAiB,CAAC+E,MAAM,CAAC,KAAK,CAACA,MAAM,CAACE,eAAe,IAAIF,MAAM,CAACrC,UAAU,CAAC,EAAE;QAC9E;MACJ;IACJ;IACA,KAAK,IAAImB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+F,UAAU,CAACnG,MAAM,EAAEI,CAAC,EAAE,EAAE;MACxC,IAAIkB,MAAM,GAAG,IAAI,CAACjE,MAAM,CAACgJ,gBAAgB,CAAClC,OAAO,CAAC;MAClD,IAAImC,QAAQ,GAAG,IAAI,CAAC/C,YAAY,CAACjC,MAAM,EAAE,IAAI,CAACjE,MAAM,CAACiD,OAAO,CAAC;MAC7D,IAAIA,OAAO,GAAGgG,QAAQ,GAAGA,QAAQ,CAAChG,OAAO,GAAG,IAAI,CAACjD,MAAM,CAACiD,OAAO;MAC/D,IAAIwC,SAAS,GAAGhG,OAAO,CAACwE,MAAM,EAAEhB,OAAO,CAAC;MACxC,IAAIwC,SAAS,GAAG,CAAC,CAAC,EAAE;QAChB,IAAI,CAACP,WAAW,CAACO,SAAS,EAAE,IAAI,CAACzF,MAAM,CAAC2I,gBAAgB,CAACG,UAAU,CAAC/F,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC;MACxF;MACA,IAAI,IAAI,CAAC/C,MAAM,CAAC+I,qBAAqB,CAACD,UAAU,CAAC/F,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI0C,SAAS,EAAE;QACnEqB,OAAO,EAAE,CAAC,CAAC;MACf;IACJ;EACJ,CAAC;;EACD/G,OAAO,CAACoB,SAAS,CAAC+H,gBAAgB,GAAG,UAAUjF,MAAM,EAAE6C,OAAO,EAAE;IAC5D,IAAIA,OAAO,GAAG,CAAC,CAAC,EAAE;MACd,IAAI,CAAC5B,WAAW,CAAC4B,OAAO,EAAE7C,MAAM,EAAE,IAAI,CAAC;IAC3C;EACJ,CAAC;EACDlE,OAAO,CAACoB,SAAS,CAACgI,2BAA2B,GAAG,UAAUC,SAAS,EAAEtC,OAAO,EAAE;IAC1E,IAAI,CAACoC,gBAAgB,CAAC,IAAI,CAAClJ,MAAM,CAAC2I,gBAAgB,CAACS,SAAS,CAAC,EAAEtC,OAAO,CAAC;EAC3E,CAAC;EACD/G,OAAO,CAACoB,SAAS,CAACkI,6BAA6B,GAAG,UAAUD,SAAS,EAAEtC,OAAO,EAAE;IAC5E,KAAK,IAAI/D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqG,SAAS,CAACzG,MAAM,EAAEI,CAAC,EAAE,EAAE;MACvC,IAAI,CAACoG,2BAA2B,CAACC,SAAS,CAACrG,CAAC,CAAC,EAAE+D,OAAO,CAAC;IAC3D;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI/G,OAAO,CAACoB,SAAS,CAACmI,cAAc,GAAG,UAAUd,SAAS,EAAEC,OAAO,EAAE;IAC7D,IAAI,OAAOD,SAAS,KAAK,QAAQ,EAAE;MAC/B,IAAI,CAACD,mBAAmB,CAACC,SAAS,EAAEC,OAAO,CAAC;MAC5C,IAAI,CAACc,OAAO,GAAGf,SAAS;IAC5B,CAAC,MACI;MACD,IAAI,CAACK,sBAAsB,CAACL,SAAS,EAAEC,OAAO,CAAC;MAC/C,IAAI,CAACc,OAAO,GAAGf,SAAS,CAAC,CAAC,CAAC;IAC/B;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACIzI,OAAO,CAACoB,SAAS,CAACqI,oBAAoB,GAAG,UAAU3C,SAAS,EAAEC,OAAO,EAAE;IACnE,IAAI,CAACoC,gBAAgB,CAAC,IAAI,CAAClJ,MAAM,CAACgJ,gBAAgB,CAACnC,SAAS,CAAC,EAAEC,OAAO,CAAC;EAC3E,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACI/G,OAAO,CAACoB,SAAS,CAACsI,0BAA0B,GAAG,UAAUL,SAAS,EAAEtC,OAAO,EAAE;IACzE,IAAI,OAAOsC,SAAS,KAAK,QAAQ,EAAE;MAC/B,IAAI,CAACD,2BAA2B,CAACC,SAAS,EAAEtC,OAAO,CAAC;IACxD,CAAC,MACI;MACD,IAAI,CAACuC,6BAA6B,CAACD,SAAS,EAAEtC,OAAO,CAAC;IAC1D;EACJ,CAAC;EACD/G,OAAO,CAACoB,SAAS,CAACd,iBAAiB,GAAG,UAAUsD,CAAC,EAAE;IAC/C,IAAIA,CAAC,CAAC+F,MAAM,KAAK,IAAI,CAACpF,aAAa,CAAC,CAAC,IAAIX,CAAC,CAACgG,MAAM,EAAE;MAC/C,IAAI,CAAC5I,oBAAoB,CAAC,CAAC;IAC/B;EACJ,CAAC;EACDhB,OAAO,CAACoB,SAAS,CAACJ,oBAAoB,GAAG,UAAU4C,CAAC,EAAE;IAClD,IAAIA,CAAC,IAAIA,CAAC,CAAC8C,IAAI,CAACmD,OAAO,EAAE;MACrB,IAAI,CAACC,UAAU,CAAC,MAAM,CAAC;IAC3B;IACA,IAAInH,MAAM,GAAG,IAAI,CAAC1C,MAAM,CAAC8D,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAACgK,aAAa,CAAC;IAC5E,IAAI,CAACC,OAAO,GAAGrH,MAAM,CAACsH,WAAW,CAAC,IAAI,CAAChK,MAAM,CACxCiK,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE,gDAAgD;MAAEC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAe;IAAE,CAAC,CAAC,CAAC;IAC7H,IAAI,CAACC,SAAS,GAAG3H,MAAM,CAACsH,WAAW,CAAC,IAAI,CAAChK,MAAM,CAC1CiK,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE,oDAAoD;MAAEC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAe;IAAE,CAAC,CAAC,CAAC;EACrI,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;EACIrK,OAAO,CAACoB,SAAS,CAACZ,gBAAgB,GAAG,UAAUoD,CAAC,EAAE;IAC9C,IAAI,CAAC3D,MAAM,CAACsK,OAAO,CAACzK,MAAM,CAAC0K,cAAc,EAAEtL,MAAM,CAAC0E,CAAC,EAAE;MAAEqD,IAAI,EAAEnH,MAAM,CAAC0K;IAAe,CAAC,CAAC,CAAC;IACtF,IAAIrG,MAAM,GAAG,IAAI,CAACqF,OAAO,IAAI,IAAI,CAACvJ,MAAM,CAACwK,sBAAsB,CAAC,IAAI,CAACjB,OAAO,CAAC;IAC7E,IAAIrF,MAAM,EAAE;MACR,IAAI,CAAClE,MAAM,CAACyK,WAAW,CAACC,OAAO,CAAC;QAAExG,MAAM,EAAEA;MAAO,CAAC,EAAE,IAAI,CAAC;IAC7D;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACInE,OAAO,CAACoB,SAAS,CAACD,OAAO,GAAG,YAAY;IACpC,IAAIyJ,WAAW,GAAG,IAAI,CAAC3K,MAAM,CAAC8D,OAAO;IACrC,IAAI,IAAI,CAAC9D,MAAM,CAACC,WAAW,IAAI,CAAC0K,WAAW,IAAK,CAACA,WAAW,CAAC5G,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAAC8K,UAAU,CAAC,IACjG,CAACD,WAAW,CAAC5G,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAAC+K,WAAW,CAAE,EAAE;MACzD;IACJ;IACA,IAAI,IAAI,CAACd,OAAO,CAACe,UAAU,EAAE;MACzBvL,MAAM,CAAC,IAAI,CAACwK,OAAO,CAAC;IACxB;IACA,IAAI,IAAI,CAACM,SAAS,CAACS,UAAU,EAAE;MAC3BvL,MAAM,CAAC,IAAI,CAAC8K,SAAS,CAAC;IAC1B;IACA,IAAI,CAACrK,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACM,UAAU,EAAE,IAAI,CAACA,UAAU,CAAC;IACnD,IAAI,CAACH,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACO,QAAQ,EAAE,IAAI,CAACC,iBAAiB,CAAC;IACxD,IAAI,CAACL,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACS,eAAe,EAAE,IAAI,CAACC,gBAAgB,CAAC;IAC9D,IAAI,CAACP,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACW,UAAU,EAAE,IAAI,CAACC,IAAI,CAAC;IAC7C,IAAI,CAACT,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACa,eAAe,EAAE,IAAI,CAACC,SAAS,CAAC;IACvD,IAAI,CAACX,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACe,cAAc,EAAE,IAAI,CAACC,QAAQ,CAAC;IACrD,IAAI,CAACb,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACiB,eAAe,EAAE,IAAI,CAACC,oBAAoB,CAAC;IAClE,IAAI,CAACf,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACmB,UAAU,EAAE,IAAI,CAACC,eAAe,CAAC;IACxD,IAAI,CAACjB,MAAM,CAAC+K,GAAG,CAAClL,MAAM,CAACqB,OAAO,EAAE,IAAI,CAACA,OAAO,CAAC;IAC7C;EACJ,CAAC;;EACDnB,OAAO,CAACoB,SAAS,CAACF,eAAe,GAAG,UAAU0C,CAAC,EAAE;IAC7C,IAAIC,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,QAAQ2D,CAAC,CAACqH,MAAM;MACZ,KAAK,eAAe;MACpB,KAAK,gBAAgB;QACjB;QACA,IAAIlH,OAAO,GAAGF,IAAI,CAAC6G,WAAW,CAACQ,WAAW,CAACnH,OAAO;QAClD,IAAIA,OAAO,IAAIA,OAAO,CAACxE,SAAS,CAAC4L,QAAQ,CAAC,cAAc,CAAC,EAAE;UACvD,IAAIjH,MAAM,GAAGL,IAAI,CAACpC,cAAc,CAACsC,OAAO,CAACrC,iBAAiB,CAACC,YAAY,CAAC,cAAc,CAAC,CAAC;UACxF,IAAIyJ,WAAW,GAAGvH,IAAI,CAACwH,iBAAiB,CAAC,CAAC;UAC1C,IAAInG,KAAK,GAAGkG,WAAW,CAACjJ,OAAO,CAAC+B,MAAM,CAAC;UACvC,IAAIoH,KAAK,GAAG1H,CAAC,CAACqH,MAAM,KAAK,eAAe,GAAGG,WAAW,CAAClG,KAAK,GAAG,CAAC,CAAC,GAAGkG,WAAW,CAAClG,KAAK,GAAG,CAAC,CAAC;UAC1F,IAAIoG,KAAK,IAAIA,KAAK,CAAChF,KAAK,IAAIpC,MAAM,CAACoC,KAAK,EAAE;YACtC,IAAI,CAACiD,cAAc,CAACrF,MAAM,CAACoC,KAAK,EAAEgF,KAAK,CAAChF,KAAK,CAAC;UAClD;QACJ;QACA;IACR;EACJ,CAAC;EACDtG,OAAO,CAACoB,SAAS,CAACV,IAAI,GAAG,UAAUkD,CAAC,EAAE;IAClC,IAAIC,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,IAAIkE,MAAM,GAAGP,CAAC,CAACO,MAAM;IACrB,IAAI,CAACP,CAAC,CAACM,MAAM,CAACE,eAAe,IAAIR,CAAC,CAACM,MAAM,CAACrC,UAAU,EAAE;MAClD;IACJ;IACA,IAAIzC,OAAO,GAAGC,cAAc,CAAC8E,MAAM,EAAE,yCAAyC,CAAC;IAC/E,IAAIoH,YAAY,GAAG1H,IAAI,CAACE,OAAO,CAACC,aAAa,CAAC,oBAAoB,CAAC;IACnE,IAAIwH,OAAO,GAAG3H,IAAI,CAAC5B,YAAY,CAAC,CAAC,GAAG4B,IAAI,CAAC4H,wBAAwB,CAAC,CAAC,GAAG5H,IAAI,CAAC6H,UAAU,CAAC,CAAC,CAAChK,iBAAiB;IACzG,IAAIiK,MAAM,GAAG,IAAI,CAACC,CAAC,GAAGhM,WAAW,CAACgE,CAAC,CAACiI,KAAK,CAAC,CAACD,CAAC,GAAGJ,OAAO,CAACM,UAAU;IACjExM,WAAW,CAAC,EAAE,CAACqI,KAAK,CAACvF,IAAI,CAACyB,IAAI,CAAC+D,cAAc,CAAC,CAAC,CAACC,sBAAsB,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;IACpH,IAAI,CAACiC,UAAU,CAAC,MAAM,CAAC;IACvB,IAAI,CAACiC,SAAS,CAAC,CAAC;IAChBxM,SAAS,CAACgM,YAAY,EAAE,CAAC,cAAc,CAAC,EAAE,CAAC,iBAAiB,CAAC,CAAC;IAC9D,IAAI,CAACS,mBAAmB,CAACpI,CAAC,CAACiI,KAAK,CAAC;IACjC,IAAIzM,OAAO,IAAI,CAACA,OAAO,CAAC2C,WAAW,CAAC,IAAI,CAACgC,OAAO,CAAC,EAAE;MAC/CI,MAAM,GAAG/E,OAAO;MAChB;MACA,IAAI,EAAE,CAAC,IAAI,CAACiC,eAAe,CAAC,IAAI,CAAC0C,OAAO,EAAEI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC5B,cAAc,CAAC,IAAI,CAACwB,OAAO,EAAEI,MAAM,CAAC,CAAC,EAAE;QAC9F,IAAI,CAAC8H,mBAAmB,CAAC9H,MAAM,EAAEwH,MAAM,CAAC;QACxCpM,SAAS,CAAC4E,MAAM,EAAE,CAAC,aAAa,EAAE,mBAAmB,CAAC,EAAE,EAAE,CAAC;MAC/D,CAAC,MACI,IAAI,EAAEN,IAAI,CAACqI,aAAa,IAAIvM,YAAY,CAACiE,CAAC,CAACO,MAAM,EAAE,iBAAiB,CAAC,CAAC,EAAE;QACzE5E,SAAS,CAACgM,YAAY,EAAE,CAAC,iBAAiB,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;MAClE;IACJ;IACA1H,IAAI,CAAC0G,OAAO,CAACzK,MAAM,CAACW,UAAU,EAAE;MAAE0D,MAAM,EAAEA,MAAM;MAAEgI,aAAa,EAAE,YAAY;MAAEjI,MAAM,EAAEN,CAAC,CAACM;IAAO,CAAC,CAAC;EACtG,CAAC;EACDlE,OAAO,CAACoB,SAAS,CAAC4K,mBAAmB,GAAG,UAAUpI,CAAC,EAAE;IACjD,IAAIwI,KAAK,GAAG,IAAI;IAChB,IAAIR,CAAC,GAAGhM,WAAW,CAACgE,CAAC,CAAC,CAACgI,CAAC;IACxB,IAAIS,OAAO,GAAG,IAAI,CAACpM,MAAM,CAAC8D,OAAO,CAACuI,qBAAqB,CAAC,CAAC;IACzD,IAAIC,gBAAgB,GAAGF,OAAO,CAACG,KAAK;IACpC,IAAI,IAAI,CAACvM,MAAM,CAACgC,YAAY,CAAC,CAAC,EAAE;MAC5B,IAAI,CAACwK,0BAA0B,CAACb,CAAC,EAAES,OAAO,CAAC;IAC/C,CAAC,MACI;MACD,IAAIK,eAAe,GAAGL,OAAO,CAACM,IAAI;MAClC,IAAIC,YAAY,GAAG,IAAI,CAAC3M,MAAM,CAACyL,UAAU,CAAC,CAAC,CAAChK,iBAAiB;MAC7D,IAAIkK,CAAC,GAAGc,eAAe,IAAId,CAAC,GAAGc,eAAe,GAAG,EAAE,EAAE;QACjD,IAAI,CAACG,KAAK,GAAGC,MAAM,CAACC,WAAW,CAAC,YAAY;UAAEX,KAAK,CAACY,aAAa,CAACJ,YAAY,EAAE,IAAI,CAAC;QAAE,CAAC,EAAE,EAAE,CAAC;MACjG,CAAC,MACI,IAAIhB,CAAC,GAAGW,gBAAgB,IAAIX,CAAC,GAAGW,gBAAgB,GAAG,EAAE,EAAE;QACxD,IAAI,CAACM,KAAK,GAAGC,MAAM,CAACC,WAAW,CAAC,YAAY;UAAEX,KAAK,CAACY,aAAa,CAACJ,YAAY,EAAE,KAAK,CAAC;QAAE,CAAC,EAAE,EAAE,CAAC;MAClG;IACJ;EACJ,CAAC;EACD5M,OAAO,CAACoB,SAAS,CAACqL,0BAA0B,GAAG,UAAUb,CAAC,EAAES,OAAO,EAAE;IACjE,IAAID,KAAK,GAAG,IAAI;IAChB,IAAIa,UAAU,GAAG,IAAI,CAAChN,MAAM,CAACyL,UAAU,CAAC,CAAC,CAAC1H,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAACmN,cAAc,CAAC;IACtF,IAAIC,WAAW,GAAG,IAAI,CAAClN,MAAM,CAAC8D,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGjE,QAAQ,CAACiI,aAAa,CAAC,CAACsE,qBAAqB,CAAC,CAAC;IACzG,IAAIK,IAAI,GAAG,IAAI,CAAC1M,MAAM,CAACmN,kBAAkB,CAAC,CAAC;IAC3C,IAAIZ,KAAK,GAAG,IAAI,CAACvM,MAAM,CAACmI,0BAA0B,CAAC,CAAC;IACpD,IAAImE,gBAAgB,GAAGC,KAAK,GAAGW,WAAW,CAACX,KAAK,GAAGH,OAAO,CAACG,KAAK;IAChE,IAAIE,eAAe,GAAGC,IAAI,GAAGQ,WAAW,CAACR,IAAI,GAAGN,OAAO,CAACM,IAAI;IAC5D,IAAIf,CAAC,GAAGc,eAAe,IAAId,CAAC,GAAGc,eAAe,GAAG,EAAE,EAAE;MACjD,IAAI,CAACG,KAAK,GAAGC,MAAM,CAACC,WAAW,CAAC,YAAY;QAAEX,KAAK,CAACY,aAAa,CAACC,UAAU,EAAE,IAAI,CAAC;MAAE,CAAC,EAAE,EAAE,CAAC;IAC/F,CAAC,MACI,IAAIrB,CAAC,GAAGW,gBAAgB,IAAIX,CAAC,GAAGW,gBAAgB,GAAG,EAAE,EAAE;MACxD,IAAI,CAACM,KAAK,GAAGC,MAAM,CAACC,WAAW,CAAC,YAAY;QAAEX,KAAK,CAACY,aAAa,CAACC,UAAU,EAAE,KAAK,CAAC;MAAE,CAAC,EAAE,EAAE,CAAC;IAChG;EACJ,CAAC;EACDjN,OAAO,CAACoB,SAAS,CAAC4L,aAAa,GAAG,UAAUC,UAAU,EAAEtB,MAAM,EAAE;IAC5D,IAAIG,UAAU,GAAGmB,UAAU,CAACnB,UAAU;IACtCmB,UAAU,CAACnB,UAAU,GAAGmB,UAAU,CAACnB,UAAU,IAAIH,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;IACjE,IAAIG,UAAU,KAAKmB,UAAU,CAACnB,UAAU,EAAE;MACtC,IAAI,CAAChC,UAAU,CAAC,MAAM,CAAC;IAC3B;EACJ,CAAC;EACD9J,OAAO,CAACoB,SAAS,CAAC2K,SAAS,GAAG,YAAY;IACtCe,MAAM,CAACO,aAAa,CAAC,IAAI,CAACR,KAAK,CAAC;EACpC,CAAC;EACD7M,OAAO,CAACoB,SAAS,CAAC6K,mBAAmB,GAAG,UAAU9H,MAAM,EAAEwH,MAAM,EAAE;IAC9D,IAAIU,OAAO,GAAGlI,MAAM,CAACmI,qBAAqB,CAAC,CAAC;IAC5C,IAAIgB,WAAW,GAAG,IAAI,CAACrN,MAAM,CAAC8D,OAAO,CAACuI,qBAAqB,CAAC,CAAC;IAC7D,IAAKX,MAAM,IAAIU,OAAO,CAACM,IAAI,GAAGW,WAAW,CAACX,IAAI,IAAM,CAAChB,MAAM,IAAIU,OAAO,CAACG,KAAK,GAAGc,WAAW,CAACd,KAAM,EAAE;MAC/F;IACJ;IACA,IAAI,IAAI,CAACvM,MAAM,CAACgC,YAAY,CAAC,CAAC,IAAIkC,MAAM,CAAC5E,SAAS,CAAC4L,QAAQ,CAAC,cAAc,CAAC,EAAE;MACzE,IAAIwB,IAAI,GAAG,IAAI,CAAC1M,MAAM,CAACmN,kBAAkB,CAAC,CAAC;MAC3C,IAAIZ,KAAK,GAAG,IAAI,CAACvM,MAAM,CAACmI,0BAA0B,CAAC,CAAC;MACpD,IAAImF,OAAO,GAAG,IAAI,CAACxJ,OAAO,CAACC,aAAa,CAAC,kBAAkB,CAAC;MAC5D,IAAIwJ,OAAO,GAAGD,OAAO,GAAG,IAAI,CAACtN,MAAM,CAACwB,cAAc,CAAC8L,OAAO,CAAC5L,YAAY,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI;MAC3F,IAAIH,GAAG,GAAG,IAAI,CAACvB,MAAM,CAACwB,cAAc,CAAC0C,MAAM,CAACzC,iBAAiB,CAACC,YAAY,CAAC,cAAc,CAAC,CAAC;MAC3F,IAAI8L,SAAS,GAAGC,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC1N,MAAM,CAAC2N,sBAAsB,CAAC,CAAC,CAACtB,qBAAqB,CAAC,CAAC,CAACE,KAAK,CAAC;MAC9F,IAAIqB,SAAS,GAAGH,IAAI,CAACC,KAAK,CAAC,IAAI,CAAC1N,MAAM,CAAC6N,uBAAuB,CAAC,CAAC,CAACxB,qBAAqB,CAAC,CAAC,CAACE,KAAK,CAAC;MAC/F,IAAIhL,GAAG,EAAE;QACL,IAAImL,IAAI,IAAI,CAACH,KAAK,IAAI,IAAI,CAACvM,MAAM,CAAC8N,wBAAwB,CAACvM,GAAG,CAACqD,GAAG,CAAC,IAAI8H,IAAI,KAClEhB,MAAM,IAAI+B,IAAI,CAACC,KAAK,CAACtB,OAAO,CAACM,IAAI,CAAC,GAAGc,SAAS,IAAM,CAAC9B,MAAM,IAAIkC,SAAS,GAAGxB,OAAO,CAACG,KAAM,CAAC,EAAE;UACjG;QACJ;QACA,IAAI,CAACG,IAAI,IAAIH,KAAK,IAAIgB,OAAO,IAAIA,OAAO,CAACQ,kBAAkB,CAAC,CAAC,KAAKxM,GAAG,CAACwM,kBAAkB,CAAC,CAAC,IAClF,CAACrC,MAAM,IAAI+B,IAAI,CAACC,KAAK,CAACtB,OAAO,CAACG,KAAK,CAAC,GAAGiB,SAAU,EAAE;UACvD;QACJ;MACJ;IACJ;IACA,IAAIQ,QAAQ,GAAG,IAAI,CAAChO,MAAM,CAAC8H,gBAAgB,CAAC,CAAC,CAACxI,SAAS,CAAC4L,QAAQ,CAAC,UAAU,CAAC;IAC5E,IAAI,CAACnB,OAAO,CAACK,KAAK,CAAC6D,GAAG,GAAGD,QAAQ,GAAG5B,OAAO,CAAC6B,GAAG,GAAG7B,OAAO,CAAC8B,MAAM,GAAG,IAAI,GAAG9B,OAAO,CAAC6B,GAAG,GAAG7B,OAAO,CAAC8B,MAAM,GAAGb,WAAW,CAACY,GAAG,GAAG,IAAI;IAC/H,IAAI,CAAC5D,SAAS,CAACD,KAAK,CAAC6D,GAAG,GAAGD,QAAQ,GAAG5B,OAAO,CAAC6B,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG7B,OAAO,CAAC6B,GAAG,GAAGZ,WAAW,CAACY,GAAG,GAAG,CAAC,GAAG,IAAI;IACvG,IAAI,CAAClE,OAAO,CAACK,KAAK,CAACsC,IAAI,GAAG,IAAI,CAACrC,SAAS,CAACD,KAAK,CAACsC,IAAI,GAAGsB,QAAQ,GAAG,CAACtC,MAAM,GAAGU,OAAO,CAACM,IAAI,GAAGN,OAAO,CAACG,KAAK,IAAI,CAAC,GAAG,IAAI,GAC/G,CAACb,MAAM,GAAGU,OAAO,CAACM,IAAI,GAAGN,OAAO,CAACG,KAAK,IAAIc,WAAW,CAACX,IAAI,GAAG,CAAC,GAAG,IAAI;IACzE,IAAI,CAAC7C,UAAU,CAAC,EAAE,CAAC;EACvB,CAAC;EACD9J,OAAO,CAACoB,SAAS,CAACR,SAAS,GAAG,UAAUgD,CAAC,EAAE;IACvC,IAAIC,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,IAAIkE,MAAM,GAAGP,CAAC,CAACO,MAAM;IACrB,IAAI,CAACJ,OAAO,GAAGI,MAAM,CAAC5E,SAAS,CAAC4L,QAAQ,CAAC,cAAc,CAAC,GAAGhH,MAAM,GAC7DxE,YAAY,CAACwE,MAAM,EAAE,cAAc,CAAC;IACxC,IAAI,CAACP,CAAC,CAACM,MAAM,CAACE,eAAe,IAAIR,CAAC,CAACM,MAAM,CAACrC,UAAU,EAAE;MAClD;IACJ;IACA,IAAI2J,OAAO,GAAG3H,IAAI,CAAC5B,YAAY,CAAC,CAAC,GAAG4B,IAAI,CAAC4H,wBAAwB,CAAC,CAAC,GAAG5H,IAAI,CAAC6H,UAAU,CAAC,CAAC,CAAChK,iBAAiB;IACzG,IAAI,CAACkK,CAAC,GAAGhM,WAAW,CAACgE,CAAC,CAACiI,KAAK,CAAC,CAACD,CAAC,GAAGJ,OAAO,CAACM,UAAU;IACpDjI,IAAI,CAAC0G,OAAO,CAACzK,MAAM,CAACa,eAAe,EAAE;MACjCwD,MAAM,EAAEA,MAAM;MAAEgI,aAAa,EAAE,YAAY;MAAEjI,MAAM,EAAEN,CAAC,CAACM;IAC3D,CAAC,CAAC;EACN,CAAC;EACDlE,OAAO,CAACoB,SAAS,CAACN,QAAQ,GAAG,UAAU8C,CAAC,EAAE;IACtC,IAAIC,IAAI,GAAG,IAAI,CAAC5D,MAAM;IACtB,IAAI,CAAC6J,UAAU,CAAC,MAAM,CAAC;IACvB,IAAI,CAACiC,SAAS,CAAC,CAAC;IAChB,IAAI,CAACnI,CAAC,CAAC+C,MAAM,EAAE;MACX9C,IAAI,CAAC0G,OAAO,CAACzK,MAAM,CAACsO,UAAU,EAAE;QAAEjK,MAAM,EAAEP,CAAC,CAACO,MAAM;QAAEgI,aAAa,EAAE,YAAY;QAAEjI,MAAM,EAAEN,CAAC,CAACM;MAAO,CAAC,CAAC;IACxG;IACA5E,WAAW,CAAC,EAAE,CAACqI,KAAK,CAACvF,IAAI,CAACyB,IAAI,CAAC+D,cAAc,CAAC,CAAC,CAACC,sBAAsB,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;EACxH,CAAC;EACD7H,OAAO,CAACoB,SAAS,CAAC0I,UAAU,GAAG,UAAUuE,OAAO,EAAE;IAC9C,IAAI,CAACrE,OAAO,CAACK,KAAK,CAACgE,OAAO,GAAGA,OAAO;IACpC,IAAI,CAAC/D,SAAS,CAACD,KAAK,CAACgE,OAAO,GAAGA,OAAO;EAC1C,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACIrO,OAAO,CAACoB,SAAS,CAACmD,aAAa,GAAG,YAAY;IAC1C,OAAO,SAAS;EACpB,CAAC;EACD,OAAOvE,OAAO;AAClB,CAAC,CAAC,CAAE;AACJ,SAASA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}