{"ast":null,"code":"import { EventHandler, detach, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Column } from '../models/column';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as events from '../base/constant';\nimport { getScrollBarWidth, parentsUntil, gridActionHandler, Global } from '../base/util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as literals from '../base/string-literals';\nexport var resizeClassList = {\n  root: 'e-rhandler',\n  suppress: 'e-rsuppress',\n  icon: 'e-ricon',\n  helper: 'e-rhelper',\n  header: 'th.e-headercell',\n  cursor: 'e-rcursor'\n};\n/**\n * `Resize` module is used to handle Resize to fit for columns.\n *\n * @hidden\n * @private\n */\nvar Resize = /** @class */function () {\n  /**\n   * Constructor for the Grid resize module\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @hidden\n   */\n  function Resize(parent) {\n    this.tapped = false;\n    this.isDblClk = true;\n    this.parent = parent;\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.widthService = new ColumnWidthService(parent);\n    this.addEventListener();\n  }\n  /**\n   * Resize by field names.\n   *\n   * @param  {string|string[]} fName - Defines the field name.\n   * @returns {void}\n   */\n  Resize.prototype.autoFitColumns = function (fName) {\n    var columnName = fName === undefined || fName === null || fName.length <= 0 ? this.parent.getColumns().map(function (x) {\n      return x.field;\n    }) : typeof fName === 'string' ? [fName] : fName;\n    this.parent.isAutoFitColumns = true;\n    this.findColumn(columnName);\n  };\n  Resize.prototype.autoFit = function () {\n    var newarray = this.parent.getColumns().filter(function (c) {\n      return c.autoFit === true;\n    }).map(function (c) {\n      return c.field || c.headerText;\n    });\n    if (newarray.length > 0) {\n      this.autoFitColumns(newarray);\n    }\n    if (this.parent.resizeSettings.mode === 'Auto') {\n      this.widthService.setWidthToTable();\n    }\n  };\n  Resize.prototype.resizeColumn = function (fName, index, id) {\n    var gObj = this.parent;\n    var tWidth = 0;\n    var headerTable;\n    var contentTable;\n    var footerTable;\n    var headerDivTag = 'e-gridheader';\n    var contentDivTag = literals.gridContent;\n    var footerDivTag = literals.gridFooter;\n    var indentWidth = 0;\n    var uid = id ? id : this.parent.getUidByColumnField(fName);\n    var columnIndex = this.parent.getNormalizedColumnIndex(uid);\n    var headerTextClone;\n    var contentTextClone;\n    var footerTextClone;\n    var columnIndexByField = this.parent.getColumnIndexByField(fName);\n    var left = gObj.getFrozenColumns() || gObj.getFrozenLeftColumnsCount();\n    var movable = gObj.getMovableColumnsCount();\n    if (!isNullOrUndefined(gObj.getFooterContent())) {\n      footerTable = gObj.getFooterContentTable();\n    }\n    if (gObj.isFrozenGrid()) {\n      var col = gObj.getColumnByField(fName);\n      if (col.getFreezeTableName() === literals.frozenLeft) {\n        headerTable = gObj.getHeaderTable();\n        contentTable = gObj.getContentTable();\n        headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n        contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n        if (footerTable) {\n          footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n        }\n      } else if (col.getFreezeTableName() === 'movable') {\n        headerTable = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).children[0];\n        contentTable = gObj.getContent().querySelector('.' + literals.movableContent).children[0];\n        headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n        contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex - left + 1) + \")\");\n        if (footerTable) {\n          footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n          footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex - left + 1) + \")\");\n        }\n      } else if (col.getFreezeTableName() === literals.frozenRight) {\n        headerTable = gObj.getHeaderContent().querySelector('.e-frozen-right-header').children[0];\n        contentTable = gObj.getContent().querySelector('.e-frozen-right-content').children[0];\n        headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n        contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex - (left + movable) + 1) + \")\");\n        if (footerTable) {\n          footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n          footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex - (left + movable) + 1) + \")\");\n        }\n      }\n    } else {\n      headerTable = gObj.getHeaderTable();\n      contentTable = gObj.getContentTable();\n      headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n      contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n      if (footerTable) {\n        footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n      }\n    }\n    var indentWidthClone = [].slice.call(headerTable.querySelector('tr').getElementsByClassName('e-grouptopleftcell'));\n    if (indentWidthClone.length > 0) {\n      for (var i = 0; i < indentWidthClone.length; i++) {\n        indentWidth += indentWidthClone[i].offsetWidth;\n      }\n    }\n    var detailsElement = contentTable.querySelector('.e-detailrowcollapse') || contentTable.querySelector('.e-detailrowexpand');\n    if ((this.parent.detailTemplate || this.parent.childGrid) && detailsElement) {\n      indentWidth += detailsElement.offsetWidth;\n    }\n    var headerText = [headerTextClone];\n    var contentText = [];\n    var footerText = [];\n    if (footerTable) {\n      for (var i = 0; i < footerTextClone.length; i++) {\n        footerText[i] = footerTextClone[i].cloneNode(true);\n      }\n    }\n    for (var i = 0; i < contentTextClone.length; i++) {\n      contentText[i] = contentTextClone[i].cloneNode(true);\n    }\n    var wHeader = this.createTable(headerTable, headerText, headerDivTag);\n    var wFooter = null;\n    var wContent = null;\n    if (gObj.getCurrentViewRecords().length) {\n      wContent = this.createTable(contentTable, contentText, contentDivTag);\n    }\n    if (footerText.length) {\n      wFooter = this.createTable(footerTable, footerText, footerDivTag);\n    }\n    var columnbyindex = gObj.getColumns()[columnIndexByField];\n    var width = columnbyindex.width = formatUnit(Math.max(wHeader, wContent, wFooter));\n    var colMaxWidth = columnbyindex.maxWidth && parseFloat(columnbyindex.maxWidth.toString());\n    if (parseInt(width, 10) > colMaxWidth) {\n      columnbyindex.width = colMaxWidth;\n    }\n    this.widthService.setColumnWidth(gObj.getColumns()[columnIndexByField]);\n    var result = gObj.getColumns().some(function (x) {\n      return x.width === null || x.width === undefined || x.width.length <= 0;\n    });\n    if (result === false) {\n      var element = gObj.getColumns();\n      for (var i = 0; i < element.length; i++) {\n        if (element[i].visible) {\n          tWidth = tWidth + parseFloat(element[i].width);\n        }\n      }\n    }\n    var calcTableWidth = tWidth + indentWidth;\n    if (tWidth > 0 && !gObj.isFrozenGrid()) {\n      if (this.parent.detailTemplate || this.parent.childGrid) {\n        this.widthService.setColumnWidth(new Column({\n          width: '30px'\n        }));\n      }\n      if (this.parent.resizeSettings.mode === 'Auto') {\n        calcTableWidth = '100%';\n      }\n      headerTable.style.width = formatUnit(calcTableWidth);\n      contentTable.style.width = formatUnit(calcTableWidth);\n      if (!isNullOrUndefined(footerTable)) {\n        footerTable.style.width = formatUnit(calcTableWidth);\n      }\n    }\n    if (gObj.isFrozenGrid()) {\n      this.widthService.refreshFrozenScrollbar();\n    }\n    var tableWidth = headerTable.offsetWidth;\n    var contentwidth = gObj.getContent().scrollWidth;\n    if (contentwidth > tableWidth) {\n      headerTable.classList.add('e-tableborder');\n      contentTable.classList.add('e-tableborder');\n    } else {\n      headerTable.classList.remove('e-tableborder');\n      contentTable.classList.remove('e-tableborder');\n    }\n    if (!isNullOrUndefined(footerTable)) {\n      footerTable.classList.add('e-tableborder');\n    }\n  };\n  /**\n   * To destroy the resize\n   *\n   * @returns {void}\n   * @hidden\n   */\n  Resize.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n    if (!gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n    this.widthService = null;\n    this.unwireEvents();\n    this.removeEventListener();\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} returns the module name\n   * @private\n   */\n  Resize.prototype.getModuleName = function () {\n    return 'resize';\n  };\n  Resize.prototype.findColumn = function (fName) {\n    for (var i = 0; i < fName.length; i++) {\n      var fieldName = fName[i];\n      var columnIndex = this.parent.getColumnIndexByField(fieldName);\n      var column = this.parent.getColumns()[columnIndex];\n      if (columnIndex > -1 && !isNullOrUndefined(column) && column.visible === true) {\n        this.resizeColumn(fieldName, columnIndex);\n      }\n    }\n  };\n  /**\n   * To create table for autofit\n   *\n   * @param {Element} table - specifies the table\n   * @param {Element[]} text - specifies the text\n   * @param {string} tag - specifies the tag name\n   * @returns {number} returns the number\n   * @hidden\n   */\n  Resize.prototype.createTable = function (table, text, tag) {\n    var myTableDiv = this.parent.createElement('div');\n    myTableDiv.className = this.parent.element.className;\n    myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n    var mySubDiv = this.parent.createElement('div');\n    mySubDiv.className = tag;\n    var myTable = this.parent.createElement('table');\n    myTable.className = table.className;\n    myTable.classList.add('e-resizetable');\n    myTable.style.cssText = 'table-layout: auto;width: auto';\n    var myTr = this.parent.createElement('tr');\n    for (var i = 0; i < text.length; i++) {\n      var tr = myTr.cloneNode();\n      tr.className = table.querySelector('tr').className;\n      tr.appendChild(text[i]);\n      myTable.appendChild(tr);\n    }\n    mySubDiv.appendChild(myTable);\n    myTableDiv.appendChild(mySubDiv);\n    document.body.appendChild(myTableDiv);\n    var offsetWidthValue = myTable.getBoundingClientRect().width;\n    document.body.removeChild(myTableDiv);\n    return Math.ceil(offsetWidthValue);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Resize.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.on(events.headerRefreshed, this.refreshHeight, this);\n    this.parent.on(events.initialEnd, this.wireEvents, this);\n    this.parent.on(events.contentReady, this.autoFit, this);\n    this.parent.on(events.refreshHandlers, this.refreshHeight, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Resize.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.off(events.headerRefreshed, this.refreshHeight);\n    this.parent.off(events.initialEnd, this.wireEvents);\n    this.parent.off(events.refreshHandlers, this.refreshHeight);\n    this.parent.off(events.destroy, this.destroy);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  Resize.prototype.render = function () {\n    this.unwireEvents();\n    this.wireEvents();\n    this.setHandlerHeight();\n  };\n  Resize.prototype.refreshHeight = function () {\n    if (this.parent.getHeaderTable()) {\n      var element = this.getResizeHandlers();\n      for (var i = 0; i < element.length; i++) {\n        if (element[i].parentElement.offsetHeight > 0) {\n          element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n        }\n      }\n      this.setHandlerHeight();\n    }\n  };\n  Resize.prototype.wireEvents = function () {\n    EventHandler.add(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart, this);\n    EventHandler.add(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit, this);\n  };\n  Resize.prototype.unwireEvents = function () {\n    EventHandler.remove(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart);\n    EventHandler.remove(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit);\n  };\n  Resize.prototype.getResizeHandlers = function () {\n    return this.parent.isFrozenGrid() ? [].slice.call(this.parent.getHeaderContent().getElementsByClassName(resizeClassList.root)) : [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.root));\n  };\n  Resize.prototype.setHandlerHeight = function () {\n    var element = [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.suppress));\n    for (var i = 0; i < element.length; i++) {\n      element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n    }\n  };\n  Resize.prototype.callAutoFit = function (e) {\n    if (e.target.classList.contains('e-rhandler')) {\n      var col = this.getTargetColumn(e);\n      if (col.columns) {\n        return;\n      }\n      this.resizeColumn(col.field, this.parent.getNormalizedColumnIndex(col.uid), col.uid);\n      var header = closest(e.target, resizeClassList.header);\n      header.classList.add('e-resized');\n    }\n  };\n  Resize.prototype.touchResizeStart = function (e) {\n    if (!Global.timer) {\n      Global.timer = setTimeout(function () {\n        Global.timer = null;\n      }, 300);\n      return this.resizeStart(e);\n    } else {\n      clearTimeout(Global.timer);\n      Global.timer = null;\n      this.callAutoFit(e);\n    }\n  };\n  Resize.prototype.resizeStart = function (e) {\n    var _this = this;\n    if (e.target.classList.contains('e-rhandler')) {\n      if (!this.helper) {\n        if (this.getScrollBarWidth() === 0) {\n          if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n              this.widthService.setColumnWidth(new Column({\n                width: '30px'\n              }), i);\n            }\n          }\n          for (var _i = 0, _a = this.refreshColumnWidth(); _i < _a.length; _i++) {\n            var col = _a[_i];\n            this.widthService.setColumnWidth(col);\n          }\n          this.widthService.setWidthToTable();\n        }\n        this.refreshStackedColumnWidth();\n        this.element = e.target;\n        if (this.parent.getVisibleFrozenColumns()) {\n          var mtbody = this.parent.getMovableContentTbody();\n          var ftbody = this.parent.getFrozenLeftContentTbody();\n          var frtbody = this.parent.getFrozenRightContentTbody();\n          var mtr = [].slice.call(mtbody.querySelectorAll('tr'));\n          var ftr = [].slice.call(ftbody.querySelectorAll('tr'));\n          var frTr = [];\n          if (this.parent.getFrozenMode() === literals.leftRight && frtbody) {\n            frTr = [].slice.call(frtbody.querySelectorAll('tr'));\n          }\n          var _loop_1 = function (i) {\n            gridActionHandler(this_1.parent, function (tableName, row) {\n              if (_this.parent.rowHeight) {\n                row[i].style.height = _this.parent.rowHeight + 'px';\n              } else {\n                row[i].style.removeProperty('height');\n              }\n            }, [ftr, mtr, frTr]);\n          };\n          var this_1 = this;\n          for (var i = 0; i < mtr.length; i++) {\n            _loop_1(i);\n          }\n        }\n        this.parentElementWidth = this.parent.element.getBoundingClientRect().width;\n        this.appendHelper();\n        this.column = this.getTargetColumn(e);\n        this.pageX = this.getPointX(e);\n        if (this.column.getFreezeTableName() === literals.frozenRight) {\n          if (this.parent.enableRtl) {\n            this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0) - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n          } else {\n            this.minMove = parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString()) - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n          }\n        } else if (this.parent.enableRtl) {\n          this.minMove = parseFloat(this.column.width.toString()) - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n        } else {\n          this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0) - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n        }\n        this.minMove += this.pageX;\n      }\n      if (Browser.isDevice && !this.helper.classList.contains(resizeClassList.icon)) {\n        this.helper.classList.add(resizeClassList.icon);\n        EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this);\n        EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this);\n      } else {\n        var args = {\n          e: e,\n          column: this.column\n        };\n        this.parent.trigger(events.resizeStart, args, function (args) {\n          if (args.cancel || _this.parent.isEdit) {\n            _this.cancelResizeAction();\n            return;\n          }\n          EventHandler.add(document, Browser.touchEndEvent, _this.resizeEnd, _this);\n          EventHandler.add(_this.parent.element, Browser.touchMoveEvent, _this.resizing, _this);\n          _this.updateCursor('add');\n        });\n      }\n    }\n  };\n  Resize.prototype.cancelResizeAction = function (removeEvents) {\n    if (removeEvents) {\n      EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n      EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n      this.updateCursor('remove');\n    }\n    if (Browser.isDevice) {\n      EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n      EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n    }\n    detach(this.helper);\n    this.refresh();\n  };\n  Resize.prototype.getWidth = function (width, minWidth, maxWidth) {\n    if (minWidth && width < minWidth) {\n      return minWidth;\n    } else if (maxWidth && width > maxWidth) {\n      return maxWidth;\n    } else {\n      return width;\n    }\n  };\n  Resize.prototype.updateResizeEleHeight = function () {\n    var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n    for (var i = 0; i < elements.length; i++) {\n      elements[i].style.height = this.element.parentElement.offsetHeight + 'px';\n    }\n  };\n  Resize.prototype.getColData = function (column, mousemove) {\n    return {\n      width: parseFloat(isNullOrUndefined(this.widthService.getWidth(column)) || this.widthService.getWidth(column) === 'auto' ? '0' : this.widthService.getWidth(column).toString()) + mousemove,\n      minWidth: column.minWidth ? parseFloat(column.minWidth.toString()) : null,\n      maxWidth: column.maxWidth ? parseFloat(column.maxWidth.toString()) : null\n    };\n  };\n  Resize.prototype.resizing = function (e) {\n    if (isNullOrUndefined(this.column)) {\n      return;\n    }\n    var offsetWidth = 0;\n    if (isNullOrUndefined(this.column)) {\n      offsetWidth = parentsUntil(this.element, 'th').offsetWidth;\n    }\n    if (this.parent.allowTextWrap) {\n      this.updateResizeEleHeight();\n      this.setHelperHeight();\n    }\n    var pageX = this.getPointX(e);\n    var mousemove = this.parent.enableRtl ? -(pageX - this.pageX) : pageX - this.pageX;\n    if (this.column.getFreezeTableName() === literals.frozenRight) {\n      mousemove = this.parent.enableRtl ? pageX - this.pageX : this.pageX - pageX;\n    }\n    var colData = this.getColData(this.column, mousemove);\n    if (!colData.width) {\n      colData.width = closest(this.element, 'th').offsetWidth;\n    }\n    var width = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n    this.parent.log('resize_min_max', {\n      column: this.column,\n      width: width\n    });\n    if (this.column.getFreezeTableName() === literals.frozenRight) {\n      if (this.parent.enableRtl && this.minMove >= pageX || !this.parent.enableRtl && this.minMove <= pageX) {\n        width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n        this.pageX = pageX = this.minMove;\n      }\n    }\n    if (this.column.getFreezeTableName() !== literals.frozenRight && (!this.parent.enableRtl && this.minMove >= pageX || this.parent.enableRtl && this.minMove <= pageX) || this.column.getFreezeTableName() === literals.frozenRight && (this.parent.enableRtl && this.minMove >= pageX || !this.parent.enableRtl && this.minMove <= pageX)) {\n      width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n      this.pageX = pageX = this.minMove;\n    }\n    if (width !== parseFloat(isNullOrUndefined(this.column.width) || this.column.width === 'auto' ? offsetWidth.toString() : this.column.width.toString())) {\n      this.pageX = pageX;\n      this.column.width = formatUnit(width);\n      var args = {\n        e: e,\n        column: this.column\n      };\n      this.parent.trigger(events.onResize, args);\n      if (args.cancel) {\n        this.cancelResizeAction(true);\n        return;\n      }\n      var columns = [this.column];\n      var finalColumns = [this.column];\n      if (this.column.columns) {\n        columns = this.getSubColumns(this.column, []);\n        columns = this.calulateColumnsWidth(columns, false, mousemove);\n        finalColumns = this.calulateColumnsWidth(columns, true, mousemove);\n      }\n      for (var _i = 0, finalColumns_1 = finalColumns; _i < finalColumns_1.length; _i++) {\n        var col = finalColumns_1[_i];\n        this.widthService.setColumnWidth(col, null, 'resize');\n      }\n      this.updateHelper();\n    }\n    this.isDblClk = false;\n  };\n  Resize.prototype.calulateColumnsWidth = function (columns, isUpdate, mousemove) {\n    var finalColumns = [];\n    for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n      var col = columns_1[_i];\n      var totalWidth = 0;\n      for (var i = 0; i < columns.length; i++) {\n        totalWidth += parseFloat(columns[i].width.toString());\n      }\n      var colData = this.getColData(col, parseFloat(col.width) * mousemove / totalWidth);\n      var colWidth = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n      if (colWidth !== parseFloat(col.width.toString())) {\n        if (isUpdate) {\n          col.width = formatUnit(colWidth < 1 ? 1 : colWidth);\n        }\n        finalColumns.push(col);\n      }\n    }\n    return finalColumns;\n  };\n  Resize.prototype.getSubColumns = function (column, subColumns) {\n    for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n      var col = _a[_i];\n      if (col.visible !== false && col.allowResizing) {\n        if (col.columns) {\n          this.getSubColumns(col, subColumns);\n        } else {\n          subColumns.push(col);\n        }\n      }\n    }\n    return subColumns;\n  };\n  Resize.prototype.resizeEnd = function (e) {\n    if (!this.helper || this.parent.isDestroyed) {\n      return;\n    }\n    EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n    EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n    this.updateCursor('remove');\n    detach(this.helper);\n    var args = {\n      e: e,\n      column: this.column\n    };\n    var content = this.parent.getContent().querySelector('.' + literals.content);\n    var cTable = content.querySelector('.' + literals.movableContent) ? content.querySelector('.' + literals.movableContent) : content;\n    if (cTable.scrollHeight > cTable.clientHeight) {\n      this.parent.scrollModule.setPadding();\n      cTable.style.overflowY = 'scroll';\n    }\n    this.parent.trigger(events.resizeStop, args);\n    closest(this.element, '.e-headercell').classList.add('e-resized');\n    if (parentsUntil(this.element, 'e-frozenheader')) {\n      this.isFrozenColResized = true;\n    } else {\n      this.isFrozenColResized = false;\n    }\n    if (this.parent.isFrozenGrid()) {\n      this.parent.notify(events.freezeRender, {\n        case: 'textwrap'\n      });\n    }\n    if (this.parent.allowTextWrap) {\n      this.updateResizeEleHeight();\n      this.parent.notify(events.textWrapRefresh, {\n        case: 'textwrap'\n      });\n    }\n    this.refresh();\n    this.doubleTapEvent(e);\n    this.isDblClk = true;\n  };\n  Resize.prototype.getPointX = function (e) {\n    if (e.touches && e.touches.length) {\n      return e.touches[0].pageX;\n    } else {\n      return e.pageX;\n    }\n  };\n  Resize.prototype.refreshColumnWidth = function () {\n    var columns = this.parent.getColumns();\n    for (var _i = 0, _a = [].slice.apply(this.parent.getHeaderContent().querySelectorAll('th.e-headercell')); _i < _a.length; _i++) {\n      var ele = _a[_i];\n      for (var _b = 0, columns_2 = columns; _b < columns_2.length; _b++) {\n        var column = columns_2[_b];\n        if (ele.querySelector('[e-mappinguid]') && ele.querySelector('[e-mappinguid]').getAttribute('e-mappinguid') === column.uid && column.visible) {\n          column.width = ele.getBoundingClientRect().width;\n          break;\n        }\n      }\n    }\n    return columns;\n  };\n  Resize.prototype.refreshStackedColumnWidth = function () {\n    for (var _i = 0, _a = this.parent.getStackedColumns(this.parent.columns); _i < _a.length; _i++) {\n      var stackedColumn = _a[_i];\n      stackedColumn.width = this.getStackedWidth(stackedColumn, 0);\n    }\n  };\n  Resize.prototype.getStackedWidth = function (column, width) {\n    for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n      var col = _a[_i];\n      if (col.visible !== false) {\n        if (col.columns) {\n          this.getStackedWidth(col, width);\n        } else {\n          width += col.width;\n        }\n      }\n    }\n    return width;\n  };\n  Resize.prototype.getTargetColumn = function (e) {\n    var cell = closest(e.target, resizeClassList.header);\n    cell = cell.querySelector('.e-headercelldiv') || cell.querySelector('.e-stackedheadercelldiv');\n    var uid = cell.getAttribute('e-mappinguid');\n    return this.parent.getColumnByUid(uid);\n  };\n  Resize.prototype.updateCursor = function (action) {\n    var headerRows = [].slice.call(this.parent.getHeaderContent().querySelectorAll('th'));\n    headerRows.push(this.parent.element);\n    for (var _i = 0, headerRows_1 = headerRows; _i < headerRows_1.length; _i++) {\n      var row = headerRows_1[_i];\n      row.classList[action](resizeClassList.cursor);\n    }\n  };\n  Resize.prototype.refresh = function () {\n    this.column = null;\n    this.pageX = null;\n    this.element = null;\n    this.helper = null;\n  };\n  Resize.prototype.appendHelper = function () {\n    this.helper = this.parent.createElement('div', {\n      className: resizeClassList.helper\n    });\n    this.parent.element.appendChild(this.helper);\n    this.setHelperHeight();\n  };\n  Resize.prototype.setHelperHeight = function () {\n    var isFrozen = this.parent.isFrozenGrid();\n    var height = isFrozen ? this.parent.getContent().querySelector('.' + literals.content).offsetHeight : this.parent.getContent().offsetHeight - this.getScrollBarWidth();\n    var rect = closest(this.element, resizeClassList.header);\n    var tr = [].slice.call(this.parent.getHeaderContent().querySelectorAll('tr'));\n    var right = this.parent.getFrozenRightColumnsCount();\n    if (isFrozen) {\n      if (parentsUntil(rect, literals.movableHeader)) {\n        tr = [].slice.call(this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelectorAll('tr'));\n      } else if (right && parentsUntil(rect, 'e-frozen-right-header')) {\n        tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelectorAll('tr'));\n      } else {\n        tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-left-header').querySelectorAll('tr'));\n      }\n    }\n    for (var i = tr.indexOf(rect.parentElement); i < tr.length && i > -1; i++) {\n      height += tr[i].offsetHeight;\n    }\n    var pos = this.calcPos(rect);\n    if (parentsUntil(rect, 'e-frozen-right-header')) {\n      pos.left += this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1;\n    } else {\n      pos.left += this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2;\n    }\n    this.helper.style.cssText = 'height: ' + height + 'px; top: ' + pos.top + 'px; left:' + Math.floor(pos.left) + 'px;';\n    if (this.parent.enableVirtualization) {\n      this.helper.classList.add('e-virtual-rhandler');\n    }\n  };\n  Resize.prototype.getScrollBarWidth = function (height) {\n    var ele = this.parent.getContent().firstChild;\n    return ele.scrollHeight > ele.clientHeight && height || ele.scrollWidth > ele.clientWidth ? getScrollBarWidth() : 0;\n  };\n  Resize.prototype.removeHelper = function (e) {\n    var cls = e.target.classList;\n    if (!(cls.contains(resizeClassList.root) || cls.contains(resizeClassList.icon)) && this.helper) {\n      EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n      EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n      detach(this.helper);\n      this.refresh();\n    }\n  };\n  Resize.prototype.updateHelper = function () {\n    var rect = closest(this.element, resizeClassList.header);\n    var left;\n    if (parentsUntil(rect, 'e-frozen-right-header')) {\n      left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1));\n    } else {\n      left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2));\n    }\n    var borderWidth = 2; // to maintain the helper inside of grid element.\n    if (left > this.parentElementWidth) {\n      left = this.parentElementWidth - borderWidth;\n    }\n    if (this.parent.isFrozenGrid()) {\n      var table = closest(rect, '.' + literals.table);\n      var fLeft = table.offsetLeft;\n      if (left < fLeft) {\n        left = fLeft;\n      }\n    }\n    this.helper.style.left = left + 'px';\n  };\n  Resize.prototype.calcPos = function (elem) {\n    var parentOffset = {\n      top: 0,\n      left: 0\n    };\n    var offset = elem.getBoundingClientRect();\n    var doc = elem.ownerDocument;\n    var offsetParent = parentsUntil(elem, 'e-grid') || doc.documentElement;\n    while (offsetParent && (offsetParent === doc.body || offsetParent === doc.documentElement) && offsetParent.style.position === 'static') {\n      offsetParent = offsetParent.parentNode;\n    }\n    if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n      parentOffset = offsetParent.getBoundingClientRect();\n    }\n    return {\n      top: offset.top - parentOffset.top,\n      left: offset.left - parentOffset.left\n    };\n  };\n  Resize.prototype.doubleTapEvent = function (e) {\n    var _this = this;\n    if (this.getUserAgent() && this.isDblClk) {\n      if (!this.tapped) {\n        this.tapped = setTimeout(function () {\n          _this.tapped = null;\n        }, 300);\n      } else {\n        clearTimeout(this.tapped);\n        this.callAutoFit(e);\n        this.tapped = null;\n      }\n    }\n  };\n  Resize.prototype.getUserAgent = function () {\n    var userAgent = Browser.userAgent.toLowerCase();\n    return /iphone|ipod|ipad/.test(userAgent);\n  };\n  Resize.prototype.timeoutHandler = function () {\n    this.tapped = null;\n  };\n  return Resize;\n}();\nexport { Resize };","map":{"version":3,"names":["EventHandler","detach","formatUnit","Browser","closest","Column","ColumnWidthService","events","getScrollBarWidth","parentsUntil","gridActionHandler","Global","isNullOrUndefined","literals","resizeClassList","root","suppress","icon","helper","header","cursor","Resize","parent","tapped","isDblClk","isDestroyed","widthService","addEventListener","prototype","autoFitColumns","fName","columnName","undefined","length","getColumns","map","x","field","isAutoFitColumns","findColumn","autoFit","newarray","filter","c","headerText","resizeSettings","mode","setWidthToTable","resizeColumn","index","id","gObj","tWidth","headerTable","contentTable","footerTable","headerDivTag","contentDivTag","gridContent","footerDivTag","gridFooter","indentWidth","uid","getUidByColumnField","columnIndex","getNormalizedColumnIndex","headerTextClone","contentTextClone","footerTextClone","columnIndexByField","getColumnIndexByField","left","getFrozenColumns","getFrozenLeftColumnsCount","movable","getMovableColumnsCount","getFooterContent","getFooterContentTable","isFrozenGrid","col","getColumnByField","getFreezeTableName","frozenLeft","getHeaderTable","getContentTable","querySelector","parentElement","cloneNode","querySelectorAll","getHeaderContent","movableHeader","children","getContent","movableContent","frozenRight","indentWidthClone","slice","call","getElementsByClassName","i","offsetWidth","detailsElement","detailTemplate","childGrid","contentText","footerText","wHeader","createTable","wFooter","wContent","getCurrentViewRecords","columnbyindex","width","Math","max","colMaxWidth","maxWidth","parseFloat","toString","parseInt","setColumnWidth","result","some","element","visible","calcTableWidth","style","refreshFrozenScrollbar","tableWidth","contentwidth","scrollWidth","classList","add","remove","destroy","gridElement","gridHeader","unwireEvents","removeEventListener","getModuleName","fieldName","column","table","text","tag","myTableDiv","createElement","className","cssText","mySubDiv","myTable","myTr","tr","appendChild","document","body","offsetWidthValue","getBoundingClientRect","removeChild","ceil","on","headerRefreshed","refreshHeight","initialEnd","wireEvents","contentReady","refreshHandlers","off","render","setHandlerHeight","getResizeHandlers","offsetHeight","height","touchStartEvent","touchResizeStart","dblclick","callAutoFit","e","target","contains","getTargetColumn","columns","timer","setTimeout","resizeStart","clearTimeout","_this","allowGrouping","groupSettings","_i","_a","refreshColumnWidth","refreshStackedColumnWidth","getVisibleFrozenColumns","mtbody","getMovableContentTbody","ftbody","getFrozenLeftContentTbody","frtbody","getFrozenRightContentTbody","mtr","ftr","frTr","getFrozenMode","leftRight","_loop_1","this_1","tableName","row","rowHeight","removeProperty","parentElementWidth","appendHelper","pageX","getPointX","enableRtl","minMove","minWidth","isDevice","removeHelper","args","trigger","cancel","isEdit","cancelResizeAction","touchEndEvent","resizeEnd","touchMoveEvent","resizing","updateCursor","removeEvents","refresh","getWidth","updateResizeEleHeight","elements","getColData","mousemove","allowTextWrap","setHelperHeight","colData","log","onResize","finalColumns","getSubColumns","calulateColumnsWidth","finalColumns_1","updateHelper","isUpdate","columns_1","totalWidth","colWidth","push","subColumns","allowResizing","content","cTable","scrollHeight","clientHeight","scrollModule","setPadding","overflowY","resizeStop","isFrozenColResized","notify","freezeRender","case","textWrapRefresh","doubleTapEvent","touches","apply","ele","_b","columns_2","getAttribute","getStackedColumns","stackedColumn","getStackedWidth","cell","getColumnByUid","action","headerRows","headerRows_1","isFrozen","rect","right","getFrozenRightColumnsCount","indexOf","pos","calcPos","top","floor","enableVirtualization","firstChild","clientWidth","cls","borderWidth","fLeft","offsetLeft","elem","parentOffset","offset","doc","ownerDocument","offsetParent","documentElement","position","parentNode","nodeType","getUserAgent","userAgent","toLowerCase","test","timeoutHandler"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/actions/resize.js"],"sourcesContent":["import { EventHandler, detach, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Column } from '../models/column';\nimport { ColumnWidthService } from '../services/width-controller';\nimport * as events from '../base/constant';\nimport { getScrollBarWidth, parentsUntil, gridActionHandler, Global } from '../base/util';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as literals from '../base/string-literals';\nexport var resizeClassList = {\n    root: 'e-rhandler',\n    suppress: 'e-rsuppress',\n    icon: 'e-ricon',\n    helper: 'e-rhelper',\n    header: 'th.e-headercell',\n    cursor: 'e-rcursor'\n};\n/**\n * `Resize` module is used to handle Resize to fit for columns.\n *\n * @hidden\n * @private\n */\nvar Resize = /** @class */ (function () {\n    /**\n     * Constructor for the Grid resize module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @hidden\n     */\n    function Resize(parent) {\n        this.tapped = false;\n        this.isDblClk = true;\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.widthService = new ColumnWidthService(parent);\n        this.addEventListener();\n    }\n    /**\n     * Resize by field names.\n     *\n     * @param  {string|string[]} fName - Defines the field name.\n     * @returns {void}\n     */\n    Resize.prototype.autoFitColumns = function (fName) {\n        var columnName = (fName === undefined || fName === null || fName.length <= 0) ?\n            this.parent.getColumns().map(function (x) { return x.field; }) : (typeof fName === 'string') ? [fName] : fName;\n        this.parent.isAutoFitColumns = true;\n        this.findColumn(columnName);\n    };\n    Resize.prototype.autoFit = function () {\n        var newarray = this.parent.getColumns().filter(function (c) { return c.autoFit === true; })\n            .map(function (c) { return c.field || c.headerText; });\n        if (newarray.length > 0) {\n            this.autoFitColumns(newarray);\n        }\n        if (this.parent.resizeSettings.mode === 'Auto') {\n            this.widthService.setWidthToTable();\n        }\n    };\n    Resize.prototype.resizeColumn = function (fName, index, id) {\n        var gObj = this.parent;\n        var tWidth = 0;\n        var headerTable;\n        var contentTable;\n        var footerTable;\n        var headerDivTag = 'e-gridheader';\n        var contentDivTag = literals.gridContent;\n        var footerDivTag = literals.gridFooter;\n        var indentWidth = 0;\n        var uid = id ? id : this.parent.getUidByColumnField(fName);\n        var columnIndex = this.parent.getNormalizedColumnIndex(uid);\n        var headerTextClone;\n        var contentTextClone;\n        var footerTextClone;\n        var columnIndexByField = this.parent.getColumnIndexByField(fName);\n        var left = gObj.getFrozenColumns() || gObj.getFrozenLeftColumnsCount();\n        var movable = gObj.getMovableColumnsCount();\n        if (!isNullOrUndefined(gObj.getFooterContent())) {\n            footerTable = gObj.getFooterContentTable();\n        }\n        if (gObj.isFrozenGrid()) {\n            var col = gObj.getColumnByField(fName);\n            if (col.getFreezeTableName() === literals.frozenLeft) {\n                headerTable = gObj.getHeaderTable();\n                contentTable = gObj.getContentTable();\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n                if (footerTable) {\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \")\");\n                }\n            }\n            else if (col.getFreezeTableName() === 'movable') {\n                headerTable = gObj.getHeaderContent().querySelector('.' + literals.movableHeader).children[0];\n                contentTable = gObj.getContent().querySelector('.' + literals.movableContent).children[0];\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - left) + 1) + \")\");\n                if (footerTable) {\n                    footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - left) + 1) + \")\");\n                }\n            }\n            else if (col.getFreezeTableName() === literals.frozenRight) {\n                headerTable = gObj.getHeaderContent().querySelector('.e-frozen-right-header').children[0];\n                contentTable = gObj.getContent().querySelector('.e-frozen-right-content').children[0];\n                headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n                contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - (left + movable)) + 1) + \")\");\n                if (footerTable) {\n                    footerTable = gObj.getFooterContent().querySelector('.e-movablefootercontent').children[0];\n                    footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + ((columnIndex - (left + movable)) + 1) + \")\");\n                }\n            }\n        }\n        else {\n            headerTable = gObj.getHeaderTable();\n            contentTable = gObj.getContentTable();\n            headerTextClone = headerTable.querySelector('[e-mappinguid=\"' + uid + '\"]').parentElement.cloneNode(true);\n            contentTextClone = contentTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n            if (footerTable) {\n                footerTextClone = footerTable.querySelectorAll(\"td:nth-child(\" + (columnIndex + 1) + \"):not(.e-groupcaption)\");\n            }\n        }\n        var indentWidthClone = [].slice.call(headerTable.querySelector('tr').getElementsByClassName('e-grouptopleftcell'));\n        if (indentWidthClone.length > 0) {\n            for (var i = 0; i < indentWidthClone.length; i++) {\n                indentWidth += indentWidthClone[i].offsetWidth;\n            }\n        }\n        var detailsElement = contentTable.querySelector('.e-detailrowcollapse') ||\n            contentTable.querySelector('.e-detailrowexpand');\n        if ((this.parent.detailTemplate || this.parent.childGrid) && detailsElement) {\n            indentWidth += detailsElement.offsetWidth;\n        }\n        var headerText = [headerTextClone];\n        var contentText = [];\n        var footerText = [];\n        if (footerTable) {\n            for (var i = 0; i < footerTextClone.length; i++) {\n                footerText[i] = footerTextClone[i].cloneNode(true);\n            }\n        }\n        for (var i = 0; i < contentTextClone.length; i++) {\n            contentText[i] = contentTextClone[i].cloneNode(true);\n        }\n        var wHeader = this.createTable(headerTable, headerText, headerDivTag);\n        var wFooter = null;\n        var wContent = null;\n        if (gObj.getCurrentViewRecords().length) {\n            wContent = this.createTable(contentTable, contentText, contentDivTag);\n        }\n        if (footerText.length) {\n            wFooter = this.createTable(footerTable, footerText, footerDivTag);\n        }\n        var columnbyindex = gObj.getColumns()[columnIndexByField];\n        var width = columnbyindex.width = formatUnit(Math.max(wHeader, wContent, wFooter));\n        var colMaxWidth = columnbyindex.maxWidth && parseFloat(columnbyindex.maxWidth.toString());\n        if (parseInt(width, 10) > colMaxWidth) {\n            columnbyindex.width = colMaxWidth;\n        }\n        this.widthService.setColumnWidth(gObj.getColumns()[columnIndexByField]);\n        var result = gObj.getColumns().some(function (x) { return x.width === null\n            || x.width === undefined || x.width.length <= 0; });\n        if (result === false) {\n            var element = gObj.getColumns();\n            for (var i = 0; i < element.length; i++) {\n                if (element[i].visible) {\n                    tWidth = tWidth + parseFloat(element[i].width);\n                }\n            }\n        }\n        var calcTableWidth = tWidth + indentWidth;\n        if (tWidth > 0 && !gObj.isFrozenGrid()) {\n            if (this.parent.detailTemplate || this.parent.childGrid) {\n                this.widthService.setColumnWidth(new Column({ width: '30px' }));\n            }\n            if (this.parent.resizeSettings.mode === 'Auto') {\n                calcTableWidth = '100%';\n            }\n            headerTable.style.width = formatUnit(calcTableWidth);\n            contentTable.style.width = formatUnit(calcTableWidth);\n            if (!isNullOrUndefined(footerTable)) {\n                footerTable.style.width = formatUnit(calcTableWidth);\n            }\n        }\n        if (gObj.isFrozenGrid()) {\n            this.widthService.refreshFrozenScrollbar();\n        }\n        var tableWidth = headerTable.offsetWidth;\n        var contentwidth = (gObj.getContent().scrollWidth);\n        if (contentwidth > tableWidth) {\n            headerTable.classList.add('e-tableborder');\n            contentTable.classList.add('e-tableborder');\n        }\n        else {\n            headerTable.classList.remove('e-tableborder');\n            contentTable.classList.remove('e-tableborder');\n        }\n        if (!isNullOrUndefined(footerTable)) {\n            footerTable.classList.add('e-tableborder');\n        }\n    };\n    /**\n     * To destroy the resize\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.widthService = null;\n        this.unwireEvents();\n        this.removeEventListener();\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    Resize.prototype.findColumn = function (fName) {\n        for (var i = 0; i < fName.length; i++) {\n            var fieldName = fName[i];\n            var columnIndex = this.parent.getColumnIndexByField(fieldName);\n            var column = this.parent.getColumns()[columnIndex];\n            if (columnIndex > -1 && !isNullOrUndefined(column) && column.visible === true) {\n                this.resizeColumn(fieldName, columnIndex);\n            }\n        }\n    };\n    /**\n     * To create table for autofit\n     *\n     * @param {Element} table - specifies the table\n     * @param {Element[]} text - specifies the text\n     * @param {string} tag - specifies the tag name\n     * @returns {number} returns the number\n     * @hidden\n     */\n    Resize.prototype.createTable = function (table, text, tag) {\n        var myTableDiv = this.parent.createElement('div');\n        myTableDiv.className = this.parent.element.className;\n        myTableDiv.style.cssText = 'display: inline-block;visibility:hidden;position:absolute';\n        var mySubDiv = this.parent.createElement('div');\n        mySubDiv.className = tag;\n        var myTable = this.parent.createElement('table');\n        myTable.className = table.className;\n        myTable.classList.add('e-resizetable');\n        myTable.style.cssText = 'table-layout: auto;width: auto';\n        var myTr = this.parent.createElement('tr');\n        for (var i = 0; i < text.length; i++) {\n            var tr = myTr.cloneNode();\n            tr.className = table.querySelector('tr').className;\n            tr.appendChild(text[i]);\n            myTable.appendChild(tr);\n        }\n        mySubDiv.appendChild(myTable);\n        myTableDiv.appendChild(mySubDiv);\n        document.body.appendChild(myTableDiv);\n        var offsetWidthValue = myTable.getBoundingClientRect().width;\n        document.body.removeChild(myTableDiv);\n        return Math.ceil(offsetWidthValue);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.headerRefreshed, this.refreshHeight, this);\n        this.parent.on(events.initialEnd, this.wireEvents, this);\n        this.parent.on(events.contentReady, this.autoFit, this);\n        this.parent.on(events.refreshHandlers, this.refreshHeight, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.headerRefreshed, this.refreshHeight);\n        this.parent.off(events.initialEnd, this.wireEvents);\n        this.parent.off(events.refreshHandlers, this.refreshHeight);\n        this.parent.off(events.destroy, this.destroy);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    Resize.prototype.render = function () {\n        this.unwireEvents();\n        this.wireEvents();\n        this.setHandlerHeight();\n    };\n    Resize.prototype.refreshHeight = function () {\n        if (this.parent.getHeaderTable()) {\n            var element = this.getResizeHandlers();\n            for (var i = 0; i < element.length; i++) {\n                if (element[i].parentElement.offsetHeight > 0) {\n                    element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n                }\n            }\n            this.setHandlerHeight();\n        }\n    };\n    Resize.prototype.wireEvents = function () {\n        EventHandler.add(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart, this);\n        EventHandler.add(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit, this);\n    };\n    Resize.prototype.unwireEvents = function () {\n        EventHandler.remove(this.parent.getHeaderContent(), Browser.touchStartEvent, this.touchResizeStart);\n        EventHandler.remove(this.parent.getHeaderContent(), events.dblclick, this.callAutoFit);\n    };\n    Resize.prototype.getResizeHandlers = function () {\n        return this.parent.isFrozenGrid() ?\n            [].slice.call(this.parent.getHeaderContent().getElementsByClassName(resizeClassList.root))\n            : [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.root));\n    };\n    Resize.prototype.setHandlerHeight = function () {\n        var element = [].slice.call(this.parent.getHeaderTable().getElementsByClassName(resizeClassList.suppress));\n        for (var i = 0; i < element.length; i++) {\n            element[i].style.height = element[i].parentElement.offsetHeight + 'px';\n        }\n    };\n    Resize.prototype.callAutoFit = function (e) {\n        if (e.target.classList.contains('e-rhandler')) {\n            var col = this.getTargetColumn(e);\n            if (col.columns) {\n                return;\n            }\n            this.resizeColumn(col.field, this.parent.getNormalizedColumnIndex(col.uid), col.uid);\n            var header = closest(e.target, resizeClassList.header);\n            header.classList.add('e-resized');\n        }\n    };\n    Resize.prototype.touchResizeStart = function (e) {\n        if (!Global.timer) {\n            Global.timer = setTimeout(function () {\n                Global.timer = null;\n            }, 300);\n            return this.resizeStart(e);\n        }\n        else {\n            clearTimeout(Global.timer);\n            Global.timer = null;\n            this.callAutoFit(e);\n        }\n    };\n    Resize.prototype.resizeStart = function (e) {\n        var _this = this;\n        if (e.target.classList.contains('e-rhandler')) {\n            if (!this.helper) {\n                if (this.getScrollBarWidth() === 0) {\n                    if (this.parent.allowGrouping) {\n                        for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                            this.widthService.setColumnWidth(new Column({ width: '30px' }), i);\n                        }\n                    }\n                    for (var _i = 0, _a = this.refreshColumnWidth(); _i < _a.length; _i++) {\n                        var col = _a[_i];\n                        this.widthService.setColumnWidth(col);\n                    }\n                    this.widthService.setWidthToTable();\n                }\n                this.refreshStackedColumnWidth();\n                this.element = e.target;\n                if (this.parent.getVisibleFrozenColumns()) {\n                    var mtbody = this.parent.getMovableContentTbody();\n                    var ftbody = this.parent.getFrozenLeftContentTbody();\n                    var frtbody = this.parent.getFrozenRightContentTbody();\n                    var mtr = [].slice.call(mtbody.querySelectorAll('tr'));\n                    var ftr = [].slice.call(ftbody.querySelectorAll('tr'));\n                    var frTr = [];\n                    if (this.parent.getFrozenMode() === literals.leftRight && frtbody) {\n                        frTr = [].slice.call(frtbody.querySelectorAll('tr'));\n                    }\n                    var _loop_1 = function (i) {\n                        gridActionHandler(this_1.parent, function (tableName, row) {\n                            if (_this.parent.rowHeight) {\n                                row[i].style.height = _this.parent.rowHeight + 'px';\n                            }\n                            else {\n                                row[i].style.removeProperty('height');\n                            }\n                        }, [ftr, mtr, frTr]);\n                    };\n                    var this_1 = this;\n                    for (var i = 0; i < mtr.length; i++) {\n                        _loop_1(i);\n                    }\n                }\n                this.parentElementWidth = this.parent.element.getBoundingClientRect().width;\n                this.appendHelper();\n                this.column = this.getTargetColumn(e);\n                this.pageX = this.getPointX(e);\n                if (this.column.getFreezeTableName() === literals.frozenRight) {\n                    if (this.parent.enableRtl) {\n                        this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0)\n                            - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n                    }\n                    else {\n                        this.minMove = parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString())\n                            - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n                    }\n                }\n                else if (this.parent.enableRtl) {\n                    this.minMove = parseFloat(this.column.width.toString())\n                        - (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0);\n                }\n                else {\n                    this.minMove = (this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 0)\n                        - parseFloat(isNullOrUndefined(this.column.width) ? '' : this.column.width.toString());\n                }\n                this.minMove += this.pageX;\n            }\n            if (Browser.isDevice && !this.helper.classList.contains(resizeClassList.icon)) {\n                this.helper.classList.add(resizeClassList.icon);\n                EventHandler.add(document, Browser.touchStartEvent, this.removeHelper, this);\n                EventHandler.add(this.helper, Browser.touchStartEvent, this.resizeStart, this);\n            }\n            else {\n                var args = { e: e, column: this.column };\n                this.parent.trigger(events.resizeStart, args, function (args) {\n                    if (args.cancel || _this.parent.isEdit) {\n                        _this.cancelResizeAction();\n                        return;\n                    }\n                    EventHandler.add(document, Browser.touchEndEvent, _this.resizeEnd, _this);\n                    EventHandler.add(_this.parent.element, Browser.touchMoveEvent, _this.resizing, _this);\n                    _this.updateCursor('add');\n                });\n            }\n        }\n    };\n    Resize.prototype.cancelResizeAction = function (removeEvents) {\n        if (removeEvents) {\n            EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n            EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n            this.updateCursor('remove');\n        }\n        if (Browser.isDevice) {\n            EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n        }\n        detach(this.helper);\n        this.refresh();\n    };\n    Resize.prototype.getWidth = function (width, minWidth, maxWidth) {\n        if (minWidth && width < minWidth) {\n            return minWidth;\n        }\n        else if ((maxWidth && width > maxWidth)) {\n            return maxWidth;\n        }\n        else {\n            return width;\n        }\n    };\n    Resize.prototype.updateResizeEleHeight = function () {\n        var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].style.height = this.element.parentElement.offsetHeight + 'px';\n        }\n    };\n    Resize.prototype.getColData = function (column, mousemove) {\n        return {\n            width: parseFloat(isNullOrUndefined(this.widthService.getWidth(column)) || this.widthService.getWidth(column) === 'auto' ? '0'\n                : this.widthService.getWidth(column).toString()) + mousemove,\n            minWidth: column.minWidth ? parseFloat(column.minWidth.toString()) : null,\n            maxWidth: column.maxWidth ? parseFloat(column.maxWidth.toString()) : null\n        };\n    };\n    Resize.prototype.resizing = function (e) {\n        if (isNullOrUndefined(this.column)) {\n            return;\n        }\n        var offsetWidth = 0;\n        if (isNullOrUndefined(this.column)) {\n            offsetWidth = parentsUntil(this.element, 'th').offsetWidth;\n        }\n        if (this.parent.allowTextWrap) {\n            this.updateResizeEleHeight();\n            this.setHelperHeight();\n        }\n        var pageX = this.getPointX(e);\n        var mousemove = this.parent.enableRtl ? -(pageX - this.pageX) : (pageX - this.pageX);\n        if (this.column.getFreezeTableName() === literals.frozenRight) {\n            mousemove = this.parent.enableRtl ? (pageX - this.pageX) : (this.pageX - pageX);\n        }\n        var colData = this.getColData(this.column, mousemove);\n        if (!colData.width) {\n            colData.width = closest(this.element, 'th').offsetWidth;\n        }\n        var width = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n        this.parent.log('resize_min_max', { column: this.column, width: width });\n        if (this.column.getFreezeTableName() === literals.frozenRight) {\n            if ((this.parent.enableRtl && this.minMove >= pageX) || (!this.parent.enableRtl && this.minMove <= pageX)) {\n                width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n                this.pageX = pageX = this.minMove;\n            }\n        }\n        if ((this.column.getFreezeTableName() !== literals.frozenRight\n            && ((!this.parent.enableRtl && this.minMove >= pageX) || (this.parent.enableRtl && this.minMove <= pageX)))\n            || (this.column.getFreezeTableName() === literals.frozenRight && ((this.parent.enableRtl && this.minMove >= pageX)\n                || (!this.parent.enableRtl && this.minMove <= pageX)))) {\n            width = this.column.minWidth ? parseFloat(this.column.minWidth.toString()) : 10;\n            this.pageX = pageX = this.minMove;\n        }\n        if (width !== parseFloat(isNullOrUndefined(this.column.width) || this.column.width === 'auto' ?\n            offsetWidth.toString() : this.column.width.toString())) {\n            this.pageX = pageX;\n            this.column.width = formatUnit(width);\n            var args = {\n                e: e,\n                column: this.column\n            };\n            this.parent.trigger(events.onResize, args);\n            if (args.cancel) {\n                this.cancelResizeAction(true);\n                return;\n            }\n            var columns = [this.column];\n            var finalColumns = [this.column];\n            if (this.column.columns) {\n                columns = this.getSubColumns(this.column, []);\n                columns = this.calulateColumnsWidth(columns, false, mousemove);\n                finalColumns = this.calulateColumnsWidth(columns, true, mousemove);\n            }\n            for (var _i = 0, finalColumns_1 = finalColumns; _i < finalColumns_1.length; _i++) {\n                var col = finalColumns_1[_i];\n                this.widthService.setColumnWidth(col, null, 'resize');\n            }\n            this.updateHelper();\n        }\n        this.isDblClk = false;\n    };\n    Resize.prototype.calulateColumnsWidth = function (columns, isUpdate, mousemove) {\n        var finalColumns = [];\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n            var col = columns_1[_i];\n            var totalWidth = 0;\n            for (var i = 0; i < columns.length; i++) {\n                totalWidth += parseFloat(columns[i].width.toString());\n            }\n            var colData = this.getColData(col, (parseFloat(col.width)) * mousemove / totalWidth);\n            var colWidth = this.getWidth(colData.width, colData.minWidth, colData.maxWidth);\n            if ((colWidth !== parseFloat(col.width.toString()))) {\n                if (isUpdate) {\n                    col.width = formatUnit(colWidth < 1 ? 1 : colWidth);\n                }\n                finalColumns.push(col);\n            }\n        }\n        return finalColumns;\n    };\n    Resize.prototype.getSubColumns = function (column, subColumns) {\n        for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible !== false && col.allowResizing) {\n                if (col.columns) {\n                    this.getSubColumns(col, subColumns);\n                }\n                else {\n                    subColumns.push(col);\n                }\n            }\n        }\n        return subColumns;\n    };\n    Resize.prototype.resizeEnd = function (e) {\n        if (!this.helper || this.parent.isDestroyed) {\n            return;\n        }\n        EventHandler.remove(this.parent.element, Browser.touchMoveEvent, this.resizing);\n        EventHandler.remove(document, Browser.touchEndEvent, this.resizeEnd);\n        this.updateCursor('remove');\n        detach(this.helper);\n        var args = { e: e, column: this.column };\n        var content = this.parent.getContent().querySelector('.' + literals.content);\n        var cTable = content.querySelector('.' + literals.movableContent) ? content.querySelector('.' + literals.movableContent) : content;\n        if (cTable.scrollHeight > cTable.clientHeight) {\n            this.parent.scrollModule.setPadding();\n            cTable.style.overflowY = 'scroll';\n        }\n        this.parent.trigger(events.resizeStop, args);\n        closest(this.element, '.e-headercell').classList.add('e-resized');\n        if (parentsUntil(this.element, 'e-frozenheader')) {\n            this.isFrozenColResized = true;\n        }\n        else {\n            this.isFrozenColResized = false;\n        }\n        if (this.parent.isFrozenGrid()) {\n            this.parent.notify(events.freezeRender, { case: 'textwrap' });\n        }\n        if (this.parent.allowTextWrap) {\n            this.updateResizeEleHeight();\n            this.parent.notify(events.textWrapRefresh, { case: 'textwrap' });\n        }\n        this.refresh();\n        this.doubleTapEvent(e);\n        this.isDblClk = true;\n    };\n    Resize.prototype.getPointX = function (e) {\n        if (e.touches && e.touches.length) {\n            return e.touches[0].pageX;\n        }\n        else {\n            return e.pageX;\n        }\n    };\n    Resize.prototype.refreshColumnWidth = function () {\n        var columns = this.parent.getColumns();\n        for (var _i = 0, _a = [].slice.apply(this.parent.getHeaderContent().querySelectorAll('th.e-headercell')); _i < _a.length; _i++) {\n            var ele = _a[_i];\n            for (var _b = 0, columns_2 = columns; _b < columns_2.length; _b++) {\n                var column = columns_2[_b];\n                if (ele.querySelector('[e-mappinguid]') &&\n                    ele.querySelector('[e-mappinguid]').getAttribute('e-mappinguid') === column.uid && column.visible) {\n                    column.width = ele.getBoundingClientRect().width;\n                    break;\n                }\n            }\n        }\n        return columns;\n    };\n    Resize.prototype.refreshStackedColumnWidth = function () {\n        for (var _i = 0, _a = this.parent.getStackedColumns(this.parent.columns); _i < _a.length; _i++) {\n            var stackedColumn = _a[_i];\n            stackedColumn.width = this.getStackedWidth(stackedColumn, 0);\n        }\n    };\n    Resize.prototype.getStackedWidth = function (column, width) {\n        for (var _i = 0, _a = column.columns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.visible !== false) {\n                if (col.columns) {\n                    this.getStackedWidth(col, width);\n                }\n                else {\n                    width += col.width;\n                }\n            }\n        }\n        return width;\n    };\n    Resize.prototype.getTargetColumn = function (e) {\n        var cell = closest(e.target, resizeClassList.header);\n        cell = cell.querySelector('.e-headercelldiv') || cell.querySelector('.e-stackedheadercelldiv');\n        var uid = cell.getAttribute('e-mappinguid');\n        return this.parent.getColumnByUid(uid);\n    };\n    Resize.prototype.updateCursor = function (action) {\n        var headerRows = [].slice.call(this.parent.getHeaderContent().querySelectorAll('th'));\n        headerRows.push(this.parent.element);\n        for (var _i = 0, headerRows_1 = headerRows; _i < headerRows_1.length; _i++) {\n            var row = headerRows_1[_i];\n            row.classList[action](resizeClassList.cursor);\n        }\n    };\n    Resize.prototype.refresh = function () {\n        this.column = null;\n        this.pageX = null;\n        this.element = null;\n        this.helper = null;\n    };\n    Resize.prototype.appendHelper = function () {\n        this.helper = this.parent.createElement('div', {\n            className: resizeClassList.helper\n        });\n        this.parent.element.appendChild(this.helper);\n        this.setHelperHeight();\n    };\n    Resize.prototype.setHelperHeight = function () {\n        var isFrozen = this.parent.isFrozenGrid();\n        var height = isFrozen ? this.parent.getContent().querySelector('.' + literals.content).offsetHeight\n            : this.parent.getContent().offsetHeight - this.getScrollBarWidth();\n        var rect = closest(this.element, resizeClassList.header);\n        var tr = [].slice.call(this.parent.getHeaderContent().querySelectorAll('tr'));\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (isFrozen) {\n            if (parentsUntil(rect, literals.movableHeader)) {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelectorAll('tr'));\n            }\n            else if (right && parentsUntil(rect, 'e-frozen-right-header')) {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-right-header').querySelectorAll('tr'));\n            }\n            else {\n                tr = [].slice.call(this.parent.getHeaderContent().querySelector('.e-frozen-left-header').querySelectorAll('tr'));\n            }\n        }\n        for (var i = tr.indexOf(rect.parentElement); i < tr.length && i > -1; i++) {\n            height += tr[i].offsetHeight;\n        }\n        var pos = this.calcPos(rect);\n        if (parentsUntil(rect, 'e-frozen-right-header')) {\n            pos.left += (this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1);\n        }\n        else {\n            pos.left += (this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2);\n        }\n        this.helper.style.cssText = 'height: ' + height + 'px; top: ' + pos.top + 'px; left:' + Math.floor(pos.left) + 'px;';\n        if (this.parent.enableVirtualization) {\n            this.helper.classList.add('e-virtual-rhandler');\n        }\n    };\n    Resize.prototype.getScrollBarWidth = function (height) {\n        var ele = this.parent.getContent().firstChild;\n        return (ele.scrollHeight > ele.clientHeight && height) ||\n            ele.scrollWidth > ele.clientWidth ? getScrollBarWidth() : 0;\n    };\n    Resize.prototype.removeHelper = function (e) {\n        var cls = e.target.classList;\n        if (!(cls.contains(resizeClassList.root) || cls.contains(resizeClassList.icon)) && this.helper) {\n            EventHandler.remove(document, Browser.touchStartEvent, this.removeHelper);\n            EventHandler.remove(this.helper, Browser.touchStartEvent, this.resizeStart);\n            detach(this.helper);\n            this.refresh();\n        }\n    };\n    Resize.prototype.updateHelper = function () {\n        var rect = closest(this.element, resizeClassList.header);\n        var left;\n        if (parentsUntil(rect, 'e-frozen-right-header')) {\n            left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? rect.offsetWidth - 2 : 0 - 1));\n        }\n        else {\n            left = Math.floor(this.calcPos(rect).left + (this.parent.enableRtl ? 0 - 1 : rect.offsetWidth - 2));\n        }\n        var borderWidth = 2; // to maintain the helper inside of grid element.\n        if (left > this.parentElementWidth) {\n            left = this.parentElementWidth - borderWidth;\n        }\n        if (this.parent.isFrozenGrid()) {\n            var table = closest(rect, '.' + literals.table);\n            var fLeft = table.offsetLeft;\n            if (left < fLeft) {\n                left = fLeft;\n            }\n        }\n        this.helper.style.left = left + 'px';\n    };\n    Resize.prototype.calcPos = function (elem) {\n        var parentOffset = {\n            top: 0,\n            left: 0\n        };\n        var offset = elem.getBoundingClientRect();\n        var doc = elem.ownerDocument;\n        var offsetParent = parentsUntil(elem, 'e-grid') || doc.documentElement;\n        while (offsetParent &&\n            (offsetParent === doc.body || offsetParent === doc.documentElement) &&\n            offsetParent.style.position === 'static') {\n            offsetParent = offsetParent.parentNode;\n        }\n        if (offsetParent && offsetParent !== elem && offsetParent.nodeType === 1) {\n            parentOffset = offsetParent.getBoundingClientRect();\n        }\n        return {\n            top: offset.top - parentOffset.top,\n            left: offset.left - parentOffset.left\n        };\n    };\n    Resize.prototype.doubleTapEvent = function (e) {\n        var _this = this;\n        if (this.getUserAgent() && this.isDblClk) {\n            if (!this.tapped) {\n                this.tapped = setTimeout(function () {\n                    _this.tapped = null;\n                }, 300);\n            }\n            else {\n                clearTimeout(this.tapped);\n                this.callAutoFit(e);\n                this.tapped = null;\n            }\n        }\n    };\n    Resize.prototype.getUserAgent = function () {\n        var userAgent = Browser.userAgent.toLowerCase();\n        return /iphone|ipod|ipad/.test(userAgent);\n    };\n    Resize.prototype.timeoutHandler = function () {\n        this.tapped = null;\n    };\n    return Resize;\n}());\nexport { Resize };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}