{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { colGroupRefresh, columnWidthChanged, scroll, columnVisibilityChanged, refreshFooterRenderer } from '../base/constant';\nimport { ContentRender } from './content-renderer';\nimport { RowRenderer } from './row-renderer';\nimport { SummaryModelGenerator } from '../services/summary-model-generator';\nimport { renderMovable, calculateAggregate, iterateExtend, addRemoveEventListener } from '../base/util';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * Footer module is used to render grid content\n *\n * @hidden\n */\nvar FooterRenderer = /** @class */function (_super) {\n  __extends(FooterRenderer, _super);\n  function FooterRenderer(gridModule, serviceLocator) {\n    var _this = _super.call(this, gridModule, serviceLocator) || this;\n    _this.aggregates = {};\n    _this.parent = gridModule;\n    _this.locator = serviceLocator;\n    _this.modelGenerator = new SummaryModelGenerator(_this.parent);\n    _this.addEventListener();\n    return _this;\n  }\n  /**\n   * The function is used to render grid footer div\n   *\n   * @returns {void}\n   */\n  FooterRenderer.prototype.renderPanel = function () {\n    var div = this.parent.createElement('div', {\n      className: literals.gridFooter\n    });\n    var innerDiv = this.parent.createElement('div', {\n      className: 'e-summarycontent'\n    });\n    var movableContent = innerDiv;\n    if (this.parent.isFrozenGrid()) {\n      var fDiv = this.parent.createElement('div', {\n        className: 'e-frozenfootercontent e-frozen-left-footercontent'\n      });\n      var mDiv = this.parent.createElement('div', {\n        className: 'e-movablefootercontent'\n      });\n      var frDiv = this.parent.createElement('div', {\n        className: 'e-frozenfootercontent e-frozen-right-footercontent'\n      });\n      if (this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()) {\n        innerDiv.appendChild(fDiv);\n        this.frozenContent = fDiv;\n      }\n      innerDiv.appendChild(mDiv);\n      this.movableContent = mDiv;\n      movableContent = mDiv;\n      if (this.parent.getFrozenRightColumnsCount()) {\n        innerDiv.appendChild(frDiv);\n        this.frozenRightContent = frDiv;\n      }\n    }\n    if (Browser.isDevice) {\n      movableContent.style.overflowX = 'scroll';\n    }\n    div.appendChild(innerDiv);\n    this.setPanel(div);\n    if (this.parent.getPager() != null) {\n      this.parent.element.insertBefore(div, this.parent.getPager());\n    } else {\n      this.parent.element.appendChild(div);\n    }\n  };\n  /**\n   * The function is used to render grid footer table\n   *\n   * @returns {void}\n   */\n  FooterRenderer.prototype.renderTable = function () {\n    var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount();\n    var innerDiv = this.createContentTable('_footer_table');\n    var table = innerDiv.querySelector('.' + literals.table);\n    var tFoot = this.parent.createElement('tfoot');\n    table.appendChild(tFoot);\n    if (this.parent.isFrozenGrid()) {\n      var freezeTable = table.cloneNode(true);\n      var frTable = table.cloneNode(true);\n      if (frzCols) {\n        this.frozenContent.appendChild(freezeTable);\n        this.freezeTable = freezeTable;\n      }\n      if (this.parent.getFrozenRightColumnsCount()) {\n        remove(frTable.querySelector(literals.colGroup));\n        var hdr = this.parent.getHeaderContent().querySelector('.e-frozen-right-header');\n        var frCol = hdr.querySelector(literals.colGroup).cloneNode(true);\n        frTable.insertBefore(frCol, frTable.querySelector(literals.tbody));\n        this.frozenRightContent.appendChild(frTable);\n        this.frTable = frTable;\n      }\n      this.movableContent.appendChild(table);\n      remove(table.querySelector(literals.colGroup));\n      var colGroup = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).cloneNode(true);\n      table.insertBefore(colGroup, table.querySelector(literals.tbody));\n      this.setColGroup(colGroup);\n    }\n    this.setTable(table);\n  };\n  FooterRenderer.prototype.renderSummaryContent = function (e, table, cStart, cEnd) {\n    var input = this.parent.dataSource instanceof Array ? !this.parent.getDataModule().isRemote() && this.parent.parentDetails ? this.getData() : this.parent.dataSource : this.parent.currentViewData;\n    var summaries = this.modelGenerator.getData();\n    var dummies = isNullOrUndefined(cStart) ? this.modelGenerator.getColumns() : this.modelGenerator.getColumns(cStart, cEnd);\n    // eslint-disable-next-line max-len\n    var rows = isNullOrUndefined(cStart) ? this.modelGenerator.generateRows(input, e || this.aggregates) : this.modelGenerator.generateRows(input, e || this.aggregates, cStart, cEnd);\n    var fragment = document.createDocumentFragment();\n    var rowrenderer = new RowRenderer(this.locator, null, this.parent);\n    rowrenderer.element = this.parent.createElement('TR', {\n      className: 'e-summaryrow'\n    });\n    for (var srow = 0, len = summaries.length; srow < len; srow++) {\n      var row = rows[srow];\n      if (!row) {\n        continue;\n      }\n      var tr = rowrenderer.render(row, dummies);\n      fragment.appendChild(tr);\n    }\n    table.tFoot.appendChild(fragment);\n    this.aggregates = !isNullOrUndefined(e) ? e : this.aggregates;\n  };\n  FooterRenderer.prototype.refresh = function (e) {\n    var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount();\n    var movable = this.parent.getMovableColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    if (this.parent.isFrozenGrid()) {\n      remove(this.getPanel());\n      this.renderPanel();\n      this.renderTable();\n      if (frzCols) {\n        this.freezeTable.tFoot.innerHTML = '';\n        this.renderSummaryContent(e, this.freezeTable, 0, frzCols);\n      }\n    }\n    this.getTable().tFoot.innerHTML = '';\n    this.renderSummaryContent(e, this.getTable(), frzCols, right ? frzCols + movable : undefined);\n    if (this.parent.getFrozenRightColumnsCount()) {\n      this.frTable.tFoot.innerHTML = '';\n      this.renderSummaryContent(e, this.frTable, frzCols + movable, frzCols + movable + right);\n      var movableLastCell = [].slice.call(this.getTable().getElementsByClassName('e-lastsummarycell'));\n      if (movableLastCell.length) {\n        for (var i = 0; i < movableLastCell.length; i++) {\n          movableLastCell[i].style.borderRight = '0px';\n        }\n      }\n    }\n    // check freeze content have no row case\n    if (this.parent.isFrozenGrid()) {\n      var movableCnt = [].slice.call(this.parent.element.querySelector('.e-movablefootercontent').getElementsByClassName('e-summaryrow'));\n      var frozenCnt = void 0;\n      if (frzCols) {\n        frozenCnt = [].slice.call(this.parent.element.querySelector('.e-frozen-left-footercontent').getElementsByClassName('e-summaryrow'));\n        this.refreshHeight(frozenCnt, movableCnt);\n        var frozenDiv = this.frozenContent;\n        if (!frozenDiv.offsetHeight) {\n          frozenDiv.style.height = this.getTable().offsetHeight + 'px';\n        }\n      }\n      if (right) {\n        var frCnt = [].slice.call(this.parent.element.querySelector('.e-frozen-right-footercontent').getElementsByClassName('e-summaryrow'));\n        this.refreshHeight(frCnt, movableCnt);\n        if (frozenCnt) {\n          this.refreshHeight(frCnt, frozenCnt);\n        }\n        var frDiv = this.frTable;\n        if (!frDiv.offsetHeight) {\n          frDiv.style.height = this.getTable().offsetHeight + 'px';\n        }\n      }\n      if (this.parent.allowResizing) {\n        this.updateFooterTableWidth(this.getTable());\n      }\n    }\n    if (isNullOrUndefined(e) && this.parent.isAutoFitColumns) {\n      this.parent.autoFitColumns();\n    }\n    this.onScroll();\n  };\n  FooterRenderer.prototype.refreshHeight = function (frozenCnt, movableCnt) {\n    for (var i = 0; i < frozenCnt.length; i++) {\n      var frozenHeight = frozenCnt[i].getBoundingClientRect().height;\n      var movableHeight = movableCnt[i].getBoundingClientRect().height;\n      if (frozenHeight < movableHeight) {\n        frozenCnt[i].classList.remove('e-hide');\n        frozenCnt[i].style.height = movableHeight + 'px';\n      } else if (frozenHeight > movableHeight) {\n        movableCnt[i].classList.remove('e-hide');\n        movableCnt[i].style.height = frozenHeight + 'px';\n      }\n    }\n  };\n  FooterRenderer.prototype.refreshCol = function () {\n    // frozen table\n    var mheaderCol;\n    var fheaderCol = mheaderCol = this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true);\n    if (this.parent.getFrozenColumns()) {\n      // eslint-disable-next-line max-len\n      var isXaxis = this.parent.enableColumnVirtualization && this.parent.contentModule.isXaxis();\n      if (isXaxis) {\n        mheaderCol = this.parent.getMovableVirtualHeader().querySelector(literals.colGroup).cloneNode(true);\n      } else {\n        mheaderCol = renderMovable(fheaderCol, this.parent.getFrozenColumns(), this.parent);\n        this.freezeTable.replaceChild(fheaderCol, this.freezeTable.querySelector(literals.colGroup));\n      }\n    }\n    this.getTable().replaceChild(mheaderCol, this.getColGroup());\n    this.setColGroup(mheaderCol);\n  };\n  FooterRenderer.prototype.onWidthChange = function (args) {\n    this.getColFromIndex(args.index).style.width = formatUnit(args.width);\n    if (this.parent.allowResizing && args.module === 'resize') {\n      this.updateFooterTableWidth(this.getTable());\n    }\n  };\n  FooterRenderer.prototype.onScroll = function (e) {\n    if (e === void 0) {\n      e = {\n        left: this.parent.isFrozenGrid() ? this.parent.getContent().querySelector('.' + literals.movableContent).scrollLeft : this.parent.getContent().firstChild.scrollLeft\n      };\n    }\n    this.getTable().parentElement.scrollLeft = e.left;\n  };\n  FooterRenderer.prototype.getColFromIndex = function (index) {\n    var left = this.parent.getFrozenLeftColumnsCount() || this.parent.getFrozenColumns();\n    var movable = this.parent.getMovableColumnsCount();\n    var right = this.parent.getFrozenRightColumnsCount();\n    var isDrag = this.parent.isRowDragable() && !(this.parent.getFrozenMode() === 'Right') ? 1 : 0;\n    if (left && index < left + isDrag) {\n      return this.freezeTable.querySelector(literals.colGroup).children[index];\n    } else if (right && index >= left + movable + isDrag) {\n      return this.frTable.querySelector(literals.colGroup).children[index - (left ? left + movable + isDrag : left + movable)];\n    }\n    return this.getColGroup().children[index - (left ? left + isDrag : left)];\n  };\n  FooterRenderer.prototype.columnVisibilityChanged = function () {\n    this.refresh();\n  };\n  FooterRenderer.prototype.addEventListener = function () {\n    this.evtHandlers = [{\n      event: colGroupRefresh,\n      handler: this.refreshCol\n    }, {\n      event: columnWidthChanged,\n      handler: this.onWidthChange\n    }, {\n      event: scroll,\n      handler: this.onScroll\n    }, {\n      event: columnVisibilityChanged,\n      handler: this.columnVisibilityChanged\n    }, {\n      event: refreshFooterRenderer,\n      handler: this.refreshFooterRenderer\n    }];\n    addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n  };\n  FooterRenderer.prototype.removeEventListener = function () {\n    addRemoveEventListener(this.parent, this.evtHandlers, false);\n  };\n  FooterRenderer.prototype.updateFooterTableWidth = function (tFoot) {\n    var tHead = this.parent.getHeaderTable();\n    if (tHead && tFoot) {\n      tFoot.style.width = tHead.style.width;\n    }\n  };\n  FooterRenderer.prototype.refreshFooterRenderer = function (editedData) {\n    var aggregates = this.onAggregates(editedData);\n    this.refresh(aggregates);\n  };\n  FooterRenderer.prototype.getIndexByKey = function (data, ds) {\n    var key = this.parent.getPrimaryKeyFieldNames()[0];\n    for (var i = 0; i < ds.length; i++) {\n      if (ds[i][key] === data[key]) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  FooterRenderer.prototype.getData = function () {\n    return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(true));\n  };\n  FooterRenderer.prototype.onAggregates = function (editedData) {\n    editedData = editedData instanceof Array ? editedData : [];\n    var field = this.parent.getPrimaryKeyFieldNames()[0];\n    var dataSource = [];\n    var isModified = false;\n    var batchChanges = {};\n    var gridData = 'dataSource';\n    var isFiltered = false;\n    if (!this.parent.renderModule.data.isRemote() && this.parent.allowFiltering && this.parent.filterSettings.columns.length) {\n      isFiltered = true;\n    }\n    var currentViewData = this.parent.dataSource instanceof Array ? isFiltered ? this.parent.getFilteredRecords() : this.parent.dataSource : this.parent.dataSource[gridData].json.length ? this.parent.dataSource[gridData].json : this.parent.getCurrentViewRecords();\n    if (this.parent.parentDetails && !this.parent.getDataModule().isRemote()) {\n      currentViewData = this.getData();\n    }\n    if (this.parent.editModule) {\n      batchChanges = this.parent.editModule.getBatchChanges();\n    }\n    if (Object.keys(batchChanges).length) {\n      for (var i = 0; i < currentViewData.length; i++) {\n        isModified = false;\n        // eslint-disable-next-line max-len\n        if (batchChanges[literals.changedRecords].length && this.getIndexByKey(currentViewData[i], batchChanges[literals.changedRecords]) > -1) {\n          isModified = true;\n          // eslint-disable-next-line max-len\n          dataSource.push(batchChanges[literals.changedRecords][this.getIndexByKey(currentViewData[i], batchChanges[literals.changedRecords])]);\n        }\n        // eslint-disable-next-line max-len\n        if (batchChanges[literals.deletedRecords].length && this.getIndexByKey(currentViewData[i], batchChanges[literals.deletedRecords]) > -1) {\n          isModified = true;\n        } else if (!isModified) {\n          dataSource.push(currentViewData[i]);\n        }\n      }\n      if (batchChanges[literals.addedRecords].length) {\n        for (var i = 0; i < batchChanges[literals.addedRecords].length; i++) {\n          dataSource.push(batchChanges[literals.addedRecords][i]);\n        }\n      }\n    } else {\n      if (editedData.length) {\n        var data = iterateExtend(currentViewData);\n        dataSource = data.map(function (item) {\n          var idVal = DataUtil.getObject(field, item);\n          var value;\n          var hasVal = editedData.some(function (cItem) {\n            value = cItem;\n            return idVal === DataUtil.getObject(field, cItem);\n          });\n          return hasVal ? value : item;\n        });\n      } else {\n        dataSource = currentViewData;\n      }\n    }\n    var eData = editedData;\n    if (eData.type && eData.type === 'cancel') {\n      dataSource = currentViewData;\n    }\n    var aggregate = {};\n    var agrVal;\n    var aggregateRows = this.parent.aggregates;\n    for (var i = 0; i < aggregateRows.length; i++) {\n      for (var j = 0; j < aggregateRows[i].columns.length; j++) {\n        var data = [];\n        var type = aggregateRows[i].columns[j].type.toString();\n        data = dataSource;\n        agrVal = calculateAggregate(type, data, aggregateRows[i].columns[j], this.parent);\n        aggregate[aggregateRows[i].columns[j].field + ' - ' + type.toLowerCase()] = agrVal;\n      }\n    }\n    var result = {\n      result: dataSource,\n      count: dataSource.length,\n      aggregates: aggregate\n    };\n    return result;\n  };\n  return FooterRenderer;\n}(ContentRender);\nexport { FooterRenderer };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","isNullOrUndefined","remove","formatUnit","Browser","colGroupRefresh","columnWidthChanged","scroll","columnVisibilityChanged","refreshFooterRenderer","ContentRender","RowRenderer","SummaryModelGenerator","renderMovable","calculateAggregate","iterateExtend","addRemoveEventListener","DataUtil","literals","FooterRenderer","_super","gridModule","serviceLocator","_this","call","aggregates","parent","locator","modelGenerator","addEventListener","renderPanel","div","createElement","className","gridFooter","innerDiv","movableContent","isFrozenGrid","fDiv","mDiv","frDiv","getFrozenColumns","getFrozenLeftColumnsCount","appendChild","frozenContent","getFrozenRightColumnsCount","frozenRightContent","isDevice","style","overflowX","setPanel","getPager","element","insertBefore","renderTable","frzCols","createContentTable","table","querySelector","tFoot","freezeTable","cloneNode","frTable","colGroup","hdr","getHeaderContent","frCol","tbody","movableHeader","setColGroup","setTable","renderSummaryContent","e","cStart","cEnd","input","dataSource","getDataModule","isRemote","parentDetails","getData","currentViewData","summaries","dummies","getColumns","rows","generateRows","fragment","document","createDocumentFragment","rowrenderer","srow","len","length","row","tr","render","refresh","movable","getMovableColumnsCount","right","getPanel","innerHTML","getTable","undefined","movableLastCell","slice","getElementsByClassName","i","borderRight","movableCnt","frozenCnt","refreshHeight","frozenDiv","offsetHeight","height","frCnt","allowResizing","updateFooterTableWidth","isAutoFitColumns","autoFitColumns","onScroll","frozenHeight","getBoundingClientRect","movableHeight","classList","refreshCol","mheaderCol","fheaderCol","gridHeader","isXaxis","enableColumnVirtualization","contentModule","getMovableVirtualHeader","replaceChild","getColGroup","onWidthChange","args","getColFromIndex","index","width","module","left","getContent","scrollLeft","firstChild","parentElement","isDrag","isRowDragable","getFrozenMode","children","evtHandlers","event","handler","removeEventListener","tHead","getHeaderTable","editedData","onAggregates","getIndexByKey","data","ds","key","getPrimaryKeyFieldNames","dataManager","executeLocal","generateQuery","field","isModified","batchChanges","gridData","isFiltered","renderModule","allowFiltering","filterSettings","columns","getFilteredRecords","json","getCurrentViewRecords","editModule","getBatchChanges","keys","changedRecords","push","deletedRecords","addedRecords","map","item","idVal","getObject","value","hasVal","some","cItem","eData","type","aggregate","agrVal","aggregateRows","j","toString","toLowerCase","result","count"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/renderer/footer-renderer.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, remove } from '@syncfusion/ej2-base';\nimport { formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { colGroupRefresh, columnWidthChanged, scroll, columnVisibilityChanged, refreshFooterRenderer } from '../base/constant';\nimport { ContentRender } from './content-renderer';\nimport { RowRenderer } from './row-renderer';\nimport { SummaryModelGenerator } from '../services/summary-model-generator';\nimport { renderMovable, calculateAggregate, iterateExtend, addRemoveEventListener } from '../base/util';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport * as literals from '../base/string-literals';\n/**\n * Footer module is used to render grid content\n *\n * @hidden\n */\nvar FooterRenderer = /** @class */ (function (_super) {\n    __extends(FooterRenderer, _super);\n    function FooterRenderer(gridModule, serviceLocator) {\n        var _this = _super.call(this, gridModule, serviceLocator) || this;\n        _this.aggregates = {};\n        _this.parent = gridModule;\n        _this.locator = serviceLocator;\n        _this.modelGenerator = new SummaryModelGenerator(_this.parent);\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * The function is used to render grid footer div\n     *\n     * @returns {void}\n     */\n    FooterRenderer.prototype.renderPanel = function () {\n        var div = this.parent.createElement('div', { className: literals.gridFooter });\n        var innerDiv = this.parent.createElement('div', { className: 'e-summarycontent' });\n        var movableContent = innerDiv;\n        if (this.parent.isFrozenGrid()) {\n            var fDiv = this.parent.createElement('div', { className: 'e-frozenfootercontent e-frozen-left-footercontent' });\n            var mDiv = this.parent.createElement('div', { className: 'e-movablefootercontent' });\n            var frDiv = this.parent.createElement('div', { className: 'e-frozenfootercontent e-frozen-right-footercontent' });\n            if (this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount()) {\n                innerDiv.appendChild(fDiv);\n                this.frozenContent = fDiv;\n            }\n            innerDiv.appendChild(mDiv);\n            this.movableContent = mDiv;\n            movableContent = mDiv;\n            if (this.parent.getFrozenRightColumnsCount()) {\n                innerDiv.appendChild(frDiv);\n                this.frozenRightContent = frDiv;\n            }\n        }\n        if (Browser.isDevice) {\n            movableContent.style.overflowX = 'scroll';\n        }\n        div.appendChild(innerDiv);\n        this.setPanel(div);\n        if (this.parent.getPager() != null) {\n            this.parent.element.insertBefore(div, this.parent.getPager());\n        }\n        else {\n            this.parent.element.appendChild(div);\n        }\n    };\n    /**\n     * The function is used to render grid footer table\n     *\n     * @returns {void}\n     */\n    FooterRenderer.prototype.renderTable = function () {\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount();\n        var innerDiv = this.createContentTable('_footer_table');\n        var table = innerDiv.querySelector('.' + literals.table);\n        var tFoot = this.parent.createElement('tfoot');\n        table.appendChild(tFoot);\n        if (this.parent.isFrozenGrid()) {\n            var freezeTable = table.cloneNode(true);\n            var frTable = table.cloneNode(true);\n            if (frzCols) {\n                this.frozenContent.appendChild(freezeTable);\n                this.freezeTable = freezeTable;\n            }\n            if (this.parent.getFrozenRightColumnsCount()) {\n                remove(frTable.querySelector(literals.colGroup));\n                var hdr = this.parent.getHeaderContent().querySelector('.e-frozen-right-header');\n                var frCol = (hdr.querySelector(literals.colGroup).cloneNode(true));\n                frTable.insertBefore(frCol, frTable.querySelector(literals.tbody));\n                this.frozenRightContent.appendChild(frTable);\n                this.frTable = frTable;\n            }\n            this.movableContent.appendChild(table);\n            remove(table.querySelector(literals.colGroup));\n            var colGroup = ((this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n            table.insertBefore(colGroup, table.querySelector(literals.tbody));\n            this.setColGroup(colGroup);\n        }\n        this.setTable(table);\n    };\n    FooterRenderer.prototype.renderSummaryContent = function (e, table, cStart, cEnd) {\n        var input = this.parent.dataSource instanceof Array ? !this.parent.getDataModule().isRemote() &&\n            this.parent.parentDetails ? this.getData() : this.parent.dataSource : this.parent.currentViewData;\n        var summaries = this.modelGenerator.getData();\n        var dummies = isNullOrUndefined(cStart) ? this.modelGenerator.getColumns() :\n            this.modelGenerator.getColumns(cStart, cEnd);\n        // eslint-disable-next-line max-len\n        var rows = isNullOrUndefined(cStart) ? this.modelGenerator.generateRows(input, e || this.aggregates) :\n            this.modelGenerator.generateRows(input, e || this.aggregates, cStart, cEnd);\n        var fragment = document.createDocumentFragment();\n        var rowrenderer = new RowRenderer(this.locator, null, this.parent);\n        rowrenderer.element = this.parent.createElement('TR', { className: 'e-summaryrow' });\n        for (var srow = 0, len = summaries.length; srow < len; srow++) {\n            var row = rows[srow];\n            if (!row) {\n                continue;\n            }\n            var tr = rowrenderer.render(row, dummies);\n            fragment.appendChild(tr);\n        }\n        table.tFoot.appendChild(fragment);\n        this.aggregates = !isNullOrUndefined(e) ? e : this.aggregates;\n    };\n    FooterRenderer.prototype.refresh = function (e) {\n        var frzCols = this.parent.getFrozenColumns() || this.parent.getFrozenLeftColumnsCount();\n        var movable = this.parent.getMovableColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        if (this.parent.isFrozenGrid()) {\n            remove(this.getPanel());\n            this.renderPanel();\n            this.renderTable();\n            if (frzCols) {\n                this.freezeTable.tFoot.innerHTML = '';\n                this.renderSummaryContent(e, this.freezeTable, 0, frzCols);\n            }\n        }\n        this.getTable().tFoot.innerHTML = '';\n        this.renderSummaryContent(e, this.getTable(), frzCols, right ? frzCols + movable : undefined);\n        if (this.parent.getFrozenRightColumnsCount()) {\n            this.frTable.tFoot.innerHTML = '';\n            this.renderSummaryContent(e, this.frTable, frzCols + movable, frzCols + movable + right);\n            var movableLastCell = [].slice.call(this.getTable().getElementsByClassName('e-lastsummarycell'));\n            if (movableLastCell.length) {\n                for (var i = 0; i < movableLastCell.length; i++) {\n                    movableLastCell[i].style.borderRight = '0px';\n                }\n            }\n        }\n        // check freeze content have no row case\n        if (this.parent.isFrozenGrid()) {\n            var movableCnt = [].slice.call(this.parent.element.querySelector('.e-movablefootercontent')\n                .getElementsByClassName('e-summaryrow'));\n            var frozenCnt = void 0;\n            if (frzCols) {\n                frozenCnt = [].slice.call(this.parent.element.querySelector('.e-frozen-left-footercontent')\n                    .getElementsByClassName('e-summaryrow'));\n                this.refreshHeight(frozenCnt, movableCnt);\n                var frozenDiv = this.frozenContent;\n                if (!frozenDiv.offsetHeight) {\n                    frozenDiv.style.height = this.getTable().offsetHeight + 'px';\n                }\n            }\n            if (right) {\n                var frCnt = [].slice.call(this.parent.element.querySelector('.e-frozen-right-footercontent')\n                    .getElementsByClassName('e-summaryrow'));\n                this.refreshHeight(frCnt, movableCnt);\n                if (frozenCnt) {\n                    this.refreshHeight(frCnt, frozenCnt);\n                }\n                var frDiv = this.frTable;\n                if (!frDiv.offsetHeight) {\n                    frDiv.style.height = this.getTable().offsetHeight + 'px';\n                }\n            }\n            if (this.parent.allowResizing) {\n                this.updateFooterTableWidth(this.getTable());\n            }\n        }\n        if (isNullOrUndefined(e) && this.parent.isAutoFitColumns) {\n            this.parent.autoFitColumns();\n        }\n        this.onScroll();\n    };\n    FooterRenderer.prototype.refreshHeight = function (frozenCnt, movableCnt) {\n        for (var i = 0; i < frozenCnt.length; i++) {\n            var frozenHeight = frozenCnt[i].getBoundingClientRect().height;\n            var movableHeight = movableCnt[i].getBoundingClientRect().height;\n            if (frozenHeight < movableHeight) {\n                frozenCnt[i].classList.remove('e-hide');\n                frozenCnt[i].style.height = movableHeight + 'px';\n            }\n            else if (frozenHeight > movableHeight) {\n                movableCnt[i].classList.remove('e-hide');\n                movableCnt[i].style.height = frozenHeight + 'px';\n            }\n        }\n    };\n    FooterRenderer.prototype.refreshCol = function () {\n        // frozen table\n        var mheaderCol;\n        var fheaderCol = mheaderCol = this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true);\n        if (this.parent.getFrozenColumns()) {\n            // eslint-disable-next-line max-len\n            var isXaxis = this.parent.enableColumnVirtualization && this.parent.contentModule.isXaxis();\n            if (isXaxis) {\n                mheaderCol = this.parent.getMovableVirtualHeader().querySelector(literals.colGroup).cloneNode(true);\n            }\n            else {\n                mheaderCol = renderMovable(fheaderCol, this.parent.getFrozenColumns(), this.parent);\n                this.freezeTable.replaceChild(fheaderCol, this.freezeTable.querySelector(literals.colGroup));\n            }\n        }\n        this.getTable().replaceChild(mheaderCol, this.getColGroup());\n        this.setColGroup(mheaderCol);\n    };\n    FooterRenderer.prototype.onWidthChange = function (args) {\n        this.getColFromIndex(args.index).style.width = formatUnit(args.width);\n        if (this.parent.allowResizing && args.module === 'resize') {\n            this.updateFooterTableWidth(this.getTable());\n        }\n    };\n    FooterRenderer.prototype.onScroll = function (e) {\n        if (e === void 0) { e = {\n            left: this.parent.isFrozenGrid() ? this.parent.getContent().querySelector('.' + literals.movableContent).scrollLeft :\n                this.parent.getContent().firstChild.scrollLeft\n        }; }\n        this.getTable().parentElement.scrollLeft = e.left;\n    };\n    FooterRenderer.prototype.getColFromIndex = function (index) {\n        var left = this.parent.getFrozenLeftColumnsCount() || this.parent.getFrozenColumns();\n        var movable = this.parent.getMovableColumnsCount();\n        var right = this.parent.getFrozenRightColumnsCount();\n        var isDrag = this.parent.isRowDragable() && !(this.parent.getFrozenMode() === 'Right') ? 1 : 0;\n        if (left && index < (left + isDrag)) {\n            return this.freezeTable.querySelector(literals.colGroup).children[index];\n        }\n        else if (right && (index >= (left + movable + isDrag))) {\n            return this.frTable.querySelector(literals.colGroup).children[index - (left ? (left + movable + isDrag) :\n                (left + movable))];\n        }\n        return this.getColGroup().children[index - (left ? (left + isDrag) : left)];\n    };\n    FooterRenderer.prototype.columnVisibilityChanged = function () {\n        this.refresh();\n    };\n    FooterRenderer.prototype.addEventListener = function () {\n        this.evtHandlers = [{ event: colGroupRefresh, handler: this.refreshCol },\n            { event: columnWidthChanged, handler: this.onWidthChange },\n            { event: scroll, handler: this.onScroll },\n            { event: columnVisibilityChanged, handler: this.columnVisibilityChanged },\n            { event: refreshFooterRenderer, handler: this.refreshFooterRenderer }];\n        addRemoveEventListener(this.parent, this.evtHandlers, true, this);\n    };\n    FooterRenderer.prototype.removeEventListener = function () {\n        addRemoveEventListener(this.parent, this.evtHandlers, false);\n    };\n    FooterRenderer.prototype.updateFooterTableWidth = function (tFoot) {\n        var tHead = this.parent.getHeaderTable();\n        if (tHead && tFoot) {\n            tFoot.style.width = tHead.style.width;\n        }\n    };\n    FooterRenderer.prototype.refreshFooterRenderer = function (editedData) {\n        var aggregates = this.onAggregates(editedData);\n        this.refresh(aggregates);\n    };\n    FooterRenderer.prototype.getIndexByKey = function (data, ds) {\n        var key = this.parent.getPrimaryKeyFieldNames()[0];\n        for (var i = 0; i < ds.length; i++) {\n            if (ds[i][key] === data[key]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    FooterRenderer.prototype.getData = function () {\n        return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(true));\n    };\n    FooterRenderer.prototype.onAggregates = function (editedData) {\n        editedData = editedData instanceof Array ? editedData : [];\n        var field = this.parent.getPrimaryKeyFieldNames()[0];\n        var dataSource = [];\n        var isModified = false;\n        var batchChanges = {};\n        var gridData = 'dataSource';\n        var isFiltered = false;\n        if (!this.parent.renderModule.data.isRemote() && this.parent.allowFiltering && this.parent.filterSettings.columns.length) {\n            isFiltered = true;\n        }\n        var currentViewData = this.parent.dataSource instanceof Array ?\n            (isFiltered ? this.parent.getFilteredRecords() : this.parent.dataSource) : (this.parent.dataSource[gridData].json.length ?\n            this.parent.dataSource[gridData].json : this.parent.getCurrentViewRecords());\n        if (this.parent.parentDetails && !this.parent.getDataModule().isRemote()) {\n            currentViewData = this.getData();\n        }\n        if (this.parent.editModule) {\n            batchChanges = this.parent.editModule.getBatchChanges();\n        }\n        if (Object.keys(batchChanges).length) {\n            for (var i = 0; i < currentViewData.length; i++) {\n                isModified = false;\n                // eslint-disable-next-line max-len\n                if (batchChanges[literals.changedRecords].length && this.getIndexByKey(currentViewData[i], batchChanges[literals.changedRecords]) > -1) {\n                    isModified = true;\n                    // eslint-disable-next-line max-len\n                    dataSource.push(batchChanges[literals.changedRecords][this.getIndexByKey(currentViewData[i], batchChanges[literals.changedRecords])]);\n                }\n                // eslint-disable-next-line max-len\n                if (batchChanges[literals.deletedRecords].length && this.getIndexByKey(currentViewData[i], batchChanges[literals.deletedRecords]) > -1) {\n                    isModified = true;\n                }\n                else if (!isModified) {\n                    dataSource.push(currentViewData[i]);\n                }\n            }\n            if (batchChanges[literals.addedRecords].length) {\n                for (var i = 0; i < batchChanges[literals.addedRecords].length; i++) {\n                    dataSource.push(batchChanges[literals.addedRecords][i]);\n                }\n            }\n        }\n        else {\n            if (editedData.length) {\n                var data = iterateExtend(currentViewData);\n                dataSource = data.map(function (item) {\n                    var idVal = DataUtil.getObject(field, item);\n                    var value;\n                    var hasVal = editedData.some(function (cItem) {\n                        value = cItem;\n                        return idVal === DataUtil.getObject(field, cItem);\n                    });\n                    return hasVal ? value : item;\n                });\n            }\n            else {\n                dataSource = currentViewData;\n            }\n        }\n        var eData = editedData;\n        if ((eData.type && eData.type === 'cancel')) {\n            dataSource = currentViewData;\n        }\n        var aggregate = {};\n        var agrVal;\n        var aggregateRows = this.parent.aggregates;\n        for (var i = 0; i < aggregateRows.length; i++) {\n            for (var j = 0; j < aggregateRows[i].columns.length; j++) {\n                var data = [];\n                var type = aggregateRows[i].columns[j].type.toString();\n                data = dataSource;\n                agrVal = calculateAggregate(type, data, aggregateRows[i].columns[j], this.parent);\n                aggregate[aggregateRows[i].columns[j].field + ' - ' + type.toLowerCase()] = agrVal;\n            }\n        }\n        var result = {\n            result: dataSource,\n            count: dataSource.length,\n            aggregates: aggregate\n        };\n        return result;\n    };\n    return FooterRenderer;\n}(ContentRender));\nexport { FooterRenderer };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}