{"ast":null,"code":"import { removeClass, addClass, extend } from '@syncfusion/ej2-base';\nimport { closest, classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Grid } from '../base/grid';\nimport { parents, getUid, appendChildren } from '../base/util';\nimport * as events from '../base/constant';\nimport { AriaService } from '../services/aria-service';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * The `DetailRow` module is used to handle detail template and hierarchy Grid operations.\n */\nvar DetailRow = /** @class */function () {\n  /**\n   * Constructor for the Grid detail template module\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   * @param {ServiceLocator} locator - specifes the serviceLocator\n   * @hidden\n   */\n  function DetailRow(parent, locator) {\n    //Internal variables\n    this.aria = new AriaService();\n    this.childRefs = [];\n    this.parent = parent;\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.focus = locator.getService('focus');\n    this.parent.on(events.click, this.clickHandler, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.keyPressed, this.keyPressHandler, this);\n    this.parent.on(events.expandChildGrid, this.expand, this);\n    this.parent.on(events.columnVisibilityChanged, this.refreshColSpan, this);\n    this.parent.on(events.destroy, this.destroyChildGrids, this);\n    this.parent.on(events.destroyChildGrid, this.destroyChildGrids, this);\n  }\n  DetailRow.prototype.clickHandler = function (e) {\n    this.toogleExpandcollapse(closest(e.target, 'td'));\n  };\n  DetailRow.prototype.toogleExpandcollapse = function (target) {\n    var gObj = this.parent;\n    var table = this.parent.getContentTable();\n    var lastrowIdx = this.parent.getCurrentViewRecords().length - 1;\n    var parent = 'parentDetails';\n    var childGrid;\n    var isExpanded = target && target.classList.contains('e-detailrowcollapse');\n    if (!(target && (target.classList.contains('e-detailrowcollapse') || target.classList.contains('e-detailrowexpand')))) {\n      return;\n    }\n    var tr = target.parentElement;\n    var uid = tr.getAttribute('data-uid');\n    var rowObj = gObj.getRowObjectFromUID(uid);\n    var nextRow = this.parent.getContentTable().querySelector(literals.tbody).children[tr.rowIndex + 1];\n    if (target.classList.contains('e-detailrowcollapse')) {\n      var data = rowObj.data;\n      if (this.isDetailRow(nextRow)) {\n        nextRow.style.display = '';\n        gObj.notify(events.detailStateChange, {\n          data: data,\n          childGrid: gObj.childGrid,\n          detailElement: target,\n          isExpanded: isExpanded\n        });\n      } else if (gObj.getDetailTemplate() || gObj.childGrid) {\n        var rowId = getUid('grid-row');\n        var detailRow = this.parent.createElement('tr', {\n          className: 'e-detailrow',\n          attrs: {\n            'data-uid': rowId\n          }\n        });\n        var detailCell = this.parent.createElement('td', {\n          className: 'e-detailcell'\n        });\n        var colSpan = this.parent.getVisibleColumns().length;\n        if (this.parent.allowRowDragAndDrop) {\n          colSpan++;\n        }\n        detailCell.setAttribute('colspan', colSpan.toString());\n        var row = new Row({\n          isDataRow: true,\n          isExpand: true,\n          uid: rowId,\n          isDetailRow: true,\n          cells: [new Cell({\n            cellType: CellType.Indent\n          }), new Cell({\n            isDataCell: true,\n            visible: true\n          })]\n        });\n        row.parentUid = rowObj.uid;\n        for (var i = 0, len = gObj.groupSettings.columns.length; i < len; i++) {\n          detailRow.appendChild(this.parent.createElement('td', {\n            className: 'e-indentcell'\n          }));\n          row.cells.unshift(new Cell({\n            cellType: CellType.Indent\n          }));\n        }\n        detailRow.appendChild(this.parent.createElement('td', {\n          className: 'e-detailindentcell'\n        }));\n        detailRow.appendChild(detailCell);\n        tr.parentNode.insertBefore(detailRow, tr.nextSibling);\n        if (gObj.detailTemplate) {\n          var isReactCompiler = this.parent.isReact && typeof gObj.detailTemplate !== 'string';\n          var detailTemplateID = gObj.element.id + 'detailTemplate';\n          if (isReactCompiler) {\n            gObj.getDetailTemplate()(data, gObj, 'detailTemplate', detailTemplateID, null, null, detailCell);\n            this.parent.renderTemplates();\n          } else {\n            appendChildren(detailCell, gObj.getDetailTemplate()(data, gObj, 'detailTemplate', detailTemplateID));\n          }\n        } else {\n          childGrid = new Grid(this.getGridModel(gObj, rowObj, gObj.printMode));\n          this.childRefs.push(childGrid);\n          if (childGrid.query) {\n            childGrid.query = childGrid.query.clone();\n          }\n          childGrid[parent] = {\n            parentID: gObj.element.id,\n            parentPrimaryKeys: gObj.getPrimaryKeyFieldNames(),\n            parentKeyField: gObj.childGrid.queryString,\n            parentKeyFieldValue: data[gObj.childGrid.queryString],\n            parentRowData: data\n          };\n          childGrid.isLegacyTemplate = gObj.isReact || gObj.isLegacyTemplate;\n          if (gObj.isPrinting) {\n            childGrid.isPrinting = true;\n            childGrid.on(events.contentReady, this.promiseResolve(childGrid), this);\n            childGrid.on(events.onEmpty, this.promiseResolve(childGrid), this);\n          }\n          rowObj.childGrid = childGrid;\n          var modules = childGrid.getInjectedModules();\n          var injectedModues = gObj.getInjectedModules();\n          if (!modules || modules.length !== injectedModues.length) {\n            childGrid.setInjectedModules(injectedModues);\n          }\n          var gridElem = this.parent.createElement('div', {\n            id: 'child' + parents(tr, 'e-grid').length + '_grid' + tr.rowIndex + getUid('')\n          });\n          detailCell.appendChild(gridElem);\n          childGrid.appendTo(gridElem);\n        }\n        detailRow.appendChild(detailCell);\n        if (tr.nextSibling) {\n          tr.parentNode.insertBefore(detailRow, tr.nextSibling);\n        } else {\n          tr.parentNode.appendChild(detailRow);\n        }\n        var rowElems = gObj.getRows();\n        var rowObjs = gObj.getRowsObject();\n        rowElems.splice(rowElems.indexOf(tr) + 1, 0, detailRow);\n        rowObjs.splice(rowObjs.indexOf(rowObj) + 1, 0, row);\n        gObj.trigger(events.detailDataBound, {\n          detailElement: detailCell,\n          data: data,\n          childGrid: childGrid\n        });\n        gObj.notify(events.detailDataBound, {\n          rows: rowObjs\n        });\n      }\n      classList(target, ['e-detailrowexpand'], ['e-detailrowcollapse']);\n      classList(target.firstElementChild, ['e-dtdiagonaldown', 'e-icon-gdownarrow'], ['e-dtdiagonalright', 'e-icon-grightarrow']);\n      rowObj.isExpand = true;\n      if (target.classList.contains('e-lastrowcell') && this.parent.getContent().clientHeight > table.scrollHeight) {\n        removeClass(target.parentElement.querySelectorAll('td'), 'e-lastrowcell');\n        var detailrowIdx = table.querySelector(literals.tbody).getElementsByClassName('e-detailrow').length - 1;\n        addClass(table.querySelector(literals.tbody).getElementsByClassName('e-detailrow')[detailrowIdx].childNodes, ['e-lastrowcell']);\n        this.lastrowcell = true;\n      }\n      this.aria.setExpand(target, true);\n    } else {\n      if (this.isDetailRow(nextRow)) {\n        nextRow.style.display = 'none';\n        gObj.notify(events.detailStateChange, {\n          data: rowObj.data,\n          childGrid: gObj.childGrid,\n          detailElement: target,\n          isExpanded: isExpanded\n        });\n      }\n      classList(target, ['e-detailrowcollapse'], ['e-detailrowexpand']);\n      classList(target.firstElementChild, ['e-dtdiagonalright', 'e-icon-grightarrow'], ['e-dtdiagonaldown', 'e-icon-gdownarrow']);\n      if (parseInt(tr.getAttribute(literals.ariaRowIndex), 10) === lastrowIdx && this.lastrowcell) {\n        addClass(target.parentElement.querySelectorAll('td'), 'e-lastrowcell');\n        this.lastrowcell = false;\n      }\n      rowObj.isExpand = false;\n      this.aria.setExpand(target, false);\n    }\n    if (!isNullOrUndefined(gObj.detailTemplate)) {\n      gObj.updateVisibleExpandCollapseRows();\n      gObj.notify(events.refreshExpandandCollapse, {\n        rows: gObj.getRowsObject()\n      });\n    }\n  };\n  /**\n   * @hidden\n   * @param {IGrid} gObj - specifies the grid Object\n   * @param {Row<Column>}rowObj - specifies the row object\n   * @param {string} printMode - specifies the printmode\n   * @returns {Object} returns the object\n   */\n  DetailRow.prototype.getGridModel = function (gObj, rowObj, printMode) {\n    var gridModel;\n    if (gObj.isPrinting && rowObj.isExpand && gObj.expandedRows && gObj.expandedRows[rowObj.index] && gObj.expandedRows[rowObj.index].gridModel) {\n      gObj.expandedRows[rowObj.index].gridModel.hierarchyPrintMode = gObj.childGrid.hierarchyPrintMode;\n      gridModel = gObj.expandedRows[rowObj.index].gridModel;\n    } else {\n      if (gObj.isPrinting && gObj.childGrid.allowPaging) {\n        gObj.childGrid.allowPaging = printMode === 'CurrentPage';\n      }\n      gridModel = extend({}, {}, gObj.childGrid, true);\n    }\n    return gridModel;\n  };\n  DetailRow.prototype.promiseResolve = function (grid) {\n    var _this = this;\n    return function () {\n      grid.off(events.contentReady, _this.promiseResolve);\n      grid.off(events.onEmpty, _this.promiseResolve);\n      grid.notify(events.hierarchyPrint, {});\n    };\n  };\n  DetailRow.prototype.isDetailRow = function (row) {\n    return row && row.classList.contains('e-detailrow');\n  };\n  DetailRow.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n    if (this.parent.isDestroyed || !gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n    this.parent.off(events.click, this.clickHandler);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.keyPressed, this.keyPressHandler);\n    this.parent.off(events.expandChildGrid, this.expand);\n    this.parent.off(events.columnVisibilityChanged, this.refreshColSpan);\n    this.parent.off(events.destroy, this.destroyChildGrids);\n    this.parent.off(events.destroyChildGrid, this.destroyChildGrids);\n  };\n  DetailRow.prototype.getTDfromIndex = function (index, className) {\n    var tr = this.parent.getDataRows()[index];\n    if (tr && tr.querySelector(className)) {\n      return tr.querySelector(className);\n    }\n    return null;\n  };\n  /**\n   * Expands a detail row with the given target.\n   *\n   * @param  {Element} target - Defines the collapsed element to expand.\n   * @returns {void}\n   */\n  DetailRow.prototype.expand = function (target) {\n    if (!isNaN(target)) {\n      target = this.getTDfromIndex(target, '.e-detailrowcollapse');\n    }\n    if (target && target.classList.contains('e-detailrowcollapse')) {\n      this.toogleExpandcollapse(target);\n    }\n  };\n  /**\n   * Collapses a detail row with the given target.\n   *\n   * @param  {Element} target - Defines the expanded element to collapse.\n   * @returns {void}\n   */\n  DetailRow.prototype.collapse = function (target) {\n    if (!isNaN(target)) {\n      target = this.getTDfromIndex(target, '.e-detailrowexpand');\n    }\n    if (target && target.classList.contains('e-detailrowexpand')) {\n      this.toogleExpandcollapse(target);\n    }\n  };\n  /**\n   * Expands all the detail rows of the Grid.\n   *\n   * @returns {void}\n   */\n  DetailRow.prototype.expandAll = function () {\n    this.expandCollapse(true);\n    this.parent.trigger(events.actionComplete, {\n      requestType: 'expandAllComplete',\n      type: events.actionComplete,\n      moduleObj: this\n    });\n  };\n  /**\n   * Collapses all the detail rows of the Grid.\n   *\n   * @returns {void}\n   */\n  DetailRow.prototype.collapseAll = function () {\n    this.expandCollapse(false);\n    this.parent.trigger(events.actionComplete, {\n      requestType: 'collapseAllComplete',\n      type: events.actionComplete,\n      moduleObj: this\n    });\n  };\n  DetailRow.prototype.expandCollapse = function (isExpand) {\n    var td;\n    var rows = this.parent.getDataRows();\n    for (var i = 0, len = rows.length; i < len; i++) {\n      td = rows[i].querySelector('.e-detailrowcollapse, .e-detailrowexpand');\n      if (isExpand) {\n        this.expand(td);\n      } else {\n        this.collapse(td);\n      }\n    }\n  };\n  DetailRow.prototype.keyPressHandler = function (e) {\n    var gObj = this.parent;\n    switch (e.action) {\n      case 'ctrlDownArrow':\n        this.expandAll();\n        break;\n      case 'ctrlUpArrow':\n        this.collapseAll();\n        break;\n      case 'altUpArrow':\n      case 'altDownArrow':\n        // eslint-disable-next-line no-case-declarations\n        var selected = gObj.allowSelection ? gObj.getSelectedRowIndexes() : [];\n        if (selected.length) {\n          var dataRow = gObj.getDataRows()[selected[selected.length - 1]];\n          var td = dataRow.querySelector('.e-detailrowcollapse, .e-detailrowexpand');\n          if (e.action === 'altDownArrow') {\n            this.expand(td);\n          } else {\n            this.collapse(td);\n          }\n        }\n        break;\n      case 'enter':\n        if (this.parent.isEdit) {\n          return;\n        }\n        // eslint-disable-next-line no-case-declarations\n        var element = this.focus.getFocusedElement();\n        if (!e.target.classList.contains('e-detailrowcollapse') && !e.target.classList.contains('e-detailrowexpand')) {\n          break;\n        }\n        this.toogleExpandcollapse(element);\n        break;\n    }\n  };\n  DetailRow.prototype.refreshColSpan = function () {\n    var detailrows = this.parent.contentModule.getTable().querySelectorAll('tr.e-detailrow');\n    var colSpan = this.parent.getVisibleColumns().length;\n    for (var i = 0; i < detailrows.length; i++) {\n      detailrows[i].querySelector('.e-detailcell').setAttribute('colspan', colSpan + '');\n    }\n  };\n  DetailRow.prototype.destroyChildGrids = function () {\n    var rows = this.parent.getRowsObject();\n    for (var i = 0; i < rows.length; i++) {\n      rows[i].childGrid = null;\n    }\n    for (var i = 0; i < this.childRefs.length; i++) {\n      if (!this.childRefs[i].isDestroyed) {\n        this.childRefs[i].destroy();\n      }\n    }\n    this.childRefs = [];\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} returns the module name\n   * @private\n   */\n  DetailRow.prototype.getModuleName = function () {\n    return 'detailRow';\n  };\n  return DetailRow;\n}();\nexport { DetailRow };","map":{"version":3,"names":["removeClass","addClass","extend","closest","classList","isNullOrUndefined","Grid","parents","getUid","appendChildren","events","AriaService","Row","Cell","CellType","literals","DetailRow","parent","locator","aria","childRefs","isDestroyed","focus","getService","on","click","clickHandler","destroy","keyPressed","keyPressHandler","expandChildGrid","expand","columnVisibilityChanged","refreshColSpan","destroyChildGrids","destroyChildGrid","prototype","e","toogleExpandcollapse","target","gObj","table","getContentTable","lastrowIdx","getCurrentViewRecords","length","childGrid","isExpanded","contains","tr","parentElement","uid","getAttribute","rowObj","getRowObjectFromUID","nextRow","querySelector","tbody","children","rowIndex","data","isDetailRow","style","display","notify","detailStateChange","detailElement","getDetailTemplate","rowId","detailRow","createElement","className","attrs","detailCell","colSpan","getVisibleColumns","allowRowDragAndDrop","setAttribute","toString","row","isDataRow","isExpand","cells","cellType","Indent","isDataCell","visible","parentUid","i","len","groupSettings","columns","appendChild","unshift","parentNode","insertBefore","nextSibling","detailTemplate","isReactCompiler","isReact","detailTemplateID","element","id","renderTemplates","getGridModel","printMode","push","query","clone","parentID","parentPrimaryKeys","getPrimaryKeyFieldNames","parentKeyField","queryString","parentKeyFieldValue","parentRowData","isLegacyTemplate","isPrinting","contentReady","promiseResolve","onEmpty","modules","getInjectedModules","injectedModues","setInjectedModules","gridElem","appendTo","rowElems","getRows","rowObjs","getRowsObject","splice","indexOf","trigger","detailDataBound","rows","firstElementChild","getContent","clientHeight","scrollHeight","querySelectorAll","detailrowIdx","getElementsByClassName","childNodes","lastrowcell","setExpand","parseInt","ariaRowIndex","updateVisibleExpandCollapseRows","refreshExpandandCollapse","gridModel","expandedRows","index","hierarchyPrintMode","allowPaging","grid","_this","off","hierarchyPrint","gridElement","gridHeader","gridContent","getTDfromIndex","getDataRows","isNaN","collapse","expandAll","expandCollapse","actionComplete","requestType","type","moduleObj","collapseAll","td","action","selected","allowSelection","getSelectedRowIndexes","dataRow","isEdit","getFocusedElement","detailrows","contentModule","getTable","getModuleName"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/actions/detail-row.js"],"sourcesContent":["import { removeClass, addClass, extend } from '@syncfusion/ej2-base';\nimport { closest, classList, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Grid } from '../base/grid';\nimport { parents, getUid, appendChildren } from '../base/util';\nimport * as events from '../base/constant';\nimport { AriaService } from '../services/aria-service';\nimport { Row } from '../models/row';\nimport { Cell } from '../models/cell';\nimport { CellType } from '../base/enum';\nimport * as literals from '../base/string-literals';\n/**\n * The `DetailRow` module is used to handle detail template and hierarchy Grid operations.\n */\nvar DetailRow = /** @class */ (function () {\n    /**\n     * Constructor for the Grid detail template module\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     * @param {ServiceLocator} locator - specifes the serviceLocator\n     * @hidden\n     */\n    function DetailRow(parent, locator) {\n        //Internal variables\n        this.aria = new AriaService();\n        this.childRefs = [];\n        this.parent = parent;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.focus = locator.getService('focus');\n        this.parent.on(events.click, this.clickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.keyPressed, this.keyPressHandler, this);\n        this.parent.on(events.expandChildGrid, this.expand, this);\n        this.parent.on(events.columnVisibilityChanged, this.refreshColSpan, this);\n        this.parent.on(events.destroy, this.destroyChildGrids, this);\n        this.parent.on(events.destroyChildGrid, this.destroyChildGrids, this);\n    }\n    DetailRow.prototype.clickHandler = function (e) {\n        this.toogleExpandcollapse(closest(e.target, 'td'));\n    };\n    DetailRow.prototype.toogleExpandcollapse = function (target) {\n        var gObj = this.parent;\n        var table = this.parent.getContentTable();\n        var lastrowIdx = this.parent.getCurrentViewRecords().length - 1;\n        var parent = 'parentDetails';\n        var childGrid;\n        var isExpanded = target && target.classList.contains('e-detailrowcollapse');\n        if (!(target && (target.classList.contains('e-detailrowcollapse') || target.classList.contains('e-detailrowexpand')))) {\n            return;\n        }\n        var tr = target.parentElement;\n        var uid = tr.getAttribute('data-uid');\n        var rowObj = gObj.getRowObjectFromUID(uid);\n        var nextRow = this.parent.getContentTable().querySelector(literals.tbody).children[tr.rowIndex + 1];\n        if (target.classList.contains('e-detailrowcollapse')) {\n            var data = rowObj.data;\n            if (this.isDetailRow(nextRow)) {\n                nextRow.style.display = '';\n                gObj.notify(events.detailStateChange, { data: data,\n                    childGrid: gObj.childGrid, detailElement: target, isExpanded: isExpanded });\n            }\n            else if (gObj.getDetailTemplate() || gObj.childGrid) {\n                var rowId = getUid('grid-row');\n                var detailRow = this.parent.createElement('tr', { className: 'e-detailrow', attrs: { 'data-uid': rowId } });\n                var detailCell = this.parent.createElement('td', { className: 'e-detailcell' });\n                var colSpan = this.parent.getVisibleColumns().length;\n                if (this.parent.allowRowDragAndDrop) {\n                    colSpan++;\n                }\n                detailCell.setAttribute('colspan', colSpan.toString());\n                var row = new Row({\n                    isDataRow: true,\n                    isExpand: true,\n                    uid: rowId,\n                    isDetailRow: true,\n                    cells: [new Cell({ cellType: CellType.Indent }), new Cell({ isDataCell: true, visible: true })]\n                });\n                row.parentUid = rowObj.uid;\n                for (var i = 0, len = gObj.groupSettings.columns.length; i < len; i++) {\n                    detailRow.appendChild(this.parent.createElement('td', { className: 'e-indentcell' }));\n                    row.cells.unshift(new Cell({ cellType: CellType.Indent }));\n                }\n                detailRow.appendChild(this.parent.createElement('td', { className: 'e-detailindentcell' }));\n                detailRow.appendChild(detailCell);\n                tr.parentNode.insertBefore(detailRow, tr.nextSibling);\n                if (gObj.detailTemplate) {\n                    var isReactCompiler = this.parent.isReact && typeof (gObj.detailTemplate) !== 'string';\n                    var detailTemplateID = gObj.element.id + 'detailTemplate';\n                    if (isReactCompiler) {\n                        gObj.getDetailTemplate()(data, gObj, 'detailTemplate', detailTemplateID, null, null, detailCell);\n                        this.parent.renderTemplates();\n                    }\n                    else {\n                        appendChildren(detailCell, gObj.getDetailTemplate()(data, gObj, 'detailTemplate', detailTemplateID));\n                    }\n                }\n                else {\n                    childGrid = new Grid(this.getGridModel(gObj, rowObj, gObj.printMode));\n                    this.childRefs.push(childGrid);\n                    if (childGrid.query) {\n                        childGrid.query = childGrid.query.clone();\n                    }\n                    childGrid[parent] = {\n                        parentID: gObj.element.id,\n                        parentPrimaryKeys: gObj.getPrimaryKeyFieldNames(),\n                        parentKeyField: gObj.childGrid.queryString,\n                        parentKeyFieldValue: data[gObj.childGrid.queryString],\n                        parentRowData: data\n                    };\n                    childGrid.isLegacyTemplate = gObj.isReact\n                        || gObj.isLegacyTemplate;\n                    if (gObj.isPrinting) {\n                        childGrid.isPrinting = true;\n                        childGrid.on(events.contentReady, this.promiseResolve(childGrid), this);\n                        childGrid.on(events.onEmpty, this.promiseResolve(childGrid), this);\n                    }\n                    rowObj.childGrid = childGrid;\n                    var modules = childGrid.getInjectedModules();\n                    var injectedModues = gObj.getInjectedModules();\n                    if (!modules || modules.length !== injectedModues.length) {\n                        childGrid.setInjectedModules(injectedModues);\n                    }\n                    var gridElem = this.parent.createElement('div', {\n                        id: 'child' + parents(tr, 'e-grid').length +\n                            '_grid' + tr.rowIndex + getUid('')\n                    });\n                    detailCell.appendChild(gridElem);\n                    childGrid.appendTo(gridElem);\n                }\n                detailRow.appendChild(detailCell);\n                if (tr.nextSibling) {\n                    tr.parentNode.insertBefore(detailRow, tr.nextSibling);\n                }\n                else {\n                    tr.parentNode.appendChild(detailRow);\n                }\n                var rowElems = gObj.getRows();\n                var rowObjs = gObj.getRowsObject();\n                rowElems.splice(rowElems.indexOf(tr) + 1, 0, detailRow);\n                rowObjs.splice(rowObjs.indexOf(rowObj) + 1, 0, row);\n                gObj.trigger(events.detailDataBound, { detailElement: detailCell, data: data, childGrid: childGrid });\n                gObj.notify(events.detailDataBound, { rows: rowObjs });\n            }\n            classList(target, ['e-detailrowexpand'], ['e-detailrowcollapse']);\n            classList(target.firstElementChild, ['e-dtdiagonaldown', 'e-icon-gdownarrow'], ['e-dtdiagonalright', 'e-icon-grightarrow']);\n            rowObj.isExpand = true;\n            if (target.classList.contains('e-lastrowcell') && this.parent.getContent().clientHeight > table.scrollHeight) {\n                removeClass(target.parentElement.querySelectorAll('td'), 'e-lastrowcell');\n                var detailrowIdx = table.querySelector(literals.tbody).getElementsByClassName('e-detailrow').length - 1;\n                addClass(table.querySelector(literals.tbody).getElementsByClassName('e-detailrow')[detailrowIdx].childNodes, ['e-lastrowcell']);\n                this.lastrowcell = true;\n            }\n            this.aria.setExpand(target, true);\n        }\n        else {\n            if (this.isDetailRow(nextRow)) {\n                nextRow.style.display = 'none';\n                gObj.notify(events.detailStateChange, { data: rowObj.data,\n                    childGrid: gObj.childGrid, detailElement: target, isExpanded: isExpanded });\n            }\n            classList(target, ['e-detailrowcollapse'], ['e-detailrowexpand']);\n            classList(target.firstElementChild, ['e-dtdiagonalright', 'e-icon-grightarrow'], ['e-dtdiagonaldown', 'e-icon-gdownarrow']);\n            if (parseInt(tr.getAttribute(literals.ariaRowIndex), 10) === lastrowIdx && this.lastrowcell) {\n                addClass(target.parentElement.querySelectorAll('td'), 'e-lastrowcell');\n                this.lastrowcell = false;\n            }\n            rowObj.isExpand = false;\n            this.aria.setExpand(target, false);\n        }\n        if (!isNullOrUndefined(gObj.detailTemplate)) {\n            gObj.updateVisibleExpandCollapseRows();\n            gObj.notify(events.refreshExpandandCollapse, { rows: gObj.getRowsObject() });\n        }\n    };\n    /**\n     * @hidden\n     * @param {IGrid} gObj - specifies the grid Object\n     * @param {Row<Column>}rowObj - specifies the row object\n     * @param {string} printMode - specifies the printmode\n     * @returns {Object} returns the object\n     */\n    DetailRow.prototype.getGridModel = function (gObj, rowObj, printMode) {\n        var gridModel;\n        if (gObj.isPrinting && rowObj.isExpand && gObj.expandedRows &&\n            gObj.expandedRows[rowObj.index] && gObj.expandedRows[rowObj.index].gridModel) {\n            gObj.expandedRows[rowObj.index].gridModel.hierarchyPrintMode = gObj.childGrid.hierarchyPrintMode;\n            gridModel = gObj.expandedRows[rowObj.index].gridModel;\n        }\n        else {\n            if (gObj.isPrinting && gObj.childGrid.allowPaging) {\n                gObj.childGrid.allowPaging = printMode === 'CurrentPage';\n            }\n            gridModel = extend({}, {}, gObj.childGrid, true);\n        }\n        return gridModel;\n    };\n    DetailRow.prototype.promiseResolve = function (grid) {\n        var _this = this;\n        return function () {\n            grid.off(events.contentReady, _this.promiseResolve);\n            grid.off(events.onEmpty, _this.promiseResolve);\n            grid.notify(events.hierarchyPrint, {});\n        };\n    };\n    DetailRow.prototype.isDetailRow = function (row) {\n        return row && row.classList.contains('e-detailrow');\n    };\n    DetailRow.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (this.parent.isDestroyed || !gridElement || (!gridElement.querySelector('.' + literals.gridHeader) &&\n            !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.parent.off(events.click, this.clickHandler);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.keyPressed, this.keyPressHandler);\n        this.parent.off(events.expandChildGrid, this.expand);\n        this.parent.off(events.columnVisibilityChanged, this.refreshColSpan);\n        this.parent.off(events.destroy, this.destroyChildGrids);\n        this.parent.off(events.destroyChildGrid, this.destroyChildGrids);\n    };\n    DetailRow.prototype.getTDfromIndex = function (index, className) {\n        var tr = this.parent.getDataRows()[index];\n        if (tr && tr.querySelector(className)) {\n            return tr.querySelector(className);\n        }\n        return null;\n    };\n    /**\n     * Expands a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the collapsed element to expand.\n     * @returns {void}\n     */\n    DetailRow.prototype.expand = function (target) {\n        if (!isNaN(target)) {\n            target = this.getTDfromIndex(target, '.e-detailrowcollapse');\n        }\n        if (target && target.classList.contains('e-detailrowcollapse')) {\n            this.toogleExpandcollapse(target);\n        }\n    };\n    /**\n     * Collapses a detail row with the given target.\n     *\n     * @param  {Element} target - Defines the expanded element to collapse.\n     * @returns {void}\n     */\n    DetailRow.prototype.collapse = function (target) {\n        if (!isNaN(target)) {\n            target = this.getTDfromIndex(target, '.e-detailrowexpand');\n        }\n        if (target && target.classList.contains('e-detailrowexpand')) {\n            this.toogleExpandcollapse(target);\n        }\n    };\n    /**\n     * Expands all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    DetailRow.prototype.expandAll = function () {\n        this.expandCollapse(true);\n        this.parent.trigger(events.actionComplete, { requestType: 'expandAllComplete', type: events.actionComplete, moduleObj: this });\n    };\n    /**\n     * Collapses all the detail rows of the Grid.\n     *\n     * @returns {void}\n     */\n    DetailRow.prototype.collapseAll = function () {\n        this.expandCollapse(false);\n        this.parent.trigger(events.actionComplete, { requestType: 'collapseAllComplete', type: events.actionComplete, moduleObj: this });\n    };\n    DetailRow.prototype.expandCollapse = function (isExpand) {\n        var td;\n        var rows = this.parent.getDataRows();\n        for (var i = 0, len = rows.length; i < len; i++) {\n            td = rows[i].querySelector('.e-detailrowcollapse, .e-detailrowexpand');\n            if (isExpand) {\n                this.expand(td);\n            }\n            else {\n                this.collapse(td);\n            }\n        }\n    };\n    DetailRow.prototype.keyPressHandler = function (e) {\n        var gObj = this.parent;\n        switch (e.action) {\n            case 'ctrlDownArrow':\n                this.expandAll();\n                break;\n            case 'ctrlUpArrow':\n                this.collapseAll();\n                break;\n            case 'altUpArrow':\n            case 'altDownArrow':\n                // eslint-disable-next-line no-case-declarations\n                var selected = gObj.allowSelection ? gObj.getSelectedRowIndexes() : [];\n                if (selected.length) {\n                    var dataRow = gObj.getDataRows()[selected[selected.length - 1]];\n                    var td = dataRow.querySelector('.e-detailrowcollapse, .e-detailrowexpand');\n                    if (e.action === 'altDownArrow') {\n                        this.expand(td);\n                    }\n                    else {\n                        this.collapse(td);\n                    }\n                }\n                break;\n            case 'enter':\n                if (this.parent.isEdit) {\n                    return;\n                }\n                // eslint-disable-next-line no-case-declarations\n                var element = this.focus.getFocusedElement();\n                if (!e.target.classList.contains('e-detailrowcollapse') &&\n                    !e.target.classList.contains('e-detailrowexpand')) {\n                    break;\n                }\n                this.toogleExpandcollapse(element);\n                break;\n        }\n    };\n    DetailRow.prototype.refreshColSpan = function () {\n        var detailrows = this.parent.contentModule.getTable().querySelectorAll('tr.e-detailrow');\n        var colSpan = this.parent.getVisibleColumns().length;\n        for (var i = 0; i < detailrows.length; i++) {\n            detailrows[i].querySelector('.e-detailcell').setAttribute('colspan', colSpan + '');\n        }\n    };\n    DetailRow.prototype.destroyChildGrids = function () {\n        var rows = this.parent.getRowsObject();\n        for (var i = 0; i < rows.length; i++) {\n            rows[i].childGrid = null;\n        }\n        for (var i = 0; i < this.childRefs.length; i++) {\n            if (!this.childRefs[i].isDestroyed) {\n                this.childRefs[i].destroy();\n            }\n        }\n        this.childRefs = [];\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} returns the module name\n     * @private\n     */\n    DetailRow.prototype.getModuleName = function () {\n        return 'detailRow';\n    };\n    return DetailRow;\n}());\nexport { DetailRow };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}