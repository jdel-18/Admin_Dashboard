{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport { remove, addClass, isNullOrUndefined, extend, isUndefined, Browser } from '@syncfusion/ej2-base';\nimport { HeaderRender } from './header-renderer';\nimport { ContentRender } from './content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\nimport { renderMovable, getScrollBarWidth, wrap, addRemoveEventListener } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport * as literals from '../base/string-literals';\n/**\n * Freeze module is used to render grid content with frozen rows and columns\n *\n * @hidden\n */\nvar FreezeContentRender = /** @class */function (_super) {\n  __extends(FreezeContentRender, _super);\n  function FreezeContentRender(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n    _this.isInitialRender = true;\n    _this.widthService = locator.getService('widthService');\n    _this.addEventListener();\n    return _this;\n  }\n  FreezeContentRender.prototype.addEventListener = function () {\n    this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n    this.parent.addEventListener(events.batchAdd, this.batchAdd.bind(this));\n    this.parent.on(events.batchCancel, this.batchAdd.bind(this));\n    this.parent.addEventListener(events.batchDelete, this.batchAdd.bind(this));\n    this.parent.on(events.setHeightToFrozenElement, this.refreshScrollOffset);\n    this.parent.on(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar, this);\n  };\n  FreezeContentRender.prototype.batchAdd = function (args) {\n    var isAdd = args.name !== 'batchCancel' && !(this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top');\n    if (this.parent.height !== 'auto' && (isAdd || args.name === 'batchCancel' || args.name === 'batchDelete')) {\n      this.refreshScrollOffset();\n      var height = this.getTable().offsetHeight;\n      if (args.name === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n        this.parent.getContent().firstChild.scroll(0, height);\n      }\n    }\n  };\n  FreezeContentRender.prototype.setHeightToContent = function (height) {\n    this.getFrozenContent().style.height = height.toString() + 'px';\n    this.getMovableContent().style.height = height.toString() + 'px';\n  };\n  FreezeContentRender.prototype.actionComplete = function (args) {\n    if (this.parent.editSettings.mode !== 'Dialog' && (args.requestType === 'add' || args.requestType === 'cancel' && args.row.classList.contains(literals.addedRow)) && (!this.parent.frozenRows || this.parent.editSettings.newRowPosition === 'Bottom') && this.parent.height !== 'auto') {\n      this.refreshScrollOffset();\n      var height = this.getTable().offsetHeight;\n      if (args.requestType === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n        this.parent.getContent().firstChild.scroll(0, height);\n      }\n    }\n  };\n  FreezeContentRender.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    this.parent.removeEventListener(events.actionComplete, this.actionComplete);\n    this.parent.removeEventListener(events.batchAdd, this.batchAdd);\n    this.parent.off(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar);\n  };\n  FreezeContentRender.prototype.renderPanel = function () {\n    _super.prototype.renderPanel.call(this);\n    var fDiv = this.parent.element.querySelector('.' + literals.frozenContent);\n    var mDiv = this.parent.element.querySelector('.' + literals.movableContent);\n    if (isNullOrUndefined(fDiv)) {\n      fDiv = this.parent.createElement('div', {\n        className: 'e-frozencontent e-frozen-left-content'\n      });\n      mDiv = this.parent.createElement('div', {\n        className: literals.movableContent\n      });\n      this.getPanel().querySelector('.' + literals.content).appendChild(fDiv);\n      this.getPanel().querySelector('.' + literals.content).appendChild(mDiv);\n      mDiv.style.scrollbarWidth = 'none';\n    }\n    this.setFrozenContent(fDiv);\n    this.setMovableContent(mDiv);\n    if (Browser.userAgent.indexOf('Mac OS') > -1 && Browser.info.name === 'safari' && !this.parent.enableVirtualization) {\n      this.getPanel().firstElementChild.classList.add('e-mac-safari');\n    }\n  };\n  FreezeContentRender.prototype.renderFrozenRigthPanel = function () {\n    _super.prototype.renderPanel.call(this);\n  };\n  FreezeContentRender.prototype.renderEmpty = function (tbody) {\n    _super.prototype.renderEmpty.call(this, tbody);\n    this.getMovableContent().querySelector(literals.tbody).innerHTML = '<tr><td></td></tr>';\n    addClass([this.getMovableContent().querySelector(literals.tbody).querySelector('tr')], ['e-emptyrow']);\n    this.getFrozenContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getVisibleFrozenColumns();\n    this.getFrozenContent().style.borderRightWidth = '0px';\n    if (this.parent.frozenRows) {\n      this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).innerHTML = '';\n      this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).innerHTML = '';\n    }\n  };\n  FreezeContentRender.prototype.renderFrozenRightEmpty = function (tbody) {\n    _super.prototype.renderEmpty.call(this, tbody);\n  };\n  FreezeContentRender.prototype.setFrozenContent = function (ele) {\n    this.frozenContent = ele;\n  };\n  /**\n   * @param {Element} ele - specifies the element\n   * @returns {void}\n   * @hidden\n   */\n  FreezeContentRender.prototype.setMovableContent = function (ele) {\n    this.movableContent = ele;\n  };\n  FreezeContentRender.prototype.getFrozenContent = function () {\n    return this.frozenContent;\n  };\n  FreezeContentRender.prototype.getMovableContent = function () {\n    return this.movableContent;\n  };\n  FreezeContentRender.prototype.getModelGenerator = function () {\n    return new FreezeRowModelGenerator(this.parent);\n  };\n  FreezeContentRender.prototype.renderFrozenRightTable = function () {\n    _super.prototype.renderTable.call(this);\n  };\n  FreezeContentRender.prototype.renderTable = function () {\n    var mTbl;\n    if (this.getFrozenContent().querySelector('.' + literals.table) == null) {\n      _super.prototype.renderTable.call(this);\n      this.getFrozenContent().appendChild(this.getTable());\n      mTbl = this.getTable().cloneNode(true);\n      this.getMovableContent().appendChild(mTbl);\n    } else {\n      this.setTable(this.getFrozenContent().querySelector('.' + literals.table));\n      this.setColGroup(this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true));\n      this.getFrozenContent().querySelector('.' + literals.table).appendChild(this.getColGroup());\n      mTbl = this.getMovableContent().querySelector('.' + literals.table);\n      if (this.parent.frozenRows) {\n        this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n      }\n    }\n    if (this.getMovableContent().querySelector(literals.colGroup)) {\n      remove(this.getMovableContent().querySelector(literals.colGroup));\n    }\n    var colGroup = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).cloneNode(true);\n    mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n    var style = this.parent.enableVirtualization ? '' : 'flex';\n    this.getPanel().firstChild.style.display = style;\n    this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-left-scrollbar', this.getScrollbarDisplay());\n  };\n  FreezeContentRender.prototype.getScrollbarDisplay = function () {\n    var frozenDisplay = '';\n    if (this.parent.getFrozenColumns() && !this.parent.getVisibleFrozenColumns() || this.parent.getFrozenLeftColumnsCount() && !this.parent.getVisibleFrozenLeftCount()) {\n      frozenDisplay = 'none';\n    }\n    return frozenDisplay;\n  };\n  FreezeContentRender.prototype.renderHorizontalScrollbar = function (className, display, isRight) {\n    var left = this.parent.createElement('div', {\n      className: className,\n      styles: 'display:' + display\n    });\n    var movable = this.parent.createElement('div', {\n      className: 'e-movablescrollbar'\n    });\n    var child = this.parent.createElement('div', {\n      className: 'e-movablechild'\n    });\n    var scrollbarHeight = getScrollBarWidth().toString();\n    this.setScrollbarHeight(movable, scrollbarHeight);\n    this.setScrollbarHeight(child, scrollbarHeight);\n    movable.appendChild(child);\n    this.appendScrollbar(left, movable, isRight);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  FreezeContentRender.prototype.appendScrollbar = function (frozen, movable, isRight) {\n    var parent = this.parent.createElement('div', {\n      className: 'e-scrollbar',\n      styles: 'display: flex'\n    });\n    parent.appendChild(frozen);\n    parent.appendChild(movable);\n    this.parent.getContent().appendChild(parent);\n  };\n  FreezeContentRender.prototype.setScrollbarHeight = function (ele, height) {\n    ele.style.minHeight = height + 'px';\n    ele.style.maxHeight = height + 'px';\n  };\n  /**\n   * @param {NotifyArgs} args - specifies the NotifyArgs\n   * @param {freezeTable} tableName - specifies the Freeze Table\n   * @returns {void}\n   * @hidden\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  FreezeContentRender.prototype.setIsFrozen = function (args, tableName) {\n    args.isFrozen = !args.isFrozen;\n  };\n  /**\n   * @param {Row<Column>[]} modelData - specifies the modeldata\n   * @param {NotifyArgs} args - specifies the args\n   * @returns {freezeTable} returns the freeze table\n   * @hidden\n   */\n  FreezeContentRender.prototype.setTbody = function (modelData, args) {\n    var tableName;\n    if (isNullOrUndefined(modelData[0].cells[0])) {\n      this.getMovableContent().querySelector(literals.tbody).innerHTML = '';\n    }\n    var cell = modelData[0].cells[0];\n    var idx = cell.index;\n    if (isUndefined(idx) && this.parent.isRowDragable()) {\n      cell = modelData[0].cells[1];\n      idx = cell.index;\n    }\n    if (idx === 0) {\n      this.getPanel().firstChild.style.overflowX = 'hidden';\n      if (this.parent.enableColumnVirtualization) {\n        this.getMovableContent().style.overflowX = 'hidden';\n      }\n    }\n    if (this.parent.enableColumnVirtualization && args.renderMovableContent && args.requestType === 'virtualscroll' && this.getMovableContent().scrollLeft > 0 && args.virtualInfo.columnIndexes[0] !== 0) {\n      idx = this.parent.getFrozenColumns();\n    }\n    if (cell && cell.column) {\n      tableName = cell.column.getFreezeTableName();\n    }\n    this.setIdx(idx);\n    args.tableName = tableName;\n    return tableName;\n  };\n  /**\n   * @param {string} tableName - specifies the table name\n   * @returns {void}\n   * @hidden\n   */\n  FreezeContentRender.prototype.splitRows = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      this.freezeRows = this.rows;\n      this.freezeRowElements = this.rowElements;\n    } else {\n      this.movableRows = this.rows;\n    }\n  };\n  /**\n   * @param {NotifyArgs} args - specifies the notifyargs\n   * @param {string} tableName - specifies the tableName\n   * @returns {void}\n   * @hidden\n   */\n  FreezeContentRender.prototype.renderNextFrozentPart = function (args, tableName) {\n    var isVFTable = this.parent.enableVirtualization;\n    if (tableName === literals.frozenLeft) {\n      if (isVFTable) {\n        args.renderMovableContent = true;\n      }\n      this.refreshContentRows(extend({}, args));\n    }\n  };\n  FreezeContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n    if (this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate)) {\n      tbody = frag;\n    } else {\n      tbody.appendChild(frag);\n    }\n    if (tableName === literals.frozenLeft) {\n      this.isLoaded = false;\n      this.getFrozenContent().querySelector('table').appendChild(tbody);\n    } else {\n      this.refreshTbody(tbody);\n      this.isLoaded = true;\n      this.getMovableContent().querySelector('table').appendChild(tbody);\n      this.refreshHeight();\n      this.refreshScrollOffset();\n      this.widthService.refreshFrozenScrollbar();\n    }\n    if (this.isInitialRender) {\n      this.parent.scrollModule.setHeight();\n      this.isInitialRender = false;\n    }\n  };\n  FreezeContentRender.prototype.refreshScrollOffset = function () {\n    if (this.parent.height !== 'auto') {\n      var height = this.getTable().offsetHeight + 1;\n      this.setHeightToContent(height);\n    }\n    this.parent.notify(events.refreshFrozenHeight, {});\n  };\n  /**\n   * @param {string} tableName - specifies the table name\n   * @returns {HTMLElement} returns the Html element\n   * @hidden\n   */\n  FreezeContentRender.prototype.getFrozenHeader = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      return this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody);\n    } else {\n      return this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n    }\n  };\n  FreezeContentRender.prototype.refreshTbody = function (tbody) {\n    if (tbody.childElementCount < 1) {\n      tbody.appendChild(this.parent.createElement('tr').appendChild(this.parent.createElement('td')));\n    }\n  };\n  FreezeContentRender.prototype.refreshHeight = function () {\n    if (!this.parent.allowTextWrap) {\n      this.parent.notify(events.freezeRender, {\n        case: 'refreshHeight'\n      });\n    }\n    this.getFrozenContent().style.borderRightWidth = '1px';\n  };\n  FreezeContentRender.prototype.setIdx = function (idx) {\n    this.idx = idx;\n  };\n  FreezeContentRender.prototype.getIdx = function () {\n    return this.idx;\n  };\n  /**\n   * @param {freezeTable} tableName - specifies the table name\n   * @returns {Element} returns the element\n   * @hidden\n   */\n  FreezeContentRender.prototype.getTbody = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      return this.getTable().querySelector(literals.tbody);\n    } else {\n      return this.getMovableContent().querySelector(literals.tbody);\n    }\n  };\n  return FreezeContentRender;\n}(ContentRender);\nexport { FreezeContentRender };\nvar FreezeRender = /** @class */function (_super) {\n  __extends(FreezeRender, _super);\n  function FreezeRender(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n    _this.addEventListener();\n    return _this;\n  }\n  FreezeRender.prototype.addEventListener = function () {\n    this.eventHandler = [{\n      event: events.freezeRender,\n      handler: this.refreshFreeze\n    }, {\n      event: events.frozenHeight,\n      handler: this.setFrozenHeight\n    }, {\n      event: events.uiUpdate,\n      handler: this.enableAfterRender\n    }];\n    addRemoveEventListener(this.parent, this.eventHandler, true, this);\n  };\n  FreezeRender.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n    addRemoveEventListener(this.parent, this.eventHandler, false);\n  };\n  FreezeRender.prototype.renderTable = function () {\n    _super.prototype.renderTable.call(this);\n    this.rfshMovable();\n    this.updateColgroup();\n    this.initializeHeaderDrag();\n    this.initializeHeaderDrop();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n  FreezeRender.prototype.renderPanel = function () {\n    var fDiv = this.parent.element.querySelector('.' + literals.frozenHeader);\n    var mDiv = this.parent.element.querySelector('.' + literals.movableHeader);\n    _super.prototype.renderPanel.call(this);\n    if (isNullOrUndefined(fDiv)) {\n      fDiv = this.parent.createElement('div', {\n        className: 'e-frozenheader e-frozen-left-header'\n      });\n      mDiv = this.parent.createElement('div', {\n        className: literals.movableHeader\n      });\n      this.getPanel().querySelector('.' + literals.headerContent).appendChild(fDiv);\n      this.getPanel().querySelector('.' + literals.headerContent).appendChild(mDiv);\n    }\n    this.setFrozenHeader(fDiv);\n    this.setMovableHeader(mDiv);\n  };\n  FreezeRender.prototype.renderFrozenRightPanel = function () {\n    _super.prototype.renderPanel.call(this);\n  };\n  FreezeRender.prototype.renderFrozenRightTable = function () {\n    _super.prototype.renderTable.call(this);\n  };\n  FreezeRender.prototype.refreshUI = function () {\n    var tbody = this.getMovableHeader().querySelector(literals.tbody);\n    remove(this.getMovableHeader().querySelector('table'));\n    _super.prototype.refreshUI.call(this);\n    this.rfshMovable();\n    this.getMovableHeader().querySelector(literals.tbody).innerHTML = tbody.innerHTML;\n    this.updateColgroup();\n    this.widthService.setWidthToColumns();\n    if (!this.parent.enableVirtualization) {\n      this.widthService.setWidthToTable();\n    }\n    if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n      wrap([].slice.call(this.movableHeader.querySelectorAll('tr.e-columnheader')), true);\n    }\n    this.parent.updateDefaultCursor();\n    renderMovable(this.parent.getContentTable().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent);\n    this.widthService.refreshFrozenScrollbar();\n    this.initializeHeaderDrag();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n  FreezeRender.prototype.refreshFrozenLeftUI = function () {\n    _super.prototype.refreshUI.call(this);\n  };\n  FreezeRender.prototype.rfshMovable = function () {\n    this.getFrozenHeader().appendChild(this.getTable());\n    this.getMovableHeader().appendChild(this.createHeader(undefined, 'movable'));\n    this.refreshStackedHdrHgt();\n    this.addMovableFirstCls();\n  };\n  FreezeRender.prototype.addMovableFirstCls = function () {\n    if (this.parent.getVisibleFrozenColumns()) {\n      var movablefirstcell = [].slice.call(this.parent.element.querySelector('.' + literals.movableHeader).querySelector('thead').getElementsByClassName('e-columnheader'));\n      var len = movablefirstcell.length;\n      for (var i = 0; i < len; i++) {\n        var cells = 'cells';\n        var element = movablefirstcell[i][cells][0];\n        if (element) {\n          addClass([element], ['e-movablefirst']);\n          if (movablefirstcell[i][cells][0].rowSpan > 1) {\n            i = i + (movablefirstcell[i][cells][0].rowSpan - 1);\n          }\n        }\n      }\n    }\n  };\n  FreezeRender.prototype.refreshFreeze = function (obj) {\n    if (obj.case === 'filter') {\n      var filterRow = this.getTable().querySelector('.e-filterbar');\n      if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n        this.getMovableHeader().querySelector('thead').appendChild(this.filterRenderer(filterRow, this.parent.getFrozenColumns()));\n        var elements = [].slice.call(this.getMovableHeader().querySelectorAll('thead .e-filterbarcell .e-input'));\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n          var elem = elements_1[_i];\n          var args = {\n            element: elem,\n            floatLabelType: 'Never',\n            properties: {\n              enableRtl: this.parent.enableRtl,\n              showClearButton: true\n            }\n          };\n          Input.bindInitialEvent(args);\n        }\n      }\n    } else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n      this.refreshHeight(obj);\n      this.parent.contentModule.refreshScrollOffset();\n    }\n  };\n  FreezeRender.prototype.refreshHeight = function (obj) {\n    var fRows;\n    var mRows;\n    var fHdr = this.getFrozenHeader();\n    var mHdr = this.getMovableHeader();\n    var cont = this.parent.getContent();\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n    var hdrClassList = this.parent.getHeaderContent().querySelector('.' + literals.headerContent).classList;\n    if (obj.case === 'textwrap') {\n      if (wrapMode !== 'Header' || obj.isModeChg) {\n        fRows = cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr');\n        mRows = cont.querySelector('.' + literals.movableContent).querySelectorAll('tr');\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, true);\n      }\n      if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n        hdrClassList.add('e-wrap');\n      } else {\n        hdrClassList.remove('e-wrap');\n      }\n      if (wrapMode === 'Both' || obj.isModeChg) {\n        fRows = fHdr.querySelectorAll('tr');\n        mRows = mHdr.querySelectorAll('tr');\n      } else {\n        mRows = mHdr.querySelector(wrapMode === 'Content' ? literals.tbody : 'thead').querySelectorAll('tr');\n        fRows = fHdr.querySelector(wrapMode === 'Content' ? literals.tbody : 'thead').querySelectorAll('tr');\n      }\n      if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1);\n      }\n      this.refreshStackedHdrHgt();\n    } else if (obj.case === 'refreshHeight') {\n      this.setWrapHeight(cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr'), cont.querySelector('.' + literals.movableContent).querySelectorAll('tr'), obj.isModeChg);\n      if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n        this.setWrapHeight(fHdr.querySelectorAll('tr'), mHdr.querySelectorAll('tr'), obj.isModeChg);\n      }\n    }\n  };\n  FreezeRender.prototype.enableAfterRender = function (e) {\n    if (e.module === 'scroll') {\n      this.setFrozenHeight();\n    }\n  };\n  FreezeRender.prototype.updateResizeHandler = function () {\n    var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n    for (var i = 0; i < elements.length; i++) {\n      elements[i].style.height = elements[i].parentElement.offsetHeight + 'px';\n    }\n  };\n  FreezeRender.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr) {\n    var fRowHgt;\n    var mRowHgt;\n    var isWrap = this.parent.allowTextWrap;\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n    var tHead = this.parent.getHeaderContent().querySelector('thead');\n    var tBody = this.parent.getHeaderContent().querySelector(literals.tbody);\n    var height = [];\n    var width = [];\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      //separate loop for performance issue\n      if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n        height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n        width[i] = mRows[i].getBoundingClientRect().height;\n      }\n    }\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      if (isModeChg && (wrapMode === 'Header' && isContReset || wrapMode === 'Content' && tHead.contains(fRows[i]) || wrapMode === 'Header' && tBody.contains(fRows[i])) || isStackedHdr) {\n        fRows[i].style.height = null;\n        mRows[i].style.height = null;\n      }\n      fRowHgt = height[i];\n      mRowHgt = width[i];\n      if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && (isWrap && fRowHgt < mRowHgt || !isWrap && fRowHgt < mRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === false)) {\n        fRows[i].style.height = mRowHgt + 'px';\n      }\n      if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && (isWrap && fRowHgt > mRowHgt || !isWrap && fRowHgt > mRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === true)) {\n        mRows[i].style.height = fRowHgt + 'px';\n      }\n    }\n    if (isWrap && this.parent.height !== 'auto') {\n      this.setFrozenHeight();\n    }\n  };\n  FreezeRender.prototype.setFrozenHeight = function (height) {\n    if (height === void 0) {\n      height = getScrollBarWidth();\n    }\n    var movableContentHeight = this.parent.element.querySelector('.' + literals.movableContent).getBoundingClientRect().height;\n    var movableContent = this.parent.element.querySelector('.' + literals.movableContent);\n    var frozenContent = this.parent.element.querySelector('.' + literals.frozenContent);\n    var contentScrollWidth = this.parent.getContent().scrollWidth;\n    var contentTableScrollWidth = this.parent.element.querySelector('.e-movablecontent table').scrollWidth + this.parent.getContentTable().scrollWidth;\n    if (movableContent.scrollWidth - movableContent.clientWidth) {\n      frozenContent.style.height = movableContentHeight - height + 'px';\n      frozenContent.style.borderBottom = '';\n    } else {\n      frozenContent.style.height = movableContentHeight + 'px';\n      if ((frozenContent.scrollHeight <= frozenContent.clientHeight || movableContent.scrollHeight <= movableContent.clientHeight) && contentScrollWidth === contentTableScrollWidth) {\n        this.parent.scrollModule.removePadding();\n      }\n      frozenContent.style.borderBottom = '0px';\n    }\n  };\n  FreezeRender.prototype.refreshStackedHdrHgt = function () {\n    var fRowSpan;\n    var mRowSpan;\n    var fTr = [].slice.call(this.getFrozenHeader().getElementsByClassName('e-columnheader'));\n    var mTr = [].slice.call(this.getMovableHeader().getElementsByClassName('e-columnheader'));\n    for (var i = 0, len = fTr.length; i < len; i++) {\n      fRowSpan = this.getRowSpan(fTr[i]);\n      mRowSpan = this.getRowSpan(mTr[i]);\n      if (fRowSpan.min > 1) {\n        this.updateStackedHdrRowHgt(i, fRowSpan.max, fTr[i], mTr);\n      } else if (mRowSpan.min > 1) {\n        this.updateStackedHdrRowHgt(i, mRowSpan.max, mTr[i], fTr);\n      }\n    }\n    if (this.parent.allowResizing) {\n      this.updateResizeHandler();\n    }\n  };\n  FreezeRender.prototype.getRowSpan = function (row) {\n    var rSpan;\n    var minRowSpan;\n    var maxRowSpan;\n    for (var i = 0, len = row.childElementCount; i < len; i++) {\n      if (i === 0) {\n        minRowSpan = row.children[0].rowSpan;\n      }\n      rSpan = row.children[i].rowSpan;\n      minRowSpan = Math.min(rSpan, minRowSpan);\n      maxRowSpan = Math.max(rSpan, minRowSpan);\n    }\n    return {\n      min: minRowSpan,\n      max: maxRowSpan\n    };\n  };\n  FreezeRender.prototype.updateStackedHdrRowHgt = function (idx, maxRowSpan, row, rows) {\n    var height = 0;\n    for (var i = 0; i < maxRowSpan; i++) {\n      height += rows[idx + i].style.height ? parseInt(rows[idx + i].style.height, 10) : rows[idx + i].offsetHeight;\n    }\n    row.style.height = height + 'px';\n  };\n  FreezeRender.prototype.setFrozenHeader = function (ele) {\n    this.frozenHeader = ele;\n  };\n  /**\n   * @param {Element} ele - specifies the element\n   * @returns {void}\n   * @hidden\n   */\n  FreezeRender.prototype.setMovableHeader = function (ele) {\n    this.movableHeader = ele;\n  };\n  FreezeRender.prototype.getFrozenHeader = function () {\n    return this.frozenHeader;\n  };\n  FreezeRender.prototype.getMovableHeader = function () {\n    return this.movableHeader;\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n  FreezeRender.prototype.updateColgroup = function () {\n    var mTable = this.getMovableHeader().querySelector('table');\n    remove(this.getMovableHeader().querySelector(literals.colGroup));\n    mTable.insertBefore(renderMovable(this.getFrozenHeader().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent), mTable.querySelector('thead'));\n  };\n  FreezeRender.prototype.filterRenderer = function (ele, frozenColumn, total) {\n    var clone = ele.cloneNode(true);\n    clone.innerHTML = '';\n    var end = total ? total : this.parent.getColumns().length;\n    for (var i = frozenColumn; i < end; i++) {\n      clone.appendChild(ele.removeChild(ele.children[frozenColumn]));\n    }\n    return clone;\n  };\n  return FreezeRender;\n}(HeaderRender);\nexport { FreezeRender };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","remove","addClass","isNullOrUndefined","extend","isUndefined","Browser","HeaderRender","ContentRender","FreezeRowModelGenerator","events","renderMovable","getScrollBarWidth","wrap","addRemoveEventListener","Input","literals","FreezeContentRender","_super","parent","locator","_this","call","isInitialRender","widthService","getService","addEventListener","actionComplete","bind","batchAdd","on","batchCancel","batchDelete","setHeightToFrozenElement","refreshScrollOffset","columnVisibilityChanged","refreshFrozenScrollbar","args","isAdd","name","frozenRows","editSettings","newRowPosition","height","getTable","offsetHeight","getContent","firstChild","scroll","setHeightToContent","getFrozenContent","style","toString","getMovableContent","mode","requestType","row","classList","contains","addedRow","removeEventListener","isDestroyed","off","renderPanel","fDiv","element","querySelector","frozenContent","mDiv","movableContent","createElement","className","getPanel","content","appendChild","scrollbarWidth","setFrozenContent","setMovableContent","userAgent","indexOf","info","enableVirtualization","firstElementChild","add","renderFrozenRigthPanel","renderEmpty","tbody","innerHTML","colSpan","getVisibleFrozenColumns","borderRightWidth","getHeaderContent","frozenHeader","movableHeader","renderFrozenRightEmpty","ele","getModelGenerator","renderFrozenRightTable","renderTable","mTbl","table","cloneNode","setTable","setColGroup","gridHeader","colGroup","getColGroup","insertBefore","display","renderHorizontalScrollbar","getScrollbarDisplay","frozenDisplay","getFrozenColumns","getFrozenLeftColumnsCount","getVisibleFrozenLeftCount","isRight","left","styles","movable","child","scrollbarHeight","setScrollbarHeight","appendScrollbar","frozen","minHeight","maxHeight","setIsFrozen","tableName","isFrozen","setTbody","modelData","cells","cell","idx","index","isRowDragable","overflowX","enableColumnVirtualization","renderMovableContent","scrollLeft","virtualInfo","columnIndexes","column","getFreezeTableName","setIdx","splitRows","frozenLeft","freezeRows","rows","freezeRowElements","rowElements","movableRows","renderNextFrozentPart","isVFTable","refreshContentRows","appendContent","frag","isReact","rowTemplate","isLoaded","refreshTbody","refreshHeight","scrollModule","setHeight","notify","refreshFrozenHeight","getFrozenHeader","childElementCount","allowTextWrap","freezeRender","case","getIdx","getTbody","FreezeRender","eventHandler","event","handler","refreshFreeze","frozenHeight","setFrozenHeight","uiUpdate","enableAfterRender","rfshMovable","updateColgroup","initializeHeaderDrag","initializeHeaderDrop","headerRefreshed","headerContent","setFrozenHeader","setMovableHeader","renderFrozenRightPanel","refreshUI","getMovableHeader","setWidthToColumns","setWidthToTable","textWrapSettings","wrapMode","slice","querySelectorAll","updateDefaultCursor","getContentTable","refreshFrozenLeftUI","createHeader","undefined","refreshStackedHdrHgt","addMovableFirstCls","movablefirstcell","getElementsByClassName","len","length","i","rowSpan","obj","filterRow","allowFiltering","filterRenderer","elements","_i","elements_1","elem","floatLabelType","properties","enableRtl","showClearButton","bindInitialEvent","contentModule","fRows","mRows","fHdr","mHdr","cont","hdrClassList","isModeChg","setWrapHeight","colDepth","e","module","updateResizeHandler","parentElement","isContReset","isStackedHdr","fRowHgt","mRowHgt","isWrap","tHead","tBody","width","getBoundingClientRect","allowResizing","resizeModule","isFrozenColResized","movableContentHeight","contentScrollWidth","scrollWidth","contentTableScrollWidth","clientWidth","borderBottom","scrollHeight","clientHeight","removePadding","fRowSpan","mRowSpan","fTr","mTr","getRowSpan","min","updateStackedHdrRowHgt","max","rSpan","minRowSpan","maxRowSpan","children","Math","parseInt","mTable","frozenColumn","total","clone","end","getColumns","removeChild"],"sources":["C:/Users/Josh/Desktop/School-work/admin_dash/Admin_Dashboard/node_modules/@syncfusion/ej2-grids/src/grid/renderer/freeze-renderer.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, addClass, isNullOrUndefined, extend, isUndefined, Browser } from '@syncfusion/ej2-base';\nimport { HeaderRender } from './header-renderer';\nimport { ContentRender } from './content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\nimport { renderMovable, getScrollBarWidth, wrap, addRemoveEventListener } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport * as literals from '../base/string-literals';\n/**\n * Freeze module is used to render grid content with frozen rows and columns\n *\n * @hidden\n */\nvar FreezeContentRender = /** @class */ (function (_super) {\n    __extends(FreezeContentRender, _super);\n    function FreezeContentRender(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.isInitialRender = true;\n        _this.widthService = locator.getService('widthService');\n        _this.addEventListener();\n        return _this;\n    }\n    FreezeContentRender.prototype.addEventListener = function () {\n        this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n        this.parent.addEventListener(events.batchAdd, this.batchAdd.bind(this));\n        this.parent.on(events.batchCancel, this.batchAdd.bind(this));\n        this.parent.addEventListener(events.batchDelete, this.batchAdd.bind(this));\n        this.parent.on(events.setHeightToFrozenElement, this.refreshScrollOffset);\n        this.parent.on(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar, this);\n    };\n    FreezeContentRender.prototype.batchAdd = function (args) {\n        var isAdd = args.name !== 'batchCancel'\n            && !(this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top');\n        if (this.parent.height !== 'auto' && (isAdd || args.name === 'batchCancel' || args.name === 'batchDelete')) {\n            this.refreshScrollOffset();\n            var height = this.getTable().offsetHeight;\n            if (args.name === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n                this.parent.getContent().firstChild.scroll(0, height);\n            }\n        }\n    };\n    FreezeContentRender.prototype.setHeightToContent = function (height) {\n        this.getFrozenContent().style.height = height.toString() + 'px';\n        this.getMovableContent().style.height = height.toString() + 'px';\n    };\n    FreezeContentRender.prototype.actionComplete = function (args) {\n        if (this.parent.editSettings.mode !== 'Dialog' && (args.requestType === 'add' || (args.requestType === 'cancel'\n            && args.row.classList.contains(literals.addedRow)))\n            && (!this.parent.frozenRows || this.parent.editSettings.newRowPosition === 'Bottom') && this.parent.height !== 'auto') {\n            this.refreshScrollOffset();\n            var height = this.getTable().offsetHeight;\n            if (args.requestType === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n                this.parent.getContent().firstChild.scroll(0, height);\n            }\n        }\n    };\n    FreezeContentRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.removeEventListener(events.actionComplete, this.actionComplete);\n        this.parent.removeEventListener(events.batchAdd, this.batchAdd);\n        this.parent.off(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar);\n    };\n    FreezeContentRender.prototype.renderPanel = function () {\n        _super.prototype.renderPanel.call(this);\n        var fDiv = this.parent.element.querySelector('.' + literals.frozenContent);\n        var mDiv = this.parent.element.querySelector('.' + literals.movableContent);\n        if (isNullOrUndefined(fDiv)) {\n            fDiv = this.parent.createElement('div', { className: 'e-frozencontent e-frozen-left-content' });\n            mDiv = this.parent.createElement('div', { className: literals.movableContent });\n            this.getPanel().querySelector('.' + literals.content).appendChild(fDiv);\n            this.getPanel().querySelector('.' + literals.content).appendChild(mDiv);\n            mDiv.style.scrollbarWidth = 'none';\n        }\n        this.setFrozenContent(fDiv);\n        this.setMovableContent(mDiv);\n        if (Browser.userAgent.indexOf('Mac OS') > -1 && Browser.info.name === 'safari' && !this.parent.enableVirtualization) {\n            this.getPanel().firstElementChild.classList.add('e-mac-safari');\n        }\n    };\n    FreezeContentRender.prototype.renderFrozenRigthPanel = function () {\n        _super.prototype.renderPanel.call(this);\n    };\n    FreezeContentRender.prototype.renderEmpty = function (tbody) {\n        _super.prototype.renderEmpty.call(this, tbody);\n        this.getMovableContent().querySelector(literals.tbody).innerHTML = '<tr><td></td></tr>';\n        addClass([this.getMovableContent().querySelector(literals.tbody).querySelector('tr')], ['e-emptyrow']);\n        this.getFrozenContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getVisibleFrozenColumns();\n        this.getFrozenContent().style.borderRightWidth = '0px';\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).innerHTML = '';\n            this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).innerHTML = '';\n        }\n    };\n    FreezeContentRender.prototype.renderFrozenRightEmpty = function (tbody) {\n        _super.prototype.renderEmpty.call(this, tbody);\n    };\n    FreezeContentRender.prototype.setFrozenContent = function (ele) {\n        this.frozenContent = ele;\n    };\n    /**\n     * @param {Element} ele - specifies the element\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.setMovableContent = function (ele) {\n        this.movableContent = ele;\n    };\n    FreezeContentRender.prototype.getFrozenContent = function () {\n        return this.frozenContent;\n    };\n    FreezeContentRender.prototype.getMovableContent = function () {\n        return this.movableContent;\n    };\n    FreezeContentRender.prototype.getModelGenerator = function () {\n        return new FreezeRowModelGenerator(this.parent);\n    };\n    FreezeContentRender.prototype.renderFrozenRightTable = function () {\n        _super.prototype.renderTable.call(this);\n    };\n    FreezeContentRender.prototype.renderTable = function () {\n        var mTbl;\n        if (this.getFrozenContent().querySelector('.' + literals.table) == null) {\n            _super.prototype.renderTable.call(this);\n            this.getFrozenContent().appendChild(this.getTable());\n            mTbl = this.getTable().cloneNode(true);\n            this.getMovableContent().appendChild(mTbl);\n        }\n        else {\n            this.setTable(this.getFrozenContent().querySelector('.' + literals.table));\n            this.setColGroup(this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true));\n            this.getFrozenContent().querySelector('.' + literals.table).appendChild(this.getColGroup());\n            mTbl = this.getMovableContent().querySelector('.' + literals.table);\n            if (this.parent.frozenRows) {\n                this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n            }\n        }\n        if (this.getMovableContent().querySelector(literals.colGroup)) {\n            remove(this.getMovableContent().querySelector(literals.colGroup));\n        }\n        var colGroup = ((this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n        mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n        var style = this.parent.enableVirtualization ? '' : 'flex';\n        this.getPanel().firstChild.style.display = style;\n        this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-left-scrollbar', this.getScrollbarDisplay());\n    };\n    FreezeContentRender.prototype.getScrollbarDisplay = function () {\n        var frozenDisplay = '';\n        if ((this.parent.getFrozenColumns() && !this.parent.getVisibleFrozenColumns())\n            || (this.parent.getFrozenLeftColumnsCount() && !this.parent.getVisibleFrozenLeftCount())) {\n            frozenDisplay = 'none';\n        }\n        return frozenDisplay;\n    };\n    FreezeContentRender.prototype.renderHorizontalScrollbar = function (className, display, isRight) {\n        var left = this.parent.createElement('div', { className: className, styles: 'display:' + display });\n        var movable = this.parent.createElement('div', { className: 'e-movablescrollbar' });\n        var child = this.parent.createElement('div', { className: 'e-movablechild' });\n        var scrollbarHeight = getScrollBarWidth().toString();\n        this.setScrollbarHeight(movable, scrollbarHeight);\n        this.setScrollbarHeight(child, scrollbarHeight);\n        movable.appendChild(child);\n        this.appendScrollbar(left, movable, isRight);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FreezeContentRender.prototype.appendScrollbar = function (frozen, movable, isRight) {\n        var parent = this.parent.createElement('div', { className: 'e-scrollbar', styles: 'display: flex' });\n        parent.appendChild(frozen);\n        parent.appendChild(movable);\n        this.parent.getContent().appendChild(parent);\n    };\n    FreezeContentRender.prototype.setScrollbarHeight = function (ele, height) {\n        ele.style.minHeight = height + 'px';\n        ele.style.maxHeight = height + 'px';\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the NotifyArgs\n     * @param {freezeTable} tableName - specifies the Freeze Table\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FreezeContentRender.prototype.setIsFrozen = function (args, tableName) {\n        args.isFrozen = !args.isFrozen;\n    };\n    /**\n     * @param {Row<Column>[]} modelData - specifies the modeldata\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {freezeTable} returns the freeze table\n     * @hidden\n     */\n    FreezeContentRender.prototype.setTbody = function (modelData, args) {\n        var tableName;\n        if (isNullOrUndefined(modelData[0].cells[0])) {\n            this.getMovableContent().querySelector(literals.tbody).innerHTML = '';\n        }\n        var cell = modelData[0].cells[0];\n        var idx = cell.index;\n        if (isUndefined(idx) && this.parent.isRowDragable()) {\n            cell = modelData[0].cells[1];\n            idx = cell.index;\n        }\n        if (idx === 0) {\n            this.getPanel().firstChild.style.overflowX = 'hidden';\n            if (this.parent.enableColumnVirtualization) {\n                this.getMovableContent().style.overflowX = 'hidden';\n            }\n        }\n        if (this.parent.enableColumnVirtualization && args.renderMovableContent\n            && args.requestType === 'virtualscroll' && this.getMovableContent().scrollLeft > 0 && args.virtualInfo.columnIndexes[0] !== 0) {\n            idx = this.parent.getFrozenColumns();\n        }\n        if (cell && cell.column) {\n            tableName = cell.column.getFreezeTableName();\n        }\n        this.setIdx(idx);\n        args.tableName = tableName;\n        return tableName;\n    };\n    /**\n     * @param {string} tableName - specifies the table name\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.splitRows = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            this.freezeRows = this.rows;\n            this.freezeRowElements = this.rowElements;\n        }\n        else {\n            this.movableRows = this.rows;\n        }\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the notifyargs\n     * @param {string} tableName - specifies the tableName\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.renderNextFrozentPart = function (args, tableName) {\n        var isVFTable = this.parent.enableVirtualization;\n        if (tableName === literals.frozenLeft) {\n            if (isVFTable) {\n                args.renderMovableContent = true;\n            }\n            this.refreshContentRows(extend({}, args));\n        }\n    };\n    FreezeContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n        if (this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate)) {\n            tbody = frag;\n        }\n        else {\n            tbody.appendChild(frag);\n        }\n        if (tableName === literals.frozenLeft) {\n            this.isLoaded = false;\n            this.getFrozenContent().querySelector('table').appendChild(tbody);\n        }\n        else {\n            this.refreshTbody(tbody);\n            this.isLoaded = true;\n            this.getMovableContent().querySelector('table').appendChild(tbody);\n            this.refreshHeight();\n            this.refreshScrollOffset();\n            this.widthService.refreshFrozenScrollbar();\n        }\n        if (this.isInitialRender) {\n            this.parent.scrollModule.setHeight();\n            this.isInitialRender = false;\n        }\n    };\n    FreezeContentRender.prototype.refreshScrollOffset = function () {\n        if (this.parent.height !== 'auto') {\n            var height = this.getTable().offsetHeight + 1;\n            this.setHeightToContent(height);\n        }\n        this.parent.notify(events.refreshFrozenHeight, {});\n    };\n    /**\n     * @param {string} tableName - specifies the table name\n     * @returns {HTMLElement} returns the Html element\n     * @hidden\n     */\n    FreezeContentRender.prototype.getFrozenHeader = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            return this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody);\n        }\n        else {\n            return this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n        }\n    };\n    FreezeContentRender.prototype.refreshTbody = function (tbody) {\n        if (tbody.childElementCount < 1) {\n            tbody.appendChild(this.parent.createElement('tr').appendChild(this.parent.createElement('td')));\n        }\n    };\n    FreezeContentRender.prototype.refreshHeight = function () {\n        if (!this.parent.allowTextWrap) {\n            this.parent.notify(events.freezeRender, { case: 'refreshHeight' });\n        }\n        this.getFrozenContent().style.borderRightWidth = '1px';\n    };\n    FreezeContentRender.prototype.setIdx = function (idx) {\n        this.idx = idx;\n    };\n    FreezeContentRender.prototype.getIdx = function () {\n        return this.idx;\n    };\n    /**\n     * @param {freezeTable} tableName - specifies the table name\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    FreezeContentRender.prototype.getTbody = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            return this.getTable().querySelector(literals.tbody);\n        }\n        else {\n            return this.getMovableContent().querySelector(literals.tbody);\n        }\n    };\n    return FreezeContentRender;\n}(ContentRender));\nexport { FreezeContentRender };\nvar FreezeRender = /** @class */ (function (_super) {\n    __extends(FreezeRender, _super);\n    function FreezeRender(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    FreezeRender.prototype.addEventListener = function () {\n        this.eventHandler = [{ event: events.freezeRender, handler: this.refreshFreeze },\n            { event: events.frozenHeight, handler: this.setFrozenHeight },\n            { event: events.uiUpdate, handler: this.enableAfterRender }];\n        addRemoveEventListener(this.parent, this.eventHandler, true, this);\n    };\n    FreezeRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.eventHandler, false);\n    };\n    FreezeRender.prototype.renderTable = function () {\n        _super.prototype.renderTable.call(this);\n        this.rfshMovable();\n        this.updateColgroup();\n        this.initializeHeaderDrag();\n        this.initializeHeaderDrop();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    FreezeRender.prototype.renderPanel = function () {\n        var fDiv = this.parent.element.querySelector('.' + literals.frozenHeader);\n        var mDiv = this.parent.element.querySelector('.' + literals.movableHeader);\n        _super.prototype.renderPanel.call(this);\n        if (isNullOrUndefined(fDiv)) {\n            fDiv = this.parent.createElement('div', { className: 'e-frozenheader e-frozen-left-header' });\n            mDiv = this.parent.createElement('div', { className: literals.movableHeader });\n            this.getPanel().querySelector('.' + literals.headerContent).appendChild(fDiv);\n            this.getPanel().querySelector('.' + literals.headerContent).appendChild(mDiv);\n        }\n        this.setFrozenHeader(fDiv);\n        this.setMovableHeader(mDiv);\n    };\n    FreezeRender.prototype.renderFrozenRightPanel = function () {\n        _super.prototype.renderPanel.call(this);\n    };\n    FreezeRender.prototype.renderFrozenRightTable = function () {\n        _super.prototype.renderTable.call(this);\n    };\n    FreezeRender.prototype.refreshUI = function () {\n        var tbody = this.getMovableHeader().querySelector(literals.tbody);\n        remove(this.getMovableHeader().querySelector('table'));\n        _super.prototype.refreshUI.call(this);\n        this.rfshMovable();\n        this.getMovableHeader().querySelector(literals.tbody).innerHTML = tbody.innerHTML;\n        this.updateColgroup();\n        this.widthService.setWidthToColumns();\n        if (!this.parent.enableVirtualization) {\n            this.widthService.setWidthToTable();\n        }\n        if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n            wrap([].slice.call(this.movableHeader.querySelectorAll('tr.e-columnheader')), true);\n        }\n        this.parent.updateDefaultCursor();\n        renderMovable(this.parent.getContentTable().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent);\n        this.widthService.refreshFrozenScrollbar();\n        this.initializeHeaderDrag();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    FreezeRender.prototype.refreshFrozenLeftUI = function () {\n        _super.prototype.refreshUI.call(this);\n    };\n    FreezeRender.prototype.rfshMovable = function () {\n        this.getFrozenHeader().appendChild(this.getTable());\n        this.getMovableHeader().appendChild(this.createHeader(undefined, 'movable'));\n        this.refreshStackedHdrHgt();\n        this.addMovableFirstCls();\n    };\n    FreezeRender.prototype.addMovableFirstCls = function () {\n        if (this.parent.getVisibleFrozenColumns()) {\n            var movablefirstcell = [].slice.call(this.parent.element.querySelector('.' + literals.movableHeader).querySelector('thead').getElementsByClassName('e-columnheader'));\n            var len = movablefirstcell.length;\n            for (var i = 0; i < len; i++) {\n                var cells = 'cells';\n                var element = movablefirstcell[i][cells][0];\n                if (element) {\n                    addClass([element], ['e-movablefirst']);\n                    if (movablefirstcell[i][cells][0].rowSpan > 1) {\n                        i = i + (movablefirstcell[i][cells][0].rowSpan - 1);\n                    }\n                }\n            }\n        }\n    };\n    FreezeRender.prototype.refreshFreeze = function (obj) {\n        if (obj.case === 'filter') {\n            var filterRow = this.getTable().querySelector('.e-filterbar');\n            if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n                this.getMovableHeader().querySelector('thead')\n                    .appendChild(this.filterRenderer(filterRow, this.parent.getFrozenColumns()));\n                var elements = [].slice.call(this.getMovableHeader().\n                    querySelectorAll('thead .e-filterbarcell .e-input'));\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var elem = elements_1[_i];\n                    var args = {\n                        element: elem, floatLabelType: 'Never',\n                        properties: {\n                            enableRtl: this.parent.enableRtl, showClearButton: true\n                        }\n                    };\n                    Input.bindInitialEvent(args);\n                }\n            }\n        }\n        else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n            this.refreshHeight(obj);\n            this.parent.contentModule.refreshScrollOffset();\n        }\n    };\n    FreezeRender.prototype.refreshHeight = function (obj) {\n        var fRows;\n        var mRows;\n        var fHdr = this.getFrozenHeader();\n        var mHdr = this.getMovableHeader();\n        var cont = this.parent.getContent();\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        var hdrClassList = this.parent.getHeaderContent().querySelector('.' + literals.headerContent).classList;\n        if (obj.case === 'textwrap') {\n            if (wrapMode !== 'Header' || obj.isModeChg) {\n                fRows = cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr');\n                mRows = cont.querySelector('.' + literals.movableContent).querySelectorAll('tr');\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, true);\n            }\n            if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n                hdrClassList.add('e-wrap');\n            }\n            else {\n                hdrClassList.remove('e-wrap');\n            }\n            if (wrapMode === 'Both' || obj.isModeChg) {\n                fRows = fHdr.querySelectorAll('tr');\n                mRows = mHdr.querySelectorAll('tr');\n            }\n            else {\n                mRows = mHdr.querySelector(wrapMode === 'Content' ?\n                    literals.tbody : 'thead').querySelectorAll('tr');\n                fRows = fHdr.querySelector(wrapMode === 'Content' ?\n                    literals.tbody : 'thead').querySelectorAll('tr');\n            }\n            if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1);\n            }\n            this.refreshStackedHdrHgt();\n        }\n        else if (obj.case === 'refreshHeight') {\n            this.setWrapHeight(cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr'), cont.querySelector('.' + literals.movableContent).querySelectorAll('tr'), obj.isModeChg);\n            if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n                this.setWrapHeight(fHdr.querySelectorAll('tr'), mHdr.querySelectorAll('tr'), obj.isModeChg);\n            }\n        }\n    };\n    FreezeRender.prototype.enableAfterRender = function (e) {\n        if (e.module === 'scroll') {\n            this.setFrozenHeight();\n        }\n    };\n    FreezeRender.prototype.updateResizeHandler = function () {\n        var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].style.height = elements[i].parentElement.offsetHeight + 'px';\n        }\n    };\n    FreezeRender.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr) {\n        var fRowHgt;\n        var mRowHgt;\n        var isWrap = this.parent.allowTextWrap;\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        var tHead = this.parent.getHeaderContent().querySelector('thead');\n        var tBody = this.parent.getHeaderContent().querySelector(literals.tbody);\n        var height = [];\n        var width = [];\n        for (var i = 0, len = fRows.length; i < len; i++) { //separate loop for performance issue\n            if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n                height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n                width[i] = mRows[i].getBoundingClientRect().height;\n            }\n        }\n        for (var i = 0, len = fRows.length; i < len; i++) {\n            if (isModeChg && ((wrapMode === 'Header' && isContReset) || ((wrapMode === 'Content' && tHead.contains(fRows[i]))\n                || (wrapMode === 'Header' && tBody.contains(fRows[i])))) || isStackedHdr) {\n                fRows[i].style.height = null;\n                mRows[i].style.height = null;\n            }\n            fRowHgt = height[i];\n            mRowHgt = width[i];\n            if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && ((isWrap && fRowHgt < mRowHgt) ||\n                (!isWrap && fRowHgt < mRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === false))) {\n                fRows[i].style.height = mRowHgt + 'px';\n            }\n            if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && ((isWrap && fRowHgt > mRowHgt) ||\n                (!isWrap && fRowHgt > mRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === true))) {\n                mRows[i].style.height = fRowHgt + 'px';\n            }\n        }\n        if (isWrap && this.parent.height !== 'auto') {\n            this.setFrozenHeight();\n        }\n    };\n    FreezeRender.prototype.setFrozenHeight = function (height) {\n        if (height === void 0) { height = getScrollBarWidth(); }\n        var movableContentHeight = this.parent.element.querySelector('.' + literals.movableContent).getBoundingClientRect().height;\n        var movableContent = this.parent.element.querySelector('.' + literals.movableContent);\n        var frozenContent = this.parent.element.querySelector('.' + literals.frozenContent);\n        var contentScrollWidth = this.parent.getContent().scrollWidth;\n        var contentTableScrollWidth = this.parent.element.querySelector('.e-movablecontent table').scrollWidth +\n            this.parent.getContentTable().scrollWidth;\n        if (movableContent.scrollWidth - movableContent.clientWidth) {\n            frozenContent.style.height = movableContentHeight -\n                height + 'px';\n            frozenContent.style.borderBottom = '';\n        }\n        else {\n            frozenContent.style.height = movableContentHeight + 'px';\n            if (((frozenContent.scrollHeight <= frozenContent.clientHeight) ||\n                (movableContent.scrollHeight <= movableContent.clientHeight))\n                && contentScrollWidth === contentTableScrollWidth) {\n                this.parent.scrollModule.removePadding();\n            }\n            frozenContent.style.borderBottom = '0px';\n        }\n    };\n    FreezeRender.prototype.refreshStackedHdrHgt = function () {\n        var fRowSpan;\n        var mRowSpan;\n        var fTr = [].slice.call(this.getFrozenHeader().getElementsByClassName('e-columnheader'));\n        var mTr = [].slice.call(this.getMovableHeader().getElementsByClassName('e-columnheader'));\n        for (var i = 0, len = fTr.length; i < len; i++) {\n            fRowSpan = this.getRowSpan(fTr[i]);\n            mRowSpan = this.getRowSpan(mTr[i]);\n            if (fRowSpan.min > 1) {\n                this.updateStackedHdrRowHgt(i, fRowSpan.max, fTr[i], mTr);\n            }\n            else if (mRowSpan.min > 1) {\n                this.updateStackedHdrRowHgt(i, mRowSpan.max, mTr[i], fTr);\n            }\n        }\n        if (this.parent.allowResizing) {\n            this.updateResizeHandler();\n        }\n    };\n    FreezeRender.prototype.getRowSpan = function (row) {\n        var rSpan;\n        var minRowSpan;\n        var maxRowSpan;\n        for (var i = 0, len = row.childElementCount; i < len; i++) {\n            if (i === 0) {\n                minRowSpan = row.children[0].rowSpan;\n            }\n            rSpan = row.children[i].rowSpan;\n            minRowSpan = Math.min(rSpan, minRowSpan);\n            maxRowSpan = Math.max(rSpan, minRowSpan);\n        }\n        return { min: minRowSpan, max: maxRowSpan };\n    };\n    FreezeRender.prototype.updateStackedHdrRowHgt = function (idx, maxRowSpan, row, rows) {\n        var height = 0;\n        for (var i = 0; i < maxRowSpan; i++) {\n            height += rows[idx + i].style.height ?\n                parseInt(rows[idx + i].style.height, 10) : rows[idx + i].offsetHeight;\n        }\n        row.style.height = height + 'px';\n    };\n    FreezeRender.prototype.setFrozenHeader = function (ele) {\n        this.frozenHeader = ele;\n    };\n    /**\n     * @param {Element} ele - specifies the element\n     * @returns {void}\n     * @hidden\n     */\n    FreezeRender.prototype.setMovableHeader = function (ele) {\n        this.movableHeader = ele;\n    };\n    FreezeRender.prototype.getFrozenHeader = function () {\n        return this.frozenHeader;\n    };\n    FreezeRender.prototype.getMovableHeader = function () {\n        return this.movableHeader;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    FreezeRender.prototype.updateColgroup = function () {\n        var mTable = this.getMovableHeader().querySelector('table');\n        remove(this.getMovableHeader().querySelector(literals.colGroup));\n        mTable.insertBefore(renderMovable(this.getFrozenHeader().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent), mTable.querySelector('thead'));\n    };\n    FreezeRender.prototype.filterRenderer = function (ele, frozenColumn, total) {\n        var clone = ele.cloneNode(true);\n        clone.innerHTML = '';\n        var end = total ? total : this.parent.getColumns().length;\n        for (var i = frozenColumn; i < end; i++) {\n            clone.appendChild(ele.removeChild(ele.children[frozenColumn]));\n        }\n        return clone;\n    };\n    return FreezeRender;\n}(HeaderRender));\nexport { FreezeRender };\n"],"mappings":"AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIA,CAAC,CAACM,cAAc,CAACD,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IAC9E,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnBF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASO,EAAEA,CAAA,EAAG;MAAE,IAAI,CAACC,WAAW,GAAGT,CAAC;IAAE;IACtCA,CAAC,CAACU,SAAS,GAAGT,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACS,MAAM,CAACV,CAAC,CAAC,IAAIO,EAAE,CAACE,SAAS,GAAGT,CAAC,CAACS,SAAS,EAAE,IAAIF,EAAE,CAAC,CAAC,CAAC;EACxF,CAAC;AACL,CAAC,CAAE,CAAC;AACJ,SAASI,MAAM,EAAEC,QAAQ,EAAEC,iBAAiB,EAAEC,MAAM,EAAEC,WAAW,EAAEC,OAAO,QAAQ,sBAAsB;AACxG,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,uBAAuB,QAAQ,wCAAwC;AAChF,OAAO,KAAKC,MAAM,MAAM,kBAAkB;AAC1C,SAASC,aAAa,EAAEC,iBAAiB,EAAEC,IAAI,EAAEC,sBAAsB,QAAQ,cAAc;AAC7F,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,OAAO,KAAKC,QAAQ,MAAM,yBAAyB;AACnD;AACA;AACA;AACA;AACA;AACA,IAAIC,mBAAmB,GAAG,aAAe,UAAUC,MAAM,EAAE;EACvD/B,SAAS,CAAC8B,mBAAmB,EAAEC,MAAM,CAAC;EACtC,SAASD,mBAAmBA,CAACE,MAAM,EAAEC,OAAO,EAAE;IAC1C,IAAIC,KAAK,GAAGH,MAAM,CAACI,IAAI,CAAC,IAAI,EAAEH,MAAM,EAAEC,OAAO,CAAC,IAAI,IAAI;IACtDC,KAAK,CAACE,eAAe,GAAG,IAAI;IAC5BF,KAAK,CAACG,YAAY,GAAGJ,OAAO,CAACK,UAAU,CAAC,cAAc,CAAC;IACvDJ,KAAK,CAACK,gBAAgB,CAAC,CAAC;IACxB,OAAOL,KAAK;EAChB;EACAJ,mBAAmB,CAAClB,SAAS,CAAC2B,gBAAgB,GAAG,YAAY;IACzD,IAAI,CAACP,MAAM,CAACO,gBAAgB,CAAChB,MAAM,CAACiB,cAAc,EAAE,IAAI,CAACA,cAAc,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACnF,IAAI,CAACT,MAAM,CAACO,gBAAgB,CAAChB,MAAM,CAACmB,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IACvE,IAAI,CAACT,MAAM,CAACW,EAAE,CAACpB,MAAM,CAACqB,WAAW,EAAE,IAAI,CAACF,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5D,IAAI,CAACT,MAAM,CAACO,gBAAgB,CAAChB,MAAM,CAACsB,WAAW,EAAE,IAAI,CAACH,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1E,IAAI,CAACT,MAAM,CAACW,EAAE,CAACpB,MAAM,CAACuB,wBAAwB,EAAE,IAAI,CAACC,mBAAmB,CAAC;IACzE,IAAI,CAACf,MAAM,CAACW,EAAE,CAACpB,MAAM,CAACyB,uBAAuB,EAAE,IAAI,CAACX,YAAY,CAACY,sBAAsB,EAAE,IAAI,CAAC;EAClG,CAAC;EACDnB,mBAAmB,CAAClB,SAAS,CAAC8B,QAAQ,GAAG,UAAUQ,IAAI,EAAE;IACrD,IAAIC,KAAK,GAAGD,IAAI,CAACE,IAAI,KAAK,aAAa,IAChC,EAAE,IAAI,CAACpB,MAAM,CAACqB,UAAU,IAAI,IAAI,CAACrB,MAAM,CAACsB,YAAY,CAACC,cAAc,KAAK,KAAK,CAAC;IACrF,IAAI,IAAI,CAACvB,MAAM,CAACwB,MAAM,KAAK,MAAM,KAAKL,KAAK,IAAID,IAAI,CAACE,IAAI,KAAK,aAAa,IAAIF,IAAI,CAACE,IAAI,KAAK,aAAa,CAAC,EAAE;MACxG,IAAI,CAACL,mBAAmB,CAAC,CAAC;MAC1B,IAAIS,MAAM,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,YAAY;MACzC,IAAIR,IAAI,CAACE,IAAI,KAAK,KAAK,IAAI,IAAI,CAACpB,MAAM,CAACsB,YAAY,CAACC,cAAc,KAAK,QAAQ,EAAE;QAC7E,IAAI,CAACvB,MAAM,CAAC2B,UAAU,CAAC,CAAC,CAACC,UAAU,CAACC,MAAM,CAAC,CAAC,EAAEL,MAAM,CAAC;MACzD;IACJ;EACJ,CAAC;EACD1B,mBAAmB,CAAClB,SAAS,CAACkD,kBAAkB,GAAG,UAAUN,MAAM,EAAE;IACjE,IAAI,CAACO,gBAAgB,CAAC,CAAC,CAACC,KAAK,CAACR,MAAM,GAAGA,MAAM,CAACS,QAAQ,CAAC,CAAC,GAAG,IAAI;IAC/D,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAACF,KAAK,CAACR,MAAM,GAAGA,MAAM,CAACS,QAAQ,CAAC,CAAC,GAAG,IAAI;EACpE,CAAC;EACDnC,mBAAmB,CAAClB,SAAS,CAAC4B,cAAc,GAAG,UAAUU,IAAI,EAAE;IAC3D,IAAI,IAAI,CAAClB,MAAM,CAACsB,YAAY,CAACa,IAAI,KAAK,QAAQ,KAAKjB,IAAI,CAACkB,WAAW,KAAK,KAAK,IAAKlB,IAAI,CAACkB,WAAW,KAAK,QAAQ,IACxGlB,IAAI,CAACmB,GAAG,CAACC,SAAS,CAACC,QAAQ,CAAC1C,QAAQ,CAAC2C,QAAQ,CAAE,CAAC,KAC/C,CAAC,IAAI,CAACxC,MAAM,CAACqB,UAAU,IAAI,IAAI,CAACrB,MAAM,CAACsB,YAAY,CAACC,cAAc,KAAK,QAAQ,CAAC,IAAI,IAAI,CAACvB,MAAM,CAACwB,MAAM,KAAK,MAAM,EAAE;MACvH,IAAI,CAACT,mBAAmB,CAAC,CAAC;MAC1B,IAAIS,MAAM,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,YAAY;MACzC,IAAIR,IAAI,CAACkB,WAAW,KAAK,KAAK,IAAI,IAAI,CAACpC,MAAM,CAACsB,YAAY,CAACC,cAAc,KAAK,QAAQ,EAAE;QACpF,IAAI,CAACvB,MAAM,CAAC2B,UAAU,CAAC,CAAC,CAACC,UAAU,CAACC,MAAM,CAAC,CAAC,EAAEL,MAAM,CAAC;MACzD;IACJ;EACJ,CAAC;EACD1B,mBAAmB,CAAClB,SAAS,CAAC6D,mBAAmB,GAAG,YAAY;IAC5D,IAAI,IAAI,CAACzC,MAAM,CAAC0C,WAAW,EAAE;MACzB;IACJ;IACA,IAAI,CAAC1C,MAAM,CAACyC,mBAAmB,CAAClD,MAAM,CAACiB,cAAc,EAAE,IAAI,CAACA,cAAc,CAAC;IAC3E,IAAI,CAACR,MAAM,CAACyC,mBAAmB,CAAClD,MAAM,CAACmB,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC;IAC/D,IAAI,CAACV,MAAM,CAAC2C,GAAG,CAACpD,MAAM,CAACyB,uBAAuB,EAAE,IAAI,CAACX,YAAY,CAACY,sBAAsB,CAAC;EAC7F,CAAC;EACDnB,mBAAmB,CAAClB,SAAS,CAACgE,WAAW,GAAG,YAAY;IACpD7C,MAAM,CAACnB,SAAS,CAACgE,WAAW,CAACzC,IAAI,CAAC,IAAI,CAAC;IACvC,IAAI0C,IAAI,GAAG,IAAI,CAAC7C,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACmD,aAAa,CAAC;IAC1E,IAAIC,IAAI,GAAG,IAAI,CAACjD,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACqD,cAAc,CAAC;IAC3E,IAAIlE,iBAAiB,CAAC6D,IAAI,CAAC,EAAE;MACzBA,IAAI,GAAG,IAAI,CAAC7C,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAwC,CAAC,CAAC;MAC/FH,IAAI,GAAG,IAAI,CAACjD,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;QAAEC,SAAS,EAAEvD,QAAQ,CAACqD;MAAe,CAAC,CAAC;MAC/E,IAAI,CAACG,QAAQ,CAAC,CAAC,CAACN,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACyD,OAAO,CAAC,CAACC,WAAW,CAACV,IAAI,CAAC;MACvE,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAACN,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACyD,OAAO,CAAC,CAACC,WAAW,CAACN,IAAI,CAAC;MACvEA,IAAI,CAACjB,KAAK,CAACwB,cAAc,GAAG,MAAM;IACtC;IACA,IAAI,CAACC,gBAAgB,CAACZ,IAAI,CAAC;IAC3B,IAAI,CAACa,iBAAiB,CAACT,IAAI,CAAC;IAC5B,IAAI9D,OAAO,CAACwE,SAAS,CAACC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAIzE,OAAO,CAAC0E,IAAI,CAACzC,IAAI,KAAK,QAAQ,IAAI,CAAC,IAAI,CAACpB,MAAM,CAAC8D,oBAAoB,EAAE;MACjH,IAAI,CAACT,QAAQ,CAAC,CAAC,CAACU,iBAAiB,CAACzB,SAAS,CAAC0B,GAAG,CAAC,cAAc,CAAC;IACnE;EACJ,CAAC;EACDlE,mBAAmB,CAAClB,SAAS,CAACqF,sBAAsB,GAAG,YAAY;IAC/DlE,MAAM,CAACnB,SAAS,CAACgE,WAAW,CAACzC,IAAI,CAAC,IAAI,CAAC;EAC3C,CAAC;EACDL,mBAAmB,CAAClB,SAAS,CAACsF,WAAW,GAAG,UAAUC,KAAK,EAAE;IACzDpE,MAAM,CAACnB,SAAS,CAACsF,WAAW,CAAC/D,IAAI,CAAC,IAAI,EAAEgE,KAAK,CAAC;IAC9C,IAAI,CAACjC,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACC,SAAS,GAAG,oBAAoB;IACvFrF,QAAQ,CAAC,CAAC,IAAI,CAACmD,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACpB,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;IACtG,IAAI,CAAChB,gBAAgB,CAAC,CAAC,CAACgB,aAAa,CAAC,aAAa,CAAC,CAACA,aAAa,CAAC,IAAI,CAAC,CAACsB,OAAO,GAAG,IAAI,CAACrE,MAAM,CAACsE,uBAAuB,CAAC,CAAC;IACxH,IAAI,CAACvC,gBAAgB,CAAC,CAAC,CAACC,KAAK,CAACuC,gBAAgB,GAAG,KAAK;IACtD,IAAI,IAAI,CAACvE,MAAM,CAACqB,UAAU,EAAE;MACxB,IAAI,CAACrB,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC4E,YAAY,CAAC,CAAC1B,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACC,SAAS,GAAG,EAAE;MACtH,IAAI,CAACpE,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC6E,aAAa,CAAC,CAAC3B,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACC,SAAS,GAAG,EAAE;IAC3H;EACJ,CAAC;EACDtE,mBAAmB,CAAClB,SAAS,CAAC+F,sBAAsB,GAAG,UAAUR,KAAK,EAAE;IACpEpE,MAAM,CAACnB,SAAS,CAACsF,WAAW,CAAC/D,IAAI,CAAC,IAAI,EAAEgE,KAAK,CAAC;EAClD,CAAC;EACDrE,mBAAmB,CAAClB,SAAS,CAAC6E,gBAAgB,GAAG,UAAUmB,GAAG,EAAE;IAC5D,IAAI,CAAC5B,aAAa,GAAG4B,GAAG;EAC5B,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI9E,mBAAmB,CAAClB,SAAS,CAAC8E,iBAAiB,GAAG,UAAUkB,GAAG,EAAE;IAC7D,IAAI,CAAC1B,cAAc,GAAG0B,GAAG;EAC7B,CAAC;EACD9E,mBAAmB,CAAClB,SAAS,CAACmD,gBAAgB,GAAG,YAAY;IACzD,OAAO,IAAI,CAACiB,aAAa;EAC7B,CAAC;EACDlD,mBAAmB,CAAClB,SAAS,CAACsD,iBAAiB,GAAG,YAAY;IAC1D,OAAO,IAAI,CAACgB,cAAc;EAC9B,CAAC;EACDpD,mBAAmB,CAAClB,SAAS,CAACiG,iBAAiB,GAAG,YAAY;IAC1D,OAAO,IAAIvF,uBAAuB,CAAC,IAAI,CAACU,MAAM,CAAC;EACnD,CAAC;EACDF,mBAAmB,CAAClB,SAAS,CAACkG,sBAAsB,GAAG,YAAY;IAC/D/E,MAAM,CAACnB,SAAS,CAACmG,WAAW,CAAC5E,IAAI,CAAC,IAAI,CAAC;EAC3C,CAAC;EACDL,mBAAmB,CAAClB,SAAS,CAACmG,WAAW,GAAG,YAAY;IACpD,IAAIC,IAAI;IACR,IAAI,IAAI,CAACjD,gBAAgB,CAAC,CAAC,CAACgB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACoF,KAAK,CAAC,IAAI,IAAI,EAAE;MACrElF,MAAM,CAACnB,SAAS,CAACmG,WAAW,CAAC5E,IAAI,CAAC,IAAI,CAAC;MACvC,IAAI,CAAC4B,gBAAgB,CAAC,CAAC,CAACwB,WAAW,CAAC,IAAI,CAAC9B,QAAQ,CAAC,CAAC,CAAC;MACpDuD,IAAI,GAAG,IAAI,CAACvD,QAAQ,CAAC,CAAC,CAACyD,SAAS,CAAC,IAAI,CAAC;MACtC,IAAI,CAAChD,iBAAiB,CAAC,CAAC,CAACqB,WAAW,CAACyB,IAAI,CAAC;IAC9C,CAAC,MACI;MACD,IAAI,CAACG,QAAQ,CAAC,IAAI,CAACpD,gBAAgB,CAAC,CAAC,CAACgB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACoF,KAAK,CAAC,CAAC;MAC1E,IAAI,CAACG,WAAW,CAAC,IAAI,CAACpF,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACwF,UAAU,CAAC,CAACtC,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,CAACJ,SAAS,CAAC,IAAI,CAAC,CAAC;MAC/H,IAAI,CAACnD,gBAAgB,CAAC,CAAC,CAACgB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACoF,KAAK,CAAC,CAAC1B,WAAW,CAAC,IAAI,CAACgC,WAAW,CAAC,CAAC,CAAC;MAC3FP,IAAI,GAAG,IAAI,CAAC9C,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACoF,KAAK,CAAC;MACnE,IAAI,IAAI,CAACjF,MAAM,CAACqB,UAAU,EAAE;QACxB,IAAI,CAACrB,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAAClC,SAAS,CAAC0B,GAAG,CAAC,iBAAiB,CAAC;MACnE;IACJ;IACA,IAAI,IAAI,CAAC9B,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,EAAE;MAC3DxG,MAAM,CAAC,IAAI,CAACoD,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,CAAC;IACrE;IACA,IAAIA,QAAQ,GAAK,IAAI,CAACtF,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC6E,aAAa,CAAC,CAAC3B,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,CAAEJ,SAAS,CAAC,IAAI,CAAE;IAC9IF,IAAI,CAACQ,YAAY,CAACF,QAAQ,EAAEN,IAAI,CAACjC,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAAC;IAC/D,IAAInC,KAAK,GAAG,IAAI,CAAChC,MAAM,CAAC8D,oBAAoB,GAAG,EAAE,GAAG,MAAM;IAC1D,IAAI,CAACT,QAAQ,CAAC,CAAC,CAACzB,UAAU,CAACI,KAAK,CAACyD,OAAO,GAAGzD,KAAK;IAChD,IAAI,CAAC0D,yBAAyB,CAAC,2CAA2C,EAAE,IAAI,CAACC,mBAAmB,CAAC,CAAC,CAAC;EAC3G,CAAC;EACD7F,mBAAmB,CAAClB,SAAS,CAAC+G,mBAAmB,GAAG,YAAY;IAC5D,IAAIC,aAAa,GAAG,EAAE;IACtB,IAAK,IAAI,CAAC5F,MAAM,CAAC6F,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC7F,MAAM,CAACsE,uBAAuB,CAAC,CAAC,IACrE,IAAI,CAACtE,MAAM,CAAC8F,yBAAyB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC9F,MAAM,CAAC+F,yBAAyB,CAAC,CAAE,EAAE;MAC1FH,aAAa,GAAG,MAAM;IAC1B;IACA,OAAOA,aAAa;EACxB,CAAC;EACD9F,mBAAmB,CAAClB,SAAS,CAAC8G,yBAAyB,GAAG,UAAUtC,SAAS,EAAEqC,OAAO,EAAEO,OAAO,EAAE;IAC7F,IAAIC,IAAI,GAAG,IAAI,CAACjG,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAEA,SAAS;MAAE8C,MAAM,EAAE,UAAU,GAAGT;IAAQ,CAAC,CAAC;IACnG,IAAIU,OAAO,GAAG,IAAI,CAACnG,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAqB,CAAC,CAAC;IACnF,IAAIgD,KAAK,GAAG,IAAI,CAACpG,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAiB,CAAC,CAAC;IAC7E,IAAIiD,eAAe,GAAG5G,iBAAiB,CAAC,CAAC,CAACwC,QAAQ,CAAC,CAAC;IACpD,IAAI,CAACqE,kBAAkB,CAACH,OAAO,EAAEE,eAAe,CAAC;IACjD,IAAI,CAACC,kBAAkB,CAACF,KAAK,EAAEC,eAAe,CAAC;IAC/CF,OAAO,CAAC5C,WAAW,CAAC6C,KAAK,CAAC;IAC1B,IAAI,CAACG,eAAe,CAACN,IAAI,EAAEE,OAAO,EAAEH,OAAO,CAAC;EAChD,CAAC;EACD;EACAlG,mBAAmB,CAAClB,SAAS,CAAC2H,eAAe,GAAG,UAAUC,MAAM,EAAEL,OAAO,EAAEH,OAAO,EAAE;IAChF,IAAIhG,MAAM,GAAG,IAAI,CAACA,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;MAAEC,SAAS,EAAE,aAAa;MAAE8C,MAAM,EAAE;IAAgB,CAAC,CAAC;IACpGlG,MAAM,CAACuD,WAAW,CAACiD,MAAM,CAAC;IAC1BxG,MAAM,CAACuD,WAAW,CAAC4C,OAAO,CAAC;IAC3B,IAAI,CAACnG,MAAM,CAAC2B,UAAU,CAAC,CAAC,CAAC4B,WAAW,CAACvD,MAAM,CAAC;EAChD,CAAC;EACDF,mBAAmB,CAAClB,SAAS,CAAC0H,kBAAkB,GAAG,UAAU1B,GAAG,EAAEpD,MAAM,EAAE;IACtEoD,GAAG,CAAC5C,KAAK,CAACyE,SAAS,GAAGjF,MAAM,GAAG,IAAI;IACnCoD,GAAG,CAAC5C,KAAK,CAAC0E,SAAS,GAAGlF,MAAM,GAAG,IAAI;EACvC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI;EACA1B,mBAAmB,CAAClB,SAAS,CAAC+H,WAAW,GAAG,UAAUzF,IAAI,EAAE0F,SAAS,EAAE;IACnE1F,IAAI,CAAC2F,QAAQ,GAAG,CAAC3F,IAAI,CAAC2F,QAAQ;EAClC,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACI/G,mBAAmB,CAAClB,SAAS,CAACkI,QAAQ,GAAG,UAAUC,SAAS,EAAE7F,IAAI,EAAE;IAChE,IAAI0F,SAAS;IACb,IAAI5H,iBAAiB,CAAC+H,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;MAC1C,IAAI,CAAC9E,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACC,SAAS,GAAG,EAAE;IACzE;IACA,IAAI6C,IAAI,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;IAChC,IAAIE,GAAG,GAAGD,IAAI,CAACE,KAAK;IACpB,IAAIjI,WAAW,CAACgI,GAAG,CAAC,IAAI,IAAI,CAAClH,MAAM,CAACoH,aAAa,CAAC,CAAC,EAAE;MACjDH,IAAI,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC;MAC5BE,GAAG,GAAGD,IAAI,CAACE,KAAK;IACpB;IACA,IAAID,GAAG,KAAK,CAAC,EAAE;MACX,IAAI,CAAC7D,QAAQ,CAAC,CAAC,CAACzB,UAAU,CAACI,KAAK,CAACqF,SAAS,GAAG,QAAQ;MACrD,IAAI,IAAI,CAACrH,MAAM,CAACsH,0BAA0B,EAAE;QACxC,IAAI,CAACpF,iBAAiB,CAAC,CAAC,CAACF,KAAK,CAACqF,SAAS,GAAG,QAAQ;MACvD;IACJ;IACA,IAAI,IAAI,CAACrH,MAAM,CAACsH,0BAA0B,IAAIpG,IAAI,CAACqG,oBAAoB,IAChErG,IAAI,CAACkB,WAAW,KAAK,eAAe,IAAI,IAAI,CAACF,iBAAiB,CAAC,CAAC,CAACsF,UAAU,GAAG,CAAC,IAAItG,IAAI,CAACuG,WAAW,CAACC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;MAC/HR,GAAG,GAAG,IAAI,CAAClH,MAAM,CAAC6F,gBAAgB,CAAC,CAAC;IACxC;IACA,IAAIoB,IAAI,IAAIA,IAAI,CAACU,MAAM,EAAE;MACrBf,SAAS,GAAGK,IAAI,CAACU,MAAM,CAACC,kBAAkB,CAAC,CAAC;IAChD;IACA,IAAI,CAACC,MAAM,CAACX,GAAG,CAAC;IAChBhG,IAAI,CAAC0F,SAAS,GAAGA,SAAS;IAC1B,OAAOA,SAAS;EACpB,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI9G,mBAAmB,CAAClB,SAAS,CAACkJ,SAAS,GAAG,UAAUlB,SAAS,EAAE;IAC3D,IAAIA,SAAS,KAAK/G,QAAQ,CAACkI,UAAU,EAAE;MACnC,IAAI,CAACC,UAAU,GAAG,IAAI,CAACC,IAAI;MAC3B,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACC,WAAW;IAC7C,CAAC,MACI;MACD,IAAI,CAACC,WAAW,GAAG,IAAI,CAACH,IAAI;IAChC;EACJ,CAAC;EACD;AACJ;AACA;AACA;AACA;AACA;EACInI,mBAAmB,CAAClB,SAAS,CAACyJ,qBAAqB,GAAG,UAAUnH,IAAI,EAAE0F,SAAS,EAAE;IAC7E,IAAI0B,SAAS,GAAG,IAAI,CAACtI,MAAM,CAAC8D,oBAAoB;IAChD,IAAI8C,SAAS,KAAK/G,QAAQ,CAACkI,UAAU,EAAE;MACnC,IAAIO,SAAS,EAAE;QACXpH,IAAI,CAACqG,oBAAoB,GAAG,IAAI;MACpC;MACA,IAAI,CAACgB,kBAAkB,CAACtJ,MAAM,CAAC,CAAC,CAAC,EAAEiC,IAAI,CAAC,CAAC;IAC7C;EACJ,CAAC;EACDpB,mBAAmB,CAAClB,SAAS,CAAC4J,aAAa,GAAG,UAAUrE,KAAK,EAAEsE,IAAI,EAAEvH,IAAI,EAAE0F,SAAS,EAAE;IAClF,IAAI,IAAI,CAAC5G,MAAM,CAAC0I,OAAO,IAAI,CAAC1J,iBAAiB,CAAC,IAAI,CAACgB,MAAM,CAAC2I,WAAW,CAAC,EAAE;MACpExE,KAAK,GAAGsE,IAAI;IAChB,CAAC,MACI;MACDtE,KAAK,CAACZ,WAAW,CAACkF,IAAI,CAAC;IAC3B;IACA,IAAI7B,SAAS,KAAK/G,QAAQ,CAACkI,UAAU,EAAE;MACnC,IAAI,CAACa,QAAQ,GAAG,KAAK;MACrB,IAAI,CAAC7G,gBAAgB,CAAC,CAAC,CAACgB,aAAa,CAAC,OAAO,CAAC,CAACQ,WAAW,CAACY,KAAK,CAAC;IACrE,CAAC,MACI;MACD,IAAI,CAAC0E,YAAY,CAAC1E,KAAK,CAAC;MACxB,IAAI,CAACyE,QAAQ,GAAG,IAAI;MACpB,IAAI,CAAC1G,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAC,OAAO,CAAC,CAACQ,WAAW,CAACY,KAAK,CAAC;MAClE,IAAI,CAAC2E,aAAa,CAAC,CAAC;MACpB,IAAI,CAAC/H,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAACV,YAAY,CAACY,sBAAsB,CAAC,CAAC;IAC9C;IACA,IAAI,IAAI,CAACb,eAAe,EAAE;MACtB,IAAI,CAACJ,MAAM,CAAC+I,YAAY,CAACC,SAAS,CAAC,CAAC;MACpC,IAAI,CAAC5I,eAAe,GAAG,KAAK;IAChC;EACJ,CAAC;EACDN,mBAAmB,CAAClB,SAAS,CAACmC,mBAAmB,GAAG,YAAY;IAC5D,IAAI,IAAI,CAACf,MAAM,CAACwB,MAAM,KAAK,MAAM,EAAE;MAC/B,IAAIA,MAAM,GAAG,IAAI,CAACC,QAAQ,CAAC,CAAC,CAACC,YAAY,GAAG,CAAC;MAC7C,IAAI,CAACI,kBAAkB,CAACN,MAAM,CAAC;IACnC;IACA,IAAI,CAACxB,MAAM,CAACiJ,MAAM,CAAC1J,MAAM,CAAC2J,mBAAmB,EAAE,CAAC,CAAC,CAAC;EACtD,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIpJ,mBAAmB,CAAClB,SAAS,CAACuK,eAAe,GAAG,UAAUvC,SAAS,EAAE;IACjE,IAAIA,SAAS,KAAK/G,QAAQ,CAACkI,UAAU,EAAE;MACnC,OAAO,IAAI,CAAC/H,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC4E,YAAY,CAAC,CAAC1B,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IAClH,CAAC,MACI;MACD,OAAO,IAAI,CAACnE,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC6E,aAAa,CAAC,CAAC3B,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IACnH;EACJ,CAAC;EACDrE,mBAAmB,CAAClB,SAAS,CAACiK,YAAY,GAAG,UAAU1E,KAAK,EAAE;IAC1D,IAAIA,KAAK,CAACiF,iBAAiB,GAAG,CAAC,EAAE;MAC7BjF,KAAK,CAACZ,WAAW,CAAC,IAAI,CAACvD,MAAM,CAACmD,aAAa,CAAC,IAAI,CAAC,CAACI,WAAW,CAAC,IAAI,CAACvD,MAAM,CAACmD,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC;IACnG;EACJ,CAAC;EACDrD,mBAAmB,CAAClB,SAAS,CAACkK,aAAa,GAAG,YAAY;IACtD,IAAI,CAAC,IAAI,CAAC9I,MAAM,CAACqJ,aAAa,EAAE;MAC5B,IAAI,CAACrJ,MAAM,CAACiJ,MAAM,CAAC1J,MAAM,CAAC+J,YAAY,EAAE;QAAEC,IAAI,EAAE;MAAgB,CAAC,CAAC;IACtE;IACA,IAAI,CAACxH,gBAAgB,CAAC,CAAC,CAACC,KAAK,CAACuC,gBAAgB,GAAG,KAAK;EAC1D,CAAC;EACDzE,mBAAmB,CAAClB,SAAS,CAACiJ,MAAM,GAAG,UAAUX,GAAG,EAAE;IAClD,IAAI,CAACA,GAAG,GAAGA,GAAG;EAClB,CAAC;EACDpH,mBAAmB,CAAClB,SAAS,CAAC4K,MAAM,GAAG,YAAY;IAC/C,OAAO,IAAI,CAACtC,GAAG;EACnB,CAAC;EACD;AACJ;AACA;AACA;AACA;EACIpH,mBAAmB,CAAClB,SAAS,CAAC6K,QAAQ,GAAG,UAAU7C,SAAS,EAAE;IAC1D,IAAIA,SAAS,KAAK/G,QAAQ,CAACkI,UAAU,EAAE;MACnC,OAAO,IAAI,CAACtG,QAAQ,CAAC,CAAC,CAACsB,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IACxD,CAAC,MACI;MACD,OAAO,IAAI,CAACjC,iBAAiB,CAAC,CAAC,CAACa,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IACjE;EACJ,CAAC;EACD,OAAOrE,mBAAmB;AAC9B,CAAC,CAACT,aAAa,CAAE;AACjB,SAASS,mBAAmB;AAC5B,IAAI4J,YAAY,GAAG,aAAe,UAAU3J,MAAM,EAAE;EAChD/B,SAAS,CAAC0L,YAAY,EAAE3J,MAAM,CAAC;EAC/B,SAAS2J,YAAYA,CAAC1J,MAAM,EAAEC,OAAO,EAAE;IACnC,IAAIC,KAAK,GAAGH,MAAM,CAACI,IAAI,CAAC,IAAI,EAAEH,MAAM,EAAEC,OAAO,CAAC,IAAI,IAAI;IACtDC,KAAK,CAACK,gBAAgB,CAAC,CAAC;IACxB,OAAOL,KAAK;EAChB;EACAwJ,YAAY,CAAC9K,SAAS,CAAC2B,gBAAgB,GAAG,YAAY;IAClD,IAAI,CAACoJ,YAAY,GAAG,CAAC;MAAEC,KAAK,EAAErK,MAAM,CAAC+J,YAAY;MAAEO,OAAO,EAAE,IAAI,CAACC;IAAc,CAAC,EAC5E;MAAEF,KAAK,EAAErK,MAAM,CAACwK,YAAY;MAAEF,OAAO,EAAE,IAAI,CAACG;IAAgB,CAAC,EAC7D;MAAEJ,KAAK,EAAErK,MAAM,CAAC0K,QAAQ;MAAEJ,OAAO,EAAE,IAAI,CAACK;IAAkB,CAAC,CAAC;IAChEvK,sBAAsB,CAAC,IAAI,CAACK,MAAM,EAAE,IAAI,CAAC2J,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC;EACtE,CAAC;EACDD,YAAY,CAAC9K,SAAS,CAAC6D,mBAAmB,GAAG,YAAY;IACrD,IAAI,IAAI,CAACzC,MAAM,CAAC0C,WAAW,EAAE;MACzB;IACJ;IACA/C,sBAAsB,CAAC,IAAI,CAACK,MAAM,EAAE,IAAI,CAAC2J,YAAY,EAAE,KAAK,CAAC;EACjE,CAAC;EACDD,YAAY,CAAC9K,SAAS,CAACmG,WAAW,GAAG,YAAY;IAC7ChF,MAAM,CAACnB,SAAS,CAACmG,WAAW,CAAC5E,IAAI,CAAC,IAAI,CAAC;IACvC,IAAI,CAACgK,WAAW,CAAC,CAAC;IAClB,IAAI,CAACC,cAAc,CAAC,CAAC;IACrB,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACtK,MAAM,CAACiJ,MAAM,CAAC1J,MAAM,CAACgL,eAAe,EAAE;MAAEtC,IAAI,EAAE,IAAI,CAACA,IAAI;MAAE/G,IAAI,EAAE;QAAE2F,QAAQ,EAAE;MAAM;IAAE,CAAC,CAAC;EAC9F,CAAC;EACD6C,YAAY,CAAC9K,SAAS,CAACgE,WAAW,GAAG,YAAY;IAC7C,IAAIC,IAAI,GAAG,IAAI,CAAC7C,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC4E,YAAY,CAAC;IACzE,IAAIxB,IAAI,GAAG,IAAI,CAACjD,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC6E,aAAa,CAAC;IAC1E3E,MAAM,CAACnB,SAAS,CAACgE,WAAW,CAACzC,IAAI,CAAC,IAAI,CAAC;IACvC,IAAInB,iBAAiB,CAAC6D,IAAI,CAAC,EAAE;MACzBA,IAAI,GAAG,IAAI,CAAC7C,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;QAAEC,SAAS,EAAE;MAAsC,CAAC,CAAC;MAC7FH,IAAI,GAAG,IAAI,CAACjD,MAAM,CAACmD,aAAa,CAAC,KAAK,EAAE;QAAEC,SAAS,EAAEvD,QAAQ,CAAC6E;MAAc,CAAC,CAAC;MAC9E,IAAI,CAACrB,QAAQ,CAAC,CAAC,CAACN,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC2K,aAAa,CAAC,CAACjH,WAAW,CAACV,IAAI,CAAC;MAC7E,IAAI,CAACQ,QAAQ,CAAC,CAAC,CAACN,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC2K,aAAa,CAAC,CAACjH,WAAW,CAACN,IAAI,CAAC;IACjF;IACA,IAAI,CAACwH,eAAe,CAAC5H,IAAI,CAAC;IAC1B,IAAI,CAAC6H,gBAAgB,CAACzH,IAAI,CAAC;EAC/B,CAAC;EACDyG,YAAY,CAAC9K,SAAS,CAAC+L,sBAAsB,GAAG,YAAY;IACxD5K,MAAM,CAACnB,SAAS,CAACgE,WAAW,CAACzC,IAAI,CAAC,IAAI,CAAC;EAC3C,CAAC;EACDuJ,YAAY,CAAC9K,SAAS,CAACkG,sBAAsB,GAAG,YAAY;IACxD/E,MAAM,CAACnB,SAAS,CAACmG,WAAW,CAAC5E,IAAI,CAAC,IAAI,CAAC;EAC3C,CAAC;EACDuJ,YAAY,CAAC9K,SAAS,CAACgM,SAAS,GAAG,YAAY;IAC3C,IAAIzG,KAAK,GAAG,IAAI,CAAC0G,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IACjErF,MAAM,CAAC,IAAI,CAAC+L,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAC,OAAO,CAAC,CAAC;IACtDhD,MAAM,CAACnB,SAAS,CAACgM,SAAS,CAACzK,IAAI,CAAC,IAAI,CAAC;IACrC,IAAI,CAACgK,WAAW,CAAC,CAAC;IAClB,IAAI,CAACU,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC,CAACC,SAAS,GAAGD,KAAK,CAACC,SAAS;IACjF,IAAI,CAACgG,cAAc,CAAC,CAAC;IACrB,IAAI,CAAC/J,YAAY,CAACyK,iBAAiB,CAAC,CAAC;IACrC,IAAI,CAAC,IAAI,CAAC9K,MAAM,CAAC8D,oBAAoB,EAAE;MACnC,IAAI,CAACzD,YAAY,CAAC0K,eAAe,CAAC,CAAC;IACvC;IACA,IAAI,IAAI,CAAC/K,MAAM,CAACqJ,aAAa,IAAI,IAAI,CAACrJ,MAAM,CAACgL,gBAAgB,CAACC,QAAQ,KAAK,QAAQ,EAAE;MACjFvL,IAAI,CAAC,EAAE,CAACwL,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAACuE,aAAa,CAACyG,gBAAgB,CAAC,mBAAmB,CAAC,CAAC,EAAE,IAAI,CAAC;IACvF;IACA,IAAI,CAACnL,MAAM,CAACoL,mBAAmB,CAAC,CAAC;IACjC5L,aAAa,CAAC,IAAI,CAACQ,MAAM,CAACqL,eAAe,CAAC,CAAC,CAACtI,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,EAAE,IAAI,CAACtF,MAAM,CAAC6F,gBAAgB,CAAC,CAAC,EAAE,IAAI,CAAC7F,MAAM,CAAC;IAC1H,IAAI,CAACK,YAAY,CAACY,sBAAsB,CAAC,CAAC;IAC1C,IAAI,CAACoJ,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACrK,MAAM,CAACiJ,MAAM,CAAC1J,MAAM,CAACgL,eAAe,EAAE;MAAEtC,IAAI,EAAE,IAAI,CAACA,IAAI;MAAE/G,IAAI,EAAE;QAAE2F,QAAQ,EAAE;MAAM;IAAE,CAAC,CAAC;EAC9F,CAAC;EACD6C,YAAY,CAAC9K,SAAS,CAAC0M,mBAAmB,GAAG,YAAY;IACrDvL,MAAM,CAACnB,SAAS,CAACgM,SAAS,CAACzK,IAAI,CAAC,IAAI,CAAC;EACzC,CAAC;EACDuJ,YAAY,CAAC9K,SAAS,CAACuL,WAAW,GAAG,YAAY;IAC7C,IAAI,CAAChB,eAAe,CAAC,CAAC,CAAC5F,WAAW,CAAC,IAAI,CAAC9B,QAAQ,CAAC,CAAC,CAAC;IACnD,IAAI,CAACoJ,gBAAgB,CAAC,CAAC,CAACtH,WAAW,CAAC,IAAI,CAACgI,YAAY,CAACC,SAAS,EAAE,SAAS,CAAC,CAAC;IAC5E,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC7B,CAAC;EACDhC,YAAY,CAAC9K,SAAS,CAAC8M,kBAAkB,GAAG,YAAY;IACpD,IAAI,IAAI,CAAC1L,MAAM,CAACsE,uBAAuB,CAAC,CAAC,EAAE;MACvC,IAAIqH,gBAAgB,GAAG,EAAE,CAACT,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAACH,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC6E,aAAa,CAAC,CAAC3B,aAAa,CAAC,OAAO,CAAC,CAAC6I,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;MACrK,IAAIC,GAAG,GAAGF,gBAAgB,CAACG,MAAM;MACjC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;QAC1B,IAAI/E,KAAK,GAAG,OAAO;QACnB,IAAIlE,OAAO,GAAG6I,gBAAgB,CAACI,CAAC,CAAC,CAAC/E,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAIlE,OAAO,EAAE;UACT/D,QAAQ,CAAC,CAAC+D,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,CAAC;UACvC,IAAI6I,gBAAgB,CAACI,CAAC,CAAC,CAAC/E,KAAK,CAAC,CAAC,CAAC,CAAC,CAACgF,OAAO,GAAG,CAAC,EAAE;YAC3CD,CAAC,GAAGA,CAAC,IAAIJ,gBAAgB,CAACI,CAAC,CAAC,CAAC/E,KAAK,CAAC,CAAC,CAAC,CAAC,CAACgF,OAAO,GAAG,CAAC,CAAC;UACvD;QACJ;MACJ;IACJ;EACJ,CAAC;EACDtC,YAAY,CAAC9K,SAAS,CAACkL,aAAa,GAAG,UAAUmC,GAAG,EAAE;IAClD,IAAIA,GAAG,CAAC1C,IAAI,KAAK,QAAQ,EAAE;MACvB,IAAI2C,SAAS,GAAG,IAAI,CAACzK,QAAQ,CAAC,CAAC,CAACsB,aAAa,CAAC,cAAc,CAAC;MAC7D,IAAI,IAAI,CAAC/C,MAAM,CAACmM,cAAc,IAAID,SAAS,IAAI,IAAI,CAACrB,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAC,OAAO,CAAC,EAAE;QAC3F,IAAI,CAAC8H,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAC,OAAO,CAAC,CACzCQ,WAAW,CAAC,IAAI,CAAC6I,cAAc,CAACF,SAAS,EAAE,IAAI,CAAClM,MAAM,CAAC6F,gBAAgB,CAAC,CAAC,CAAC,CAAC;QAChF,IAAIwG,QAAQ,GAAG,EAAE,CAACnB,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAAC0K,gBAAgB,CAAC,CAAC,CAChDM,gBAAgB,CAAC,iCAAiC,CAAC,CAAC;QACxD,KAAK,IAAImB,EAAE,GAAG,CAAC,EAAEC,UAAU,GAAGF,QAAQ,EAAEC,EAAE,GAAGC,UAAU,CAACT,MAAM,EAAEQ,EAAE,EAAE,EAAE;UAClE,IAAIE,IAAI,GAAGD,UAAU,CAACD,EAAE,CAAC;UACzB,IAAIpL,IAAI,GAAG;YACP4B,OAAO,EAAE0J,IAAI;YAAEC,cAAc,EAAE,OAAO;YACtCC,UAAU,EAAE;cACRC,SAAS,EAAE,IAAI,CAAC3M,MAAM,CAAC2M,SAAS;cAAEC,eAAe,EAAE;YACvD;UACJ,CAAC;UACDhN,KAAK,CAACiN,gBAAgB,CAAC3L,IAAI,CAAC;QAChC;MACJ;IACJ,CAAC,MACI,IAAI+K,GAAG,CAAC1C,IAAI,KAAK,UAAU,IAAI0C,GAAG,CAAC1C,IAAI,KAAK,eAAe,EAAE;MAC9D,IAAI,CAACT,aAAa,CAACmD,GAAG,CAAC;MACvB,IAAI,CAACjM,MAAM,CAAC8M,aAAa,CAAC/L,mBAAmB,CAAC,CAAC;IACnD;EACJ,CAAC;EACD2I,YAAY,CAAC9K,SAAS,CAACkK,aAAa,GAAG,UAAUmD,GAAG,EAAE;IAClD,IAAIc,KAAK;IACT,IAAIC,KAAK;IACT,IAAIC,IAAI,GAAG,IAAI,CAAC9D,eAAe,CAAC,CAAC;IACjC,IAAI+D,IAAI,GAAG,IAAI,CAACrC,gBAAgB,CAAC,CAAC;IAClC,IAAIsC,IAAI,GAAG,IAAI,CAACnN,MAAM,CAAC2B,UAAU,CAAC,CAAC;IACnC,IAAIsJ,QAAQ,GAAG,IAAI,CAACjL,MAAM,CAACgL,gBAAgB,CAACC,QAAQ;IACpD,IAAImC,YAAY,GAAG,IAAI,CAACpN,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAAC2K,aAAa,CAAC,CAAClI,SAAS;IACvG,IAAI2J,GAAG,CAAC1C,IAAI,KAAK,UAAU,EAAE;MACzB,IAAI0B,QAAQ,KAAK,QAAQ,IAAIgB,GAAG,CAACoB,SAAS,EAAE;QACxCN,KAAK,GAAGI,IAAI,CAACpK,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACmD,aAAa,CAAC,CAACmI,gBAAgB,CAAC,IAAI,CAAC;QAC/E6B,KAAK,GAAGG,IAAI,CAACpK,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACqD,cAAc,CAAC,CAACiI,gBAAgB,CAAC,IAAI,CAAC;QAChF,IAAI,CAACmC,aAAa,CAACP,KAAK,EAAEC,KAAK,EAAEf,GAAG,CAACoB,SAAS,EAAE,IAAI,CAAC;MACzD;MACA,IAAIpC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAACjL,MAAM,CAACqJ,aAAa,EAAE;QACrD+D,YAAY,CAACpJ,GAAG,CAAC,QAAQ,CAAC;MAC9B,CAAC,MACI;QACDoJ,YAAY,CAACtO,MAAM,CAAC,QAAQ,CAAC;MACjC;MACA,IAAImM,QAAQ,KAAK,MAAM,IAAIgB,GAAG,CAACoB,SAAS,EAAE;QACtCN,KAAK,GAAGE,IAAI,CAAC9B,gBAAgB,CAAC,IAAI,CAAC;QACnC6B,KAAK,GAAGE,IAAI,CAAC/B,gBAAgB,CAAC,IAAI,CAAC;MACvC,CAAC,MACI;QACD6B,KAAK,GAAGE,IAAI,CAACnK,aAAa,CAACkI,QAAQ,KAAK,SAAS,GAC7CpL,QAAQ,CAACsE,KAAK,GAAG,OAAO,CAAC,CAACgH,gBAAgB,CAAC,IAAI,CAAC;QACpD4B,KAAK,GAAGE,IAAI,CAAClK,aAAa,CAACkI,QAAQ,KAAK,SAAS,GAC7CpL,QAAQ,CAACsE,KAAK,GAAG,OAAO,CAAC,CAACgH,gBAAgB,CAAC,IAAI,CAAC;MACxD;MACA,IAAI,CAAC,IAAI,CAACnL,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACoH,sBAAsB,CAAC,qBAAqB,CAAC,CAACE,MAAM,EAAE;QACtF,IAAI,CAACwB,aAAa,CAACP,KAAK,EAAEC,KAAK,EAAEf,GAAG,CAACoB,SAAS,EAAE,KAAK,EAAE,IAAI,CAACE,QAAQ,GAAG,CAAC,CAAC;MAC7E;MACA,IAAI,CAAC9B,oBAAoB,CAAC,CAAC;IAC/B,CAAC,MACI,IAAIQ,GAAG,CAAC1C,IAAI,KAAK,eAAe,EAAE;MACnC,IAAI,CAAC+D,aAAa,CAACH,IAAI,CAACpK,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACmD,aAAa,CAAC,CAACmI,gBAAgB,CAAC,IAAI,CAAC,EAAEgC,IAAI,CAACpK,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACqD,cAAc,CAAC,CAACiI,gBAAgB,CAAC,IAAI,CAAC,EAAEc,GAAG,CAACoB,SAAS,CAAC;MACpL,IAAI,CAAC,IAAI,CAACrN,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACoH,sBAAsB,CAAC,qBAAqB,CAAC,CAACE,MAAM,EAAE;QACtF,IAAI,CAACwB,aAAa,CAACL,IAAI,CAAC9B,gBAAgB,CAAC,IAAI,CAAC,EAAE+B,IAAI,CAAC/B,gBAAgB,CAAC,IAAI,CAAC,EAAEc,GAAG,CAACoB,SAAS,CAAC;MAC/F;IACJ;EACJ,CAAC;EACD3D,YAAY,CAAC9K,SAAS,CAACsL,iBAAiB,GAAG,UAAUsD,CAAC,EAAE;IACpD,IAAIA,CAAC,CAACC,MAAM,KAAK,QAAQ,EAAE;MACvB,IAAI,CAACzD,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACDN,YAAY,CAAC9K,SAAS,CAAC8O,mBAAmB,GAAG,YAAY;IACrD,IAAIrB,QAAQ,GAAG,EAAE,CAACnB,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAACH,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACoH,sBAAsB,CAAC,YAAY,CAAC,CAAC;IACjG,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGM,QAAQ,CAACP,MAAM,EAAEC,CAAC,EAAE,EAAE;MACtCM,QAAQ,CAACN,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAAG6K,QAAQ,CAACN,CAAC,CAAC,CAAC4B,aAAa,CAACjM,YAAY,GAAG,IAAI;IAC5E;EACJ,CAAC;EACDgI,YAAY,CAAC9K,SAAS,CAAC0O,aAAa,GAAG,UAAUP,KAAK,EAAEC,KAAK,EAAEK,SAAS,EAAEO,WAAW,EAAEC,YAAY,EAAE;IACjG,IAAIC,OAAO;IACX,IAAIC,OAAO;IACX,IAAIC,MAAM,GAAG,IAAI,CAAChO,MAAM,CAACqJ,aAAa;IACtC,IAAI4B,QAAQ,GAAG,IAAI,CAACjL,MAAM,CAACgL,gBAAgB,CAACC,QAAQ;IACpD,IAAIgD,KAAK,GAAG,IAAI,CAACjO,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAC,OAAO,CAAC;IACjE,IAAImL,KAAK,GAAG,IAAI,CAAClO,MAAM,CAACwE,gBAAgB,CAAC,CAAC,CAACzB,aAAa,CAAClD,QAAQ,CAACsE,KAAK,CAAC;IACxE,IAAI3C,MAAM,GAAG,EAAE;IACf,IAAI2M,KAAK,GAAG,EAAE;IACd,KAAK,IAAIpC,CAAC,GAAG,CAAC,EAAEF,GAAG,GAAGkB,KAAK,CAACjB,MAAM,EAAEC,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;MAAE;MAChD,IAAI,CAAC/M,iBAAiB,CAAC+N,KAAK,CAAChB,CAAC,CAAC,CAAC,IAAI,CAAC/M,iBAAiB,CAACgO,KAAK,CAACjB,CAAC,CAAC,CAAC,EAAE;QAC9DvK,MAAM,CAACuK,CAAC,CAAC,GAAGgB,KAAK,CAAChB,CAAC,CAAC,CAACqC,qBAAqB,CAAC,CAAC,CAAC5M,MAAM,CAAC,CAAC;QACrD2M,KAAK,CAACpC,CAAC,CAAC,GAAGiB,KAAK,CAACjB,CAAC,CAAC,CAACqC,qBAAqB,CAAC,CAAC,CAAC5M,MAAM;MACtD;IACJ;IACA,KAAK,IAAIuK,CAAC,GAAG,CAAC,EAAEF,GAAG,GAAGkB,KAAK,CAACjB,MAAM,EAAEC,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;MAC9C,IAAIsB,SAAS,KAAMpC,QAAQ,KAAK,QAAQ,IAAI2C,WAAW,IAAO3C,QAAQ,KAAK,SAAS,IAAIgD,KAAK,CAAC1L,QAAQ,CAACwK,KAAK,CAAChB,CAAC,CAAC,CAAC,IACxGd,QAAQ,KAAK,QAAQ,IAAIiD,KAAK,CAAC3L,QAAQ,CAACwK,KAAK,CAAChB,CAAC,CAAC,CAAG,CAAC,IAAI8B,YAAY,EAAE;QAC1Ed,KAAK,CAAChB,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAAG,IAAI;QAC5BwL,KAAK,CAACjB,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAAG,IAAI;MAChC;MACAsM,OAAO,GAAGtM,MAAM,CAACuK,CAAC,CAAC;MACnBgC,OAAO,GAAGI,KAAK,CAACpC,CAAC,CAAC;MAClB,IAAI,CAAC/M,iBAAiB,CAAC+N,KAAK,CAAChB,CAAC,CAAC,CAAC,IAAIgB,KAAK,CAAChB,CAAC,CAAC,CAAC3C,iBAAiB,KAAM4E,MAAM,IAAIF,OAAO,GAAGC,OAAO,IAC1F,CAACC,MAAM,IAAIF,OAAO,GAAGC,OAAQ,IAAK,IAAI,CAAC/N,MAAM,CAACqO,aAAa,IAAI,IAAI,CAACrO,MAAM,CAACsO,YAAY,IACxF,IAAI,CAACtO,MAAM,CAACsO,YAAY,CAACC,kBAAkB,KAAK,KAAM,CAAC,EAAE;QACzDxB,KAAK,CAAChB,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAAGuM,OAAO,GAAG,IAAI;MAC1C;MACA,IAAIf,KAAK,IAAI,CAAChO,iBAAiB,CAACgO,KAAK,CAACjB,CAAC,CAAC,CAAC,IAAIiB,KAAK,CAACjB,CAAC,CAAC,CAAC3C,iBAAiB,KAAM4E,MAAM,IAAIF,OAAO,GAAGC,OAAO,IACnG,CAACC,MAAM,IAAIF,OAAO,GAAGC,OAAQ,IAAK,IAAI,CAAC/N,MAAM,CAACqO,aAAa,IAAI,IAAI,CAACrO,MAAM,CAACsO,YAAY,IACxF,IAAI,CAACtO,MAAM,CAACsO,YAAY,CAACC,kBAAkB,KAAK,IAAK,CAAC,EAAE;QACxDvB,KAAK,CAACjB,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAAGsM,OAAO,GAAG,IAAI;MAC1C;IACJ;IACA,IAAIE,MAAM,IAAI,IAAI,CAAChO,MAAM,CAACwB,MAAM,KAAK,MAAM,EAAE;MACzC,IAAI,CAACwI,eAAe,CAAC,CAAC;IAC1B;EACJ,CAAC;EACDN,YAAY,CAAC9K,SAAS,CAACoL,eAAe,GAAG,UAAUxI,MAAM,EAAE;IACvD,IAAIA,MAAM,KAAK,KAAK,CAAC,EAAE;MAAEA,MAAM,GAAG/B,iBAAiB,CAAC,CAAC;IAAE;IACvD,IAAI+O,oBAAoB,GAAG,IAAI,CAACxO,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACqD,cAAc,CAAC,CAACkL,qBAAqB,CAAC,CAAC,CAAC5M,MAAM;IAC1H,IAAI0B,cAAc,GAAG,IAAI,CAAClD,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACqD,cAAc,CAAC;IACrF,IAAIF,aAAa,GAAG,IAAI,CAAChD,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,GAAG,GAAGlD,QAAQ,CAACmD,aAAa,CAAC;IACnF,IAAIyL,kBAAkB,GAAG,IAAI,CAACzO,MAAM,CAAC2B,UAAU,CAAC,CAAC,CAAC+M,WAAW;IAC7D,IAAIC,uBAAuB,GAAG,IAAI,CAAC3O,MAAM,CAAC8C,OAAO,CAACC,aAAa,CAAC,yBAAyB,CAAC,CAAC2L,WAAW,GAClG,IAAI,CAAC1O,MAAM,CAACqL,eAAe,CAAC,CAAC,CAACqD,WAAW;IAC7C,IAAIxL,cAAc,CAACwL,WAAW,GAAGxL,cAAc,CAAC0L,WAAW,EAAE;MACzD5L,aAAa,CAAChB,KAAK,CAACR,MAAM,GAAGgN,oBAAoB,GAC7ChN,MAAM,GAAG,IAAI;MACjBwB,aAAa,CAAChB,KAAK,CAAC6M,YAAY,GAAG,EAAE;IACzC,CAAC,MACI;MACD7L,aAAa,CAAChB,KAAK,CAACR,MAAM,GAAGgN,oBAAoB,GAAG,IAAI;MACxD,IAAI,CAAExL,aAAa,CAAC8L,YAAY,IAAI9L,aAAa,CAAC+L,YAAY,IACzD7L,cAAc,CAAC4L,YAAY,IAAI5L,cAAc,CAAC6L,YAAa,KACzDN,kBAAkB,KAAKE,uBAAuB,EAAE;QACnD,IAAI,CAAC3O,MAAM,CAAC+I,YAAY,CAACiG,aAAa,CAAC,CAAC;MAC5C;MACAhM,aAAa,CAAChB,KAAK,CAAC6M,YAAY,GAAG,KAAK;IAC5C;EACJ,CAAC;EACDnF,YAAY,CAAC9K,SAAS,CAAC6M,oBAAoB,GAAG,YAAY;IACtD,IAAIwD,QAAQ;IACZ,IAAIC,QAAQ;IACZ,IAAIC,GAAG,GAAG,EAAE,CAACjE,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAACgJ,eAAe,CAAC,CAAC,CAACyC,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;IACxF,IAAIwD,GAAG,GAAG,EAAE,CAAClE,KAAK,CAAC/K,IAAI,CAAC,IAAI,CAAC0K,gBAAgB,CAAC,CAAC,CAACe,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;IACzF,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEF,GAAG,GAAGsD,GAAG,CAACrD,MAAM,EAAEC,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;MAC5CkD,QAAQ,GAAG,IAAI,CAACI,UAAU,CAACF,GAAG,CAACpD,CAAC,CAAC,CAAC;MAClCmD,QAAQ,GAAG,IAAI,CAACG,UAAU,CAACD,GAAG,CAACrD,CAAC,CAAC,CAAC;MAClC,IAAIkD,QAAQ,CAACK,GAAG,GAAG,CAAC,EAAE;QAClB,IAAI,CAACC,sBAAsB,CAACxD,CAAC,EAAEkD,QAAQ,CAACO,GAAG,EAAEL,GAAG,CAACpD,CAAC,CAAC,EAAEqD,GAAG,CAAC;MAC7D,CAAC,MACI,IAAIF,QAAQ,CAACI,GAAG,GAAG,CAAC,EAAE;QACvB,IAAI,CAACC,sBAAsB,CAACxD,CAAC,EAAEmD,QAAQ,CAACM,GAAG,EAAEJ,GAAG,CAACrD,CAAC,CAAC,EAAEoD,GAAG,CAAC;MAC7D;IACJ;IACA,IAAI,IAAI,CAACnP,MAAM,CAACqO,aAAa,EAAE;MAC3B,IAAI,CAACX,mBAAmB,CAAC,CAAC;IAC9B;EACJ,CAAC;EACDhE,YAAY,CAAC9K,SAAS,CAACyQ,UAAU,GAAG,UAAUhN,GAAG,EAAE;IAC/C,IAAIoN,KAAK;IACT,IAAIC,UAAU;IACd,IAAIC,UAAU;IACd,KAAK,IAAI5D,CAAC,GAAG,CAAC,EAAEF,GAAG,GAAGxJ,GAAG,CAAC+G,iBAAiB,EAAE2C,CAAC,GAAGF,GAAG,EAAEE,CAAC,EAAE,EAAE;MACvD,IAAIA,CAAC,KAAK,CAAC,EAAE;QACT2D,UAAU,GAAGrN,GAAG,CAACuN,QAAQ,CAAC,CAAC,CAAC,CAAC5D,OAAO;MACxC;MACAyD,KAAK,GAAGpN,GAAG,CAACuN,QAAQ,CAAC7D,CAAC,CAAC,CAACC,OAAO;MAC/B0D,UAAU,GAAGG,IAAI,CAACP,GAAG,CAACG,KAAK,EAAEC,UAAU,CAAC;MACxCC,UAAU,GAAGE,IAAI,CAACL,GAAG,CAACC,KAAK,EAAEC,UAAU,CAAC;IAC5C;IACA,OAAO;MAAEJ,GAAG,EAAEI,UAAU;MAAEF,GAAG,EAAEG;IAAW,CAAC;EAC/C,CAAC;EACDjG,YAAY,CAAC9K,SAAS,CAAC2Q,sBAAsB,GAAG,UAAUrI,GAAG,EAAEyI,UAAU,EAAEtN,GAAG,EAAE4F,IAAI,EAAE;IAClF,IAAIzG,MAAM,GAAG,CAAC;IACd,KAAK,IAAIuK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4D,UAAU,EAAE5D,CAAC,EAAE,EAAE;MACjCvK,MAAM,IAAIyG,IAAI,CAACf,GAAG,GAAG6E,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,GAChCsO,QAAQ,CAAC7H,IAAI,CAACf,GAAG,GAAG6E,CAAC,CAAC,CAAC/J,KAAK,CAACR,MAAM,EAAE,EAAE,CAAC,GAAGyG,IAAI,CAACf,GAAG,GAAG6E,CAAC,CAAC,CAACrK,YAAY;IAC7E;IACAW,GAAG,CAACL,KAAK,CAACR,MAAM,GAAGA,MAAM,GAAG,IAAI;EACpC,CAAC;EACDkI,YAAY,CAAC9K,SAAS,CAAC6L,eAAe,GAAG,UAAU7F,GAAG,EAAE;IACpD,IAAI,CAACH,YAAY,GAAGG,GAAG;EAC3B,CAAC;EACD;AACJ;AACA;AACA;AACA;EACI8E,YAAY,CAAC9K,SAAS,CAAC8L,gBAAgB,GAAG,UAAU9F,GAAG,EAAE;IACrD,IAAI,CAACF,aAAa,GAAGE,GAAG;EAC5B,CAAC;EACD8E,YAAY,CAAC9K,SAAS,CAACuK,eAAe,GAAG,YAAY;IACjD,OAAO,IAAI,CAAC1E,YAAY;EAC5B,CAAC;EACDiF,YAAY,CAAC9K,SAAS,CAACiM,gBAAgB,GAAG,YAAY;IAClD,OAAO,IAAI,CAACnG,aAAa;EAC7B,CAAC;EACD;AACJ;AACA;AACA;EACIgF,YAAY,CAAC9K,SAAS,CAACwL,cAAc,GAAG,YAAY;IAChD,IAAI2F,MAAM,GAAG,IAAI,CAAClF,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAC,OAAO,CAAC;IAC3DjE,MAAM,CAAC,IAAI,CAAC+L,gBAAgB,CAAC,CAAC,CAAC9H,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,CAAC;IAChEyK,MAAM,CAACvK,YAAY,CAAChG,aAAa,CAAC,IAAI,CAAC2J,eAAe,CAAC,CAAC,CAACpG,aAAa,CAAClD,QAAQ,CAACyF,QAAQ,CAAC,EAAE,IAAI,CAACtF,MAAM,CAAC6F,gBAAgB,CAAC,CAAC,EAAE,IAAI,CAAC7F,MAAM,CAAC,EAAE+P,MAAM,CAAChN,aAAa,CAAC,OAAO,CAAC,CAAC;EAC3K,CAAC;EACD2G,YAAY,CAAC9K,SAAS,CAACwN,cAAc,GAAG,UAAUxH,GAAG,EAAEoL,YAAY,EAAEC,KAAK,EAAE;IACxE,IAAIC,KAAK,GAAGtL,GAAG,CAACM,SAAS,CAAC,IAAI,CAAC;IAC/BgL,KAAK,CAAC9L,SAAS,GAAG,EAAE;IACpB,IAAI+L,GAAG,GAAGF,KAAK,GAAGA,KAAK,GAAG,IAAI,CAACjQ,MAAM,CAACoQ,UAAU,CAAC,CAAC,CAACtE,MAAM;IACzD,KAAK,IAAIC,CAAC,GAAGiE,YAAY,EAAEjE,CAAC,GAAGoE,GAAG,EAAEpE,CAAC,EAAE,EAAE;MACrCmE,KAAK,CAAC3M,WAAW,CAACqB,GAAG,CAACyL,WAAW,CAACzL,GAAG,CAACgL,QAAQ,CAACI,YAAY,CAAC,CAAC,CAAC;IAClE;IACA,OAAOE,KAAK;EAChB,CAAC;EACD,OAAOxG,YAAY;AACvB,CAAC,CAACtK,YAAY,CAAE;AAChB,SAASsK,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}